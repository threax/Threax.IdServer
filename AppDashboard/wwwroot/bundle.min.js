/*! jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
var __extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__exportStar,__values,__read,__spread,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject;!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function ir(n,t){t=t||u;var i=t.createElement("script");i.text=n;t.head.appendChild(i).parentNode.removeChild(i)}function fi(n){var t=!!n&&"length"in n&&n.length,r=i.type(n);return"function"!==r&&!i.isWindow(n)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n)}function l(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function oi(n,t,r){return i.isFunction(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):"string"!=typeof t?i.grep(n,function(n){return ot.call(t,n)>-1!==r}):er.test(t)?i.filter(t,n,r):(t=i.filter(t,n),i.grep(n,function(n){return ot.call(t,n)>-1!==r&&1===n.nodeType}))}function ar(n,t){while((n=n[t])&&1!==n.nodeType);return n}function ne(n){var t={};return i.each(n.match(h)||[],function(n,i){t[i]=!0}),t}function nt(n){return n}function pt(n){throw n;}function vr(n,t,r,u){var f;try{n&&i.isFunction(f=n.promise)?f.call(n).done(t).fail(r):n&&i.isFunction(f=n.then)?f.call(n,t,r):t.apply(void 0,[n].slice(u))}catch(n){r.apply(void 0,[n])}}function bt(){u.removeEventListener("DOMContentLoaded",bt);n.removeEventListener("load",bt);i.ready()}function ht(){this.expando=i.expando+ht.uid++}function re(n){return"true"===n||"false"!==n&&("null"===n?null:n===+n+""?+n:te.test(n)?JSON.parse(n):n)}function pr(n,t,i){var r;if(void 0===i&&1===n.nodeType)if(r="data-"+t.replace(ie,"-$&").toLowerCase(),i=n.getAttribute(r),"string"==typeof i){try{i=re(i)}catch(u){}e.set(n,t,i)}else i=void 0;return i}function kr(n,t,r,u){var h,e=1,l=20,c=u?function(){return u.cur()}:function(){return i.css(n,t,"")},s=c(),o=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==o&&+s)&&ct.exec(i.css(n,t));if(f&&f[3]!==o){o=o||f[3];r=r||[];f=+s||1;do e=e||".5",f/=e,i.style(n,t,f+o);while(e!==(e=c()/s)&&1!==e&&--l)}return r&&(f=+f||+s||0,h=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=o,u.start=f,u.end=h)),h}function ue(n){var r,f=n.ownerDocument,u=n.nodeName,t=si[u];return t?t:(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),"none"===t&&(t="block"),si[u]=t,t)}function tt(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)u=n[i],u.style&&(e=u.style.display,t?("none"===e&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),""===u.style.display&&kt(u)&&(f[i]=ue(u))):"none"!==e&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)null!=f[i]&&(n[i].style.display=f[i]);return n}function o(n,t){var r;return r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[],void 0===t||t&&l(n,t)?i.merge([n],r):r}function hi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function iu(n,t,r,u,f){for(var e,s,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if(e=n[l],e||0===e)if("object"===i.type(e))i.merge(y,e.nodeType?[e]:e);else if(tu.test(e)){for(s=s||h.appendChild(t.createElement("div")),p=(gr.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,s.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)s=s.lastChild;i.merge(y,s.childNodes);s=h.firstChild;s.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];)if(u&&i.inArray(e,u)>-1)f&&f.push(e);else if(w=i.contains(e.ownerDocument,e),s=o(h.appendChild(e),"script"),w&&hi(s),r)for(v=0;e=s[v++];)nu.test(e.type||"")&&r.push(e);return h}function gt(){return!0}function it(){return!1}function uu(){try{return u.activeElement}catch(n){}}function ci(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)ci(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),f===!1)f=it;else if(!f)return n;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function fu(n,t){return l(n,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")?i(">tbody",n)[0]||n:n}function ae(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function ve(n){var t=ce.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function eu(n,t){var u,c,f,s,h,l,a,o;if(1===t.nodeType){if(r.hasData(n)&&(s=r.access(n),h=r.set(t,s),o=s.events)){delete h.handle;h.events={};for(f in o)for(u=0,c=o[f].length;u<c;u++)i.event.add(t,f,o[f][u])}e.hasData(n)&&(l=e.access(n),a=i.extend({},l),e.set(t,a))}}function ye(n,t){var i=t.nodeName.toLowerCase();"input"===i&&dr.test(n.type)?t.checked=n.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=n.defaultValue)}function rt(n,t,u,e){t=gi.apply([],t);var l,p,c,a,s,w,h=0,v=n.length,k=v-1,y=t[0],b=i.isFunction(y);if(b||v>1&&"string"==typeof y&&!f.checkClone&&he.test(y))return n.each(function(i){var r=n.eq(i);b&&(t[0]=y.call(this,i,r.html()));rt(r,t,u,e)});if(v&&(l=iu(t,n[0].ownerDocument,!1,n,e),p=l.firstChild,1===l.childNodes.length&&(l=p),p||e)){for(c=i.map(o(l,"script"),ae),a=c.length;h<v;h++)s=l,h!==k&&(s=i.clone(s,!0,!0),a&&i.merge(c,o(s,"script"))),u.call(n[h],s,h);if(a)for(w=c[c.length-1].ownerDocument,i.map(c,ve),h=0;h<a;h++)s=c[h],nu.test(s.type||"")&&!r.access(s,"globalEval")&&i.contains(w,s)&&(s.src?i._evalUrl&&i._evalUrl(s.src):ir(s.textContent.replace(le,""),w))}return n}function ou(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(o(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&hi(o(u,"script")),u.parentNode.removeChild(u));return n}function lt(n,t,r){var o,s,h,u,e=n.style;return r=r||ni(n),r&&(u=r.getPropertyValue(t)||r[t],""!==u||i.contains(n.ownerDocument,n)||(u=i.style(n,t)),!f.pixelMarginRight()&&li.test(u)&&su.test(t)&&(o=e.width,s=e.minWidth,h=e.maxWidth,e.minWidth=e.maxWidth=e.width=u,u=r.width,e.width=o,e.minWidth=s,e.maxWidth=h)),void 0!==u?u+"":u}function hu(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function be(n){if(n in vu)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=au.length;t--;)if(n=au[t]+i,n in vu)return n}function yu(n){var t=i.cssProps[n];return t||(t=i.cssProps[n]=be(n)||n),t}function pu(n,t,i){var r=ct.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function wu(n,t,r,u,f){for(var o=0,e=r===(u?"border":"content")?4:"width"===t?1:0;e<4;e+=2)"margin"===r&&(o+=i.css(n,r+b[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+b[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+b[e]+"Width",!0,f))):(o+=i.css(n,"padding"+b[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+b[e]+"Width",!0,f)));return o}function bu(n,t,r){var o,e=ni(n),u=lt(n,t,e),s="border-box"===i.css(n,"boxSizing",!1,e);return li.test(u)?u:(o=s&&(f.boxSizingReliable()||u===n.style[t]),"auto"===u&&(u=n["offset"+t[0].toUpperCase()+t.slice(1)]),u=parseFloat(u)||0,u+wu(n,t,r||(s?"border":"content"),o,e)+"px")}function s(n,t,i,r,u){return new s.prototype.init(n,t,i,r,u)}function ai(){ti&&(u.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(ai):n.setTimeout(ai,i.fx.interval),i.fx.tick())}function gu(){return n.setTimeout(function(){ut=void 0}),ut=i.now()}function ii(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=b[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function nf(n,t,i){for(var u,f=(a.tweeners[t]||[]).concat(a.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function ke(n,t,u){var f,y,w,c,b,s,o,l,k="width"in t||"height"in t,v=this,p={},h=n.style,a=n.nodeType&&kt(n),e=r.get(n,"fxshow");u.queue||(c=i._queueHooks(n,"fx"),null==c.unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],ku.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if(s=!i.isEmptyObject(t),s||!i.isEmptyObject(p)){k&&1===n.nodeType&&(u.overflow=[h.overflow,h.overflowX,h.overflowY],o=e&&e.display,null==o&&(o=r.get(n,"display")),l=i.css(n,"display"),"none"===l&&(o?l=o:(tt([n],!0),o=n.style.display||o,l=i.css(n,"display"),tt([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(s||(v.done(function(){h.display=o}),null==o&&(l=h.display,o="none"===l?"":l)),h.display="inline-block"));u.overflow&&(h.overflow="hidden",v.always(function(){h.overflow=u.overflow[0];h.overflowX=u.overflow[1];h.overflowY=u.overflow[2]}));s=!1;for(f in p)s||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&tt([n],!0),v.done(function(){a||tt([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),s=nf(a?e[f]:0,f,v),f in e||(e[f]=s.start,a&&(s.end=s.start,s.start=0))}}function de(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function a(n,t,r){var e,o,s=0,l=a.prefilters.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=ut||gu(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(e||f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:ut||gu(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?(f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u,t])):f.rejectWith(n,[u,t]),this}}),h=u.props;for(de(h,u.opts.specialEasing);s<l;s++)if(e=a.prefilters[s].call(u,n,h,u.opts))return i.isFunction(e.stop)&&(i._queueHooks(u.elem,u.opts.queue).stop=i.proxy(e.stop,e)),e;return i.map(h,nf,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u}function k(n){var t=n.match(h)||[];return t.join(" ")}function d(n){return n.getAttribute&&n.getAttribute("class")||""}function pi(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||ge.test(n)?u(n,i):pi(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)pi(n+"["+f+"]",t[f],r,u)}function cf(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(h)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function lf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===wi;return e(t.dataTypes[0])||!f["*"]&&e("*")}function ki(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function so(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ho(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var p=[],u=n.document,pf=Object.getPrototypeOf,w=p.slice,gi=p.concat,ui=p.push,ot=p.indexOf,vt={},nr=vt.toString,yt=vt.hasOwnProperty,tr=yt.toString,wf=tr.call(Object),f={},rr="3.2.1",i=function(n,t){return new i.fn.init(n,t)},bf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,kf=/^-ms-/,df=/-([a-z])/g,gf=function(n,t){return t.toUpperCase()},y,ei,er,or,sr,hr,cr,lr,h,yr,wt,v,st,si,tu,ut,ti,ku,du,tf,ft,rf,uf,ff,vi,af,et,di,ri,vf,yf;i.fn=i.prototype={jquery:rr,constructor:i,length:0,toArray:function(){return w.call(this)},get:function(n){return null==n?w.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(w.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:ui,sort:p.sort,splice:p.splice};i.extend=i.fn.extend=function(){var e,f,r,t,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);u<c;u++)if(null!=(e=arguments[u]))for(f in e)r=n[f],t=e[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(o?(o=!1,s=r&&Array.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(rr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isWindow:function(n){return null!=n&&n===n.window},isNumeric:function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},isPlainObject:function(n){var t,i;return!(!n||"[object Object]"!==nr.call(n))&&(!(t=pf(n))||(i=yt.call(t,"constructor")&&t.constructor,"function"==typeof i&&tr.call(i)===wf))},isEmptyObject:function(n){for(var t in n)return!1;return!0},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?vt[nr.call(n)]||"object":typeof n},globalEval:function(n){ir(n)},camelCase:function(n){return n.replace(kf,"ms-").replace(df,gf)},each:function(n,t){var r,i=0;if(fi(n)){for(r=n.length;i<r;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(bf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(fi(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ui.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:ot.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(fi(n))for(e=n.length;r<e;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return gi.apply([],f)},guid:1,proxy:function(n,t){var u,f,r;if("string"==typeof t&&(u=n[t],t=n,n=u),i.isFunction(n))return f=w.call(arguments,2),r=function(){return n.apply(t||this,f.concat(w.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r},now:Date.now,support:f});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=p[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){vt["[object "+t+"]"]=t.toLowerCase()});y=function(n){function u(n,t,r,u){var s,w,l,a,d,y,g,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(11!==v&&(d=cr.exec(n)))if(s=d[1]){if(9===v){if(!(l=t.getElementById(s)))return r;if(l.id===s)return r.push(l),r}else if(p&&(l=p.getElementById(s))&&et(t,l)&&l.id===s)return r.push(l),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=d[3])&&e.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(e.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)p=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(vi,yi):t.setAttribute("id",a=f),y=ft(n),w=y.length;w--;)y[w]="#"+a+" "+yt(y[w]);g=y.join(",");p=ni.test(n)&&ri(t.parentNode)||t}if(g)try{return k.apply(r,p.querySelectorAll(g)),r}catch(nt){}finally{a===f&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ti(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[f]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function vr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function bi(n){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&lr(t)===n:t.disabled===n:"label"in t&&t.disabled===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function ki(){}function yt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function pt(n,t,i){var r=t.dir,u=t.next,e=u||r,o=i&&"parentNode"===e,s=di++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,h))return!0}else while(t=t[r])if(1===t.nodeType||o)if(a=t[f]||(t[f]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[e])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[e]=y,y[2]=n(t,i,h))return!0}return!1}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||yr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:wt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=pt(function(n){return n===o},c,!0),a=pt(function(n){return nt(o,n)>-1},c,!0),e=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])e=[pt(ui(e),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[f]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(e),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&yt(n))}e.push(u)}return ui(e)}function pr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=nr.call(l));w=wt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,e,t,st,oi,ft,bt,si,ht,w,ut,b,i,s,h,o,d,ct,et,f="sizzle"+1*new Date,c=n.document,v=0,di=0,hi=ti(),ci=ti(),lt=ti(),kt=function(n,t){return n===t&&(ut=!0),0},gi={}.hasOwnProperty,g=[],nr=g.pop,tr=g.push,k=g.push,li=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},dt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ai="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",gt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ai+")*)|.*)\\)|)",ir=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),rr=new RegExp("^"+r+"*,"+r+"*"),ur=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),fr=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),er=new RegExp(gt),or=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+ai),PSEUDO:new RegExp("^"+gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+dt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,cr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ni=/[+~]/,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},vi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,yi=function(n,t){return t?"\0"===n?"ï¿½":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},pi=function(){b()},lr=pt(function(n){return n.disabled===!0&&("form"in n||"label"in n)},{dir:"parentNode",next:"legend"});try{k.apply(g=li.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(wr){k={apply:g.length?function(n,t){tr.apply(n,li.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}e=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return!!t&&"HTML"!==t.nodeName};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,h=!oi(i),c!==i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),e.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=ot.test(i.getElementsByClassName),e.getById=a(function(n){return s.appendChild(n).id=f,!i.getElementsByName||!i.getElementsByName(f).length}),e.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i,u,f,r=t.getElementById(n);if(r){if(i=r.getAttributeNode("id"),i&&i.value===n)return[r];for(f=t.getElementsByName(n),u=0;r=f[u++];)if(i=r.getAttributeNode("id"),i&&i.value===n)return[r]}return[]}}),t.find.TAG=e.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):e.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=e.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(e.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+f+"'><\/a><select id='"+f+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+dt+")");n.querySelectorAll("[id~="+f+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+f+"+*").length||o.push(".#.+[+~]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");2!==n.querySelectorAll(":enabled").length&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(e.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){e.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",gt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&r||!e.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(fr,"='$1']"),e.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||e.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(f){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var f=t.attrHandle[r.toLowerCase()],u=f&&gi.call(t.attrHandle,r.toLowerCase())?f(n,r,!h):void 0;return void 0!==u?u:e.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(vi,yi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!e.detectDuplicates,w=!e.sortStable&&n.slice(0),n.sort(kt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&er.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:!t||(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(ir," ")+" ").indexOf(i)>-1:"|="===t&&(f===i||f.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=e&&t.nodeName.toLowerCase(),g=!h&&!e,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(e?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;b=k="only"===n&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(1===c.nodeType&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((e?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&(y=c[f]||(c[f]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var e,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[f]?r(i):r.length>1?(e=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,e)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=bt(n.replace(at,"$1"));return i[f]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return or.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:bi(!1),disabled:bi(!0),checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=ar(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=vr(rt);return ki.prototype=t.filters=t.pseudos,t.setFilters=new ki,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=rr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=ur.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},bt=u.compile=function(n,t){var r,u=[],e=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=lt(n,pr(e,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var o,f,e,l,a,c="function"==typeof n&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],1===s.length){if(f=s[0]=s[0].slice(0),f.length>2&&"ID"===(e=f[0]).type&&9===i.nodeType&&h&&t.relative[f[1].type]){if(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0],!i)return r;c&&(i=i.parentNode);n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ni.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),n=u.length&&yt(f),!n)return k.apply(r,u),r;break}}}return(c||bt(n,s))(u,i,!h,r,!i||ni.test(n)&&ri(i.parentNode)||i),r},e.sortStable=f.split("").sort(kt).join("")===f,e.detectDuplicates=!!ut,b(),e.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("fieldset"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),e.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ii("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ii(dt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=y;i.expr=y.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=y.uniqueSort;i.text=y.getText;i.isXMLDoc=y.isXML;i.contains=y.contains;i.escapeSelector=y.escape;var g=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},ur=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},fr=i.expr.match.needsContext;ei=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;er=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(oi(this,n||[],!1))},not:function(n){return this.pushStack(oi(this,n||[],!0))},is:function(n){return!!oi(this,"string"==typeof n&&fr.test(n)?i(n):n||[],!1).length}});sr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;hr=i.fn.init=function(n,t,r){var f,e;if(!n)return this;if(r=r||or,"string"==typeof n){if(f="<"===n[0]&&">"===n[n.length-1]&&n.length>=3?[null,n,null]:sr.exec(n),!f||!f[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(f[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(f[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),ei.test(f[1])&&i.isPlainObject(t))for(f in t)i.isFunction(this[f])?this[f](t[f]):this.attr(f,t[f]);return this}return e=u.getElementById(f[2]),e&&(this[0]=e,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):i.isFunction(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)};hr.prototype=i.fn;or=i(u);cr=/^(?:parents|prev(?:Until|All))/;lr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!fr.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?ot.call(i(n),this[0]):ot.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return g(n,"parentNode")},parentsUntil:function(n,t,i){return g(n,"parentNode",i)},next:function(n){return ar(n,"nextSibling")},prev:function(n){return ar(n,"previousSibling")},nextAll:function(n){return g(n,"nextSibling")},prevAll:function(n){return g(n,"previousSibling")},nextUntil:function(n,t,i){return g(n,"nextSibling",i)},prevUntil:function(n,t,i){return g(n,"previousSibling",i)},siblings:function(n){return ur((n.parentNode||{}).firstChild,n)},children:function(n){return ur(n.firstChild)},contents:function(n){return l(n,"iframe")?n.contentDocument:(l(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(lr[n]||i.uniqueSort(f),cr.test(n)&&f.reverse()),this.pushStack(f)}});h=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n="string"==typeof n?ne(n):i.extend({},n);var e,r,h,u,t=[],o=[],f=-1,c=function(){for(u=u||n.once,h=e=!0;o.length;f=-1)for(r=o.shift();++f<t.length;)t[f].apply(r[0],r[1])===!1&&n.stopOnFalse&&(f=t.length,r=!1);n.memory||(r=!1);e=!1;u&&(t=r?[]:"")},s={add:function(){return t&&(r&&!e&&(f=t.length-1,o.push(r)),function u(r){i.each(r,function(r,f){i.isFunction(f)?n.unique&&s.has(f)||t.push(f):f&&f.length&&"string"!==i.type(f)&&u(f)})}(arguments),r&&!e&&c()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=f&&f--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return u=o=[],t=r="",this},disabled:function(){return!t},lock:function(){return u=o=[],r||e||(t=r=""),this},locked:function(){return!!u},fireWith:function(n,t){return u||(t=t||[],t=[n,t.slice?t.slice():t],o.push(t),e||c()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(t){var u=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],e="pending",f={state:function(){return e},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return f.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(u,function(u,f){var e=i.isFunction(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,f){function o(t,r,u,f){return function(){var s=this,h=arguments,l=function(){var n,c;if(!(t<e)){if(n=u.apply(s,h),n===r.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then;i.isFunction(c)?f?c.call(n,o(e,r,nt,f),o(e,r,pt,f)):(e++,c.call(n,o(e,r,nt,f),o(e,r,pt,f),o(e,r,nt,r.notifyWith))):(u!==nt&&(s=void 0,h=[n]),(f||r.resolveWith)(s,h))}},c=f?l:function(){try{l()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,c.stackTrace);t+1>=e&&(u!==pt&&(s=void 0,h=[n]),r.rejectWith(s,h))}};t?c():(i.Deferred.getStackHook&&(c.stackTrace=i.Deferred.getStackHook()),n.setTimeout(c))}}var e=0;return i.Deferred(function(n){u[0][3].add(o(0,n,i.isFunction(f)?f:nt,n.notifyWith));u[1][3].add(o(0,n,i.isFunction(t)?t:nt));u[2][3].add(o(0,n,i.isFunction(r)?r:pt))}).promise()},promise:function(n){return null!=n?i.extend(n,f):f}},r={};return i.each(u,function(n,t){var i=t[2],o=t[5];f[t[1]]=i.add;o&&i.add(function(){e=o},u[3-n][2].disable,u[0][2].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),f.promise(r),t&&t.call(r,r),r},when:function(n){var f=arguments.length,t=f,e=Array(t),u=w.call(arguments),r=i.Deferred(),o=function(n){return function(t){e[n]=this;u[n]=arguments.length>1?w.call(arguments):t;--f||r.resolveWith(e,u)}};if(f<=1&&(vr(n,r.done(o(t)).resolve,r.reject,!f),"pending"===r.state()||i.isFunction(u[t]&&u[t].then)))return r.then();while(t--)vr(u[t],o(t),r.reject);return r.promise()}});yr=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&yr.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};wt=i.Deferred();i.fn.ready=function(n){return wt.then(n)["catch"](function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||wt.resolveWith(u,[i]))}});i.ready.then=wt.then;"complete"===u.readyState||"loading"!==u.readyState&&!u.documentElement.doScroll?n.setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",bt),n.addEventListener("load",bt));v=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)v(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;s<c;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e};st=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};ht.uid=1;ht.prototype={cache:function(n){var t=n[this.expando];return t||(t={},st(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,r){var u,f=this.cache(n);if("string"==typeof t)f[i.camelCase(t)]=r;else for(u in t)f[i.camelCase(u)]=t[u];return f},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][i.camelCase(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(Array.isArray(t)?t=t.map(i.camelCase):(t=i.camelCase(t),t=(t in r)?[t]:t.match(h)||[]),u=t.length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new ht,e=new ht,te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ie=/[A-Z]/g;i.extend({hasData:function(n){return e.hasData(n)||r.hasData(n)},data:function(n,t,i){return e.access(n,t,i)},removeData:function(n,t){e.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var o,f,s,u=this[0],h=u&&u.attributes;if(void 0===n){if(this.length&&(s=e.get(u),1===u.nodeType&&!r.get(u,"hasDataAttrs"))){for(o=h.length;o--;)h[o]&&(f=h[o].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),pr(u,f,s[f])));r.set(u,"hasDataAttrs",!0)}return s}return"object"==typeof n?this.each(function(){e.set(this,n)}):v(this,function(t){var i;if(u&&void 0===t){if((i=e.get(u,n),void 0!==i)||(i=pr(u,n),void 0!==i))return i}else this.each(function(){e.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){e.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var wr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=new RegExp("^(?:([+-])=|)("+wr+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],kt=function(n,t){return n=t||n,"none"===n.style.display||""===n.style.display&&i.contains(n.ownerDocument,n)&&"none"===i.css(n,"display")},br=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f};si={};i.fn.extend({show:function(){return tt(this,!0)},hide:function(){return tt(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){kt(this)?i(this).show():i(this).hide()})}});var dr=/^(?:checkbox|radio)$/i,gr=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,nu=/^$|\/(?:java|ecma)script/i,c={option:[1,"<select multiple='multiple'>","<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;tu=/<|&#?\w+;/;!function(){var i=u.createDocumentFragment(),n=i.appendChild(u.createElement("div")),t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);f.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue}();var dt=u.documentElement,fe=/^key/,ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ru=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var v,y,w,p,b,c,s,l,o,k,d,a=r.get(n);if(a)for(u.handler&&(v=u,u=v.handler,e=v.selector),e&&i.find.matchesSelector(dt,e),u.guid||(u.guid=i.guid++),(p=a.events)||(p=a.events={}),(y=a.handle)||(y=a.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),t=(t||"").match(h)||[""],b=t.length;b--;)w=ru.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},c=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},v),(l=p[o])||(l=p[o]=[],l.delegateCount=0,s.setup&&s.setup.call(n,f,k,y)!==!1||n.addEventListener&&n.addEventListener(o,y)),s.add&&(s.add.call(n,c),c.handler.guid||(c.handler.guid=u.guid)),e?l.splice(l.delegateCount++,0,c):l.push(c),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,c,v,p,s,l,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(h)||[""],p=t.length;p--;)if(c=ru.exec(t[p])||[],o=d=c[1],b=(c[2]||"").split(".").sort(),o){for(l=i.event.special[o]||{},o=(f?l.delegateType:l.bindType)||o,a=v[o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,l.remove&&l.remove.call(n,s));k&&!a.length&&(l.teardown&&l.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var t=i.event.fix(n),u,c,s,e,f,l,h=new Array(arguments.length),a=(r.get(this,"events")||{})[t.type]||[],o=i.event.special[t.type]||{};for(h[0]=t,u=1;u<arguments.length;u++)h[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,t)!==!1){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,s=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==s&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,e,u,o,s,c=[],h=t.delegateCount,r=n.target;if(h&&r.nodeType&&!("click"===n.type&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==n.type||r.disabled!==!0)){for(o=[],s={},f=0;f<h;f++)e=t[f],u=e.selector+" ",void 0===s[u]&&(s[u]=e.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),s[u]&&o.push(e);o.length&&c.push({elem:r,handlers:o})}return r=this,h<t.length&&c.push({elem:r,handlers:t.slice(h)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:i.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==uu()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===uu()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(n){return l(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?gt:it,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={constructor:i.Event,isDefaultPrevented:it,isPropagationStopped:it,isImmediatePropagationStopped:it,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=gt;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=gt;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=gt;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return null==n.which&&fe.test(n.type)?null!=n.charCode?n.charCode:n.keyCode:!n.which&&void 0!==t&&ee.test(n.type)?1&t?1:2&t?3:4&t?2:0:n.which}},i.event.addProp);i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return ci(this,n,t,i,r)},one:function(n,t,i,r){return ci(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=it),this.each(function(){i.event.remove(this,n,r,t)})}});var oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,se=/<script|<style|<link/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n.replace(oe,"<$1><\/$2>")},clone:function(n,t,r){var u,c,s,e,h=n.cloneNode(!0),l=i.contains(n.ownerDocument,n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=o(h),s=o(n),u=0,c=s.length;u<c;u++)ye(s[u],e[u]);if(t)if(r)for(s=s||o(n),e=e||o(h),u=0,c=s.length;u<c;u++)eu(s[u],e[u]);else eu(n,h);return e=o(h,"script"),e.length>0&&hi(e,!l&&o(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,o=0;void 0!==(t=n[o]);o++)if(st(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[e.expando]&&(t[e.expando]=void 0)}}});i.fn.extend({detach:function(n){return ou(this,n,!0)},remove:function(n){return ou(this,n)},text:function(n){return v(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return rt(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=fu(this,n);t.appendChild(n)}})},prepend:function(){return rt(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=fu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return rt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return rt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(o(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null!=n&&n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return v(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!se.test(n)&&!c[(gr.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)t=this[r]||{},1===t.nodeType&&(i.cleanData(o(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return rt(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(o(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ui.apply(f,u.get());return this.pushStack(f)}});var su=/^margin/,li=new RegExp("^("+wr+")(?!px)[a-z%]+$","i"),ni=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)};!function(){function r(){if(t){t.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";t.innerHTML="";dt.appendChild(e);var i=n.getComputedStyle(t);o="1%"!==i.top;c="2px"===i.marginLeft;s="4px"===i.width;t.style.marginRight="50%";h="4px"===i.marginRight;dt.removeChild(e);t=null}}var o,s,h,c,e=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===t.style.backgroundClip,e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(t),i.extend(f,{pixelPosition:function(){return r(),o},boxSizingReliable:function(){return r(),s},pixelMarginRight:function(){return r(),h},reliableMarginLeft:function(){return r(),c}}))}();var pe=/^(none|table(?!-c[ea]).+)/,cu=/^--/,we={position:"absolute",visibility:"hidden",display:"block"},lu={letterSpacing:"0",fontWeight:"400"},au=["Webkit","Moz","ms"],vu=u.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=lt(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var e,s,o,c=i.camelCase(t),l=cu.test(t),h=n.style;return l||(t=yu(c)),o=i.cssHooks[t]||i.cssHooks[c],void 0===r?o&&"get"in o&&void 0!==(e=o.get(n,!1,u))?e:h[t]:(s=typeof r,"string"===s&&(e=ct.exec(r))&&e[1]&&(r=kr(n,t,e),s="number"),null!=r&&r===r&&("number"===s&&(r+=e&&e[3]||(i.cssNumber[c]?"":"px")),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(h[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(l?h.setProperty(t,r):h[t]=r)),void 0)}},css:function(n,t,r,u){var f,o,e,s=i.camelCase(t),h=cu.test(t);return h||(t=yu(s)),e=i.cssHooks[t]||i.cssHooks[s],e&&"get"in e&&(f=e.get(n,!0,r)),void 0===f&&(f=lt(n,t,u)),"normal"===f&&t in lu&&(f=lu[t]),""===r||r?(o=parseFloat(f),r===!0||isFinite(o)?o||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!pe.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?bu(n,t,u):br(n,we,function(){return bu(n,t,u)})},set:function(n,r,u){var f,e=u&&ni(n),o=u&&wu(n,t,u,"border-box"===i.css(n,"boxSizing",!1,e),e);return o&&(f=ct.exec(r))&&"px"!==(f[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),pu(n,r,o)}}});i.cssHooks.marginLeft=hu(f.reliableMarginLeft,function(n,t){if(t)return(parseFloat(lt(n,"marginLeft"))||n.getBoundingClientRect().left-br(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];r<4;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};su.test(n)||(i.cssHooks[n+t].set=pu)});i.fn.extend({css:function(n,t){return v(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=ni(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=s;s.prototype={constructor:s,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=s.propHooks[this.prop];return n&&n.get?n.get(this):s.propHooks._default.get(this)},run:function(n){var t,r=s.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):s.propHooks._default.set(this),this}};s.prototype.init.prototype=s.prototype;s.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};s.propHooks.scrollTop=s.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=s.prototype.init;i.fx.step={};ku=/^(?:toggle|show|hide)$/;du=/queueHooks$/;i.Animation=i.extend(a,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return kr(i.elem,n,ct.exec(t),i),i}]},tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.match(h);for(var r,u=0,f=n.length;u<f;u++)r=n[u],a.tweeners[r]=a.tweeners[r]||[],a.tweeners[r].unshift(t)},prefilters:[ke],prefilter:function(n,t){t?a.prefilters.unshift(n):a.prefilters.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return i.fx.off?u.duration=0:"number"!=typeof u.duration&&(u.duration=u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default),null!=u.queue&&u.queue!==!0||(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(kt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=a(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&du.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ii(t,!0),n,i,u)}});i.each({slideDown:ii("show"),slideUp:ii("hide"),slideToggle:ii("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(ut=i.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();ut=void 0};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){ti||(ti=!0,ai())};i.fx.stop=function(){ti=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=u.createElement("input"),t=u.createElement("select"),i=t.appendChild(u.createElement("option"));n.type="checkbox";f.checkOn=""!==n.value;f.optSelected=i.selected;n=u.createElement("input");n.value="t";n.type="radio";f.radioValue="t"===n.value}();ft=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return v(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(f=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?tf:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):f&&"set"in f&&void 0!==(u=f.set(n,r,t))?u:(n.setAttribute(t,r+""),r):f&&"get"in f&&null!==(u=f.get(n,t))?u:(u=i.find.attr(n,t),null==u?void 0:u))},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&l(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(h);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});tf={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=ft[t]||i.find.attr;ft[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=ft[u],ft[u]=f,f=null!=r(n,t,i)?u:null,ft[u]=e),f}});rf=/^(?:input|select|textarea|button)$/i;uf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return v(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):rf.test(n.nodeName)||uf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var o,t,r,u,f,s,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,d(this)))});if("string"==typeof n&&n)for(o=n.match(h)||[];t=this[c++];)if(u=d(t),r=1===t.nodeType&&" "+k(u)+" "){for(s=0;f=o[s++];)r.indexOf(" "+f+" ")<0&&(r+=f+" ");e=k(r);u!==e&&t.setAttribute("class",e)}return this},removeClass:function(n){var o,r,t,u,f,s,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,d(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(h)||[];r=this[c++];)if(u=d(r),t=1===r.nodeType&&" "+k(u)+" "){for(s=0;f=o[s++];)while(t.indexOf(" "+f+" ")>-1)t=t.replace(" "+f+" "," ");e=k(t);u!==e&&r.setAttribute("class",e)}return this},toggleClass:function(n,t){var u=typeof n;return"boolean"==typeof t&&"string"===u?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,d(this),t),t)}):this.each(function(){var t,e,f,o;if("string"===u)for(e=0,f=i(this),o=n.match(h)||[];t=o[e++];)f.hasClass(t)?f.removeClass(t):f.addClass(t);else void 0!==n&&"boolean"!==u||(t=d(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+k(d(t))+" ").indexOf(i)>-1)return!0;return!1}});ff=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(ff,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:k(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f="select-one"===n.type,s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(t=o[r],(t.selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});vi=/^(?:focusinfocus|focusoutblur)$/;i.extend(i.event,{trigger:function(t,f,e,o){var w,s,c,b,a,v,l,p=[e||u],h=yt.call(t,"type")?t.type:t,y=yt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=e=e||u,3!==e.nodeType&&8!==e.nodeType&&!vi.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(y=h.split("."),h=y.shift(),y.sort()),a=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=e),f=null==f?[t]:i.makeArray(f,[t]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(b=l.delegateType||h,vi.test(b+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||u)&&p.push(c.defaultView||c.parentWindow||n)}for(w=0;(s=p[w++])&&!t.isPropagationStopped();)t.type=w>1?b:l.bindType||h,v=(r.get(s,"events")||{})[t.type]&&r.get(s,"handle"),v&&v.apply(s,f),v=a&&s[a],v&&v.apply&&st(s)&&(t.result=v.apply(s,f),t.result===!1&&t.preventDefault());return t.type=h,o||t.isDefaultPrevented()||l._default&&l._default.apply(p.pop(),f)!==!1||!st(e)||a&&i.isFunction(e[h])&&!i.isWindow(e)&&(c=e[a],c&&(e[a]=null),i.event.triggered=h,e[h](),i.event.triggered=void 0,c&&(e[a]=c)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});f.focusin="onfocusin"in n;f.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var at=n.location,ef=i.now(),yi=/\?/;i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(u){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var ge=/\[\]$/,of=/\r?\n/g,no=/^(?:submit|button|image|reset|file)$/i,to=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){var r=i.isFunction(t)?t():t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)pi(r,n[r],t,f);return u.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&to.test(this.nodeName)&&!no.test(n)&&(this.checked||!dr.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(of,"\r\n")}}):{name:t.name,value:r.replace(of,"\r\n")}}).get()}});var io=/%20/g,ro=/#.*$/,uo=/([?&])_=[^&]*/,fo=/^(.*?):[ \t]*([^\r\n]*)$/gm,eo=/^(?:GET|HEAD)$/,oo=/^\/\//,sf={},wi={},hf="*/".concat("*"),bi=u.createElement("a");return bi.href=at.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:at.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(at.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?ki(ki(n,i.ajaxSettings),t):ki(i.ajaxSettings,n)},ajaxPrefilter:cf(sf),ajaxTransport:cf(wi),ajax:function(t,r){function b(t,r,u,h){var y,rt,g,p,b,l=r;s||(s=!0,d&&n.clearTimeout(d),a=void 0,k=h||"",e.readyState=t>0?4:0,y=t>=200&&t<300||304===t,u&&(p=so(f,e,u)),p=ho(f,p,e,y),y?(f.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),204===t||"HEAD"===f.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,g=p.error,y=!g)):(g=l,!t&&l||(l="error",t<0&&(t=0))),e.status=t,e.statusText=(r||l)+"",y?tt.resolveWith(c,[rt,l,e]):tt.rejectWith(c,[e,l,g]),e.statusCode(w),w=void 0,v&&nt.trigger(y?"ajaxSuccess":"ajaxError",[e,f,y?rt:g]),it.fireWith(c,[e,l]),v&&(nt.trigger("ajaxComplete",[e,f]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var a,o,k,y,d,l,s,v,g,p,f=i.ajaxSetup({},r),c=f.context||f,nt=f.context&&(c.nodeType||c.jquery)?i(c):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=f.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!y)for(y={};t=fo.exec(k);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(f.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return a&&a.abort(t),b(0,t),this}};if(tt.promise(e),f.url=((t||f.url||at.href)+"").replace(oo,at.protocol+"//"),f.type=r.method||r.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(h)||[""],null==f.crossDomain){l=u.createElement("a");try{l.href=f.url;l.href=l.href;f.crossDomain=bi.protocol+"//"+bi.host!=l.protocol+"//"+l.host}catch(et){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=i.param(f.data,f.traditional)),lf(sf,f,r,e),s)return e;v=i.event&&f.global;v&&0==i.active++&&i.event.trigger("ajaxStart");f.type=f.type.toUpperCase();f.hasContent=!eo.test(f.type);o=f.url.replace(ro,"");f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(io,"+")):(p=f.url.slice(o.length),f.data&&(o+=(yi.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(uo,"$1"),p=(yi.test(o)?"&":"?")+"_="+ef+++p),f.url=o+p);f.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(f.data&&f.hasContent&&f.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",f.contentType);e.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+hf+"; q=0.01":""):f.accepts["*"]);for(g in f.headers)e.setRequestHeader(g,f.headers[g]);if(f.beforeSend&&(f.beforeSend.call(c,e,f)===!1||s))return e.abort();if(ft="abort",it.add(f.complete),e.done(f.success),e.fail(f.error),a=lf(wi,f,r,e)){if(e.readyState=1,v&&nt.trigger("ajaxSend",[e,f]),s)return e;f.async&&f.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},f.timeout));try{s=!1;a.send(rt,b)}catch(et){if(s)throw et;b(-1,et)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:f,data:r,success:u},i.isPlainObject(n)&&n))}}),i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(i.isFunction(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},af={0:200,1223:204},et=i.ajaxSettings.xhr(),f.cors=!!et&&"withCredentials"in et,f.ajax=et=!!et,i.ajaxTransport(function(t){var i,r;if(f.cors||et&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(af[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain){var r,t;return{send:function(f,e){r=i("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}}),di=[],ri=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=di.pop()||i.expando+"_"+ef++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,e,o,s=t.jsonp!==!1&&(ri.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ri.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ri,"$1"+f):t.jsonp!==!1&&(t.url+=(yi.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json",e=n[f],n[f]=function(){o=arguments},u.always(function(){void 0===e?i(n).removeProp(f):n[f]=e;t[f]&&(t.jsonpCallback=r.jsonpCallback,di.push(f));o&&i.isFunction(e)&&e(o[0]);o=e=void 0}),"script"}),f.createHTMLDocument=function(){var n=u.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",2===n.childNodes.length}(),i.parseHTML=function(n,t,r){if("string"!=typeof n)return[];"boolean"==typeof t&&(r=t,t=!1);var s,e,o;return t||(f.createHTMLDocument?(t=u.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=u.location.href,t.head.appendChild(s)):t=u),e=ei.exec(n),o=!r&&[],e?[t.createElement(e[1])]:(e=iu([n],t,o),o&&o.length&&i(o).remove(),i.merge([],e.childNodes))},i.fn.load=function(n,t,r){var u,o,s,f=this,e=n.indexOf(" ");return e>-1&&(u=k(n.slice(e)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o||"GET",dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).always(r&&function(n,t){f.each(function(){r.apply(this,s||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,i.extend({},u)));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,f,e,t=this[0];if(t)return t.getClientRects().length?(f=t.getBoundingClientRect(),r=t.ownerDocument,u=r.documentElement,e=r.defaultView,{top:f.top+e.pageYOffset-u.clientTop,left:f.left+e.pageXOffset-u.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var t,r,u=this[0],n={top:0,left:0};return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(t=this.offsetParent(),r=this.offset(),l(t[0],"html")||(n=t.offset()),n={top:n.top+i.css(t[0],"borderTopWidth",!0),left:n.left+i.css(t[0],"borderLeftWidth",!0)}),{top:r.top-n.top-i.css(u,"marginTop",!0),left:r.left-n.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||dt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(u){return v(this,function(n,u,f){var e;return i.isWindow(n)?e=n:9===n.nodeType&&(e=n.defaultView),void 0===f?e?e[t]:n[u]:void(e?e.scrollTo(r?e.pageXOffset:f,r?f:e.pageYOffset):n[u]=f)},n,u,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=hu(f.pixelPosition,function(n,r){if(r)return r=lt(n,t),li.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(f===!0||e===!0?"margin":"border");return v(this,function(t,r,f){var e;return i.isWindow(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}}),i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=l,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),vf=n.jQuery,yf=n.$,i.noConflict=function(t){return n.$===i&&(n.$=yf),t&&n.jQuery===i&&(n.jQuery=vf),i},t||(n.jQuery=n.$=i),i});
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n("#"===u?[]:u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled",r=this.$element,f=r.is("input")?"val":"html",u=r.data();t+="Text";null==u.resetText&&r.data("resetText",r[f]());setTimeout(n.proxy(function(){r[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,r.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(i).removeAttr(i).prop(i,!1))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target).closest(".btn");i.call(r,"toggle");n(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1||n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.7";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){document===n.target||this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=r.hoverState&&u.detach();r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=n(this.$tip),e=n.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return u.removeClass("in"),n.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],u="BODY"==r.tagName,i=r.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=window.SVGElement&&r instanceof window.SVGElement,e=u?{top:0,left:0}:f?null:t.offset(),o={scroll:u?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=u?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,o,s,e)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null;n.$element=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return u<i&&"top";if("bottom"==this.affixed)return null!=i?!(u+this.unpin<=f.top)&&"bottom":!(u+e<=n-r)&&"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&u<=i?"top":null!=r&&s+h>=n-r&&"bottom"};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery),function(){var n=function(){function n(n){function s(){}function h(n,t){return function(){n.apply(t,arguments)}}function t(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=undefined;this._deferreds=[];e(n,this)}function f(n,u){while(n._state===3)n=n._value;if(n._state===0){n._deferreds.push(u);return}n._handled=!0;t._immediateFn(function(){var t=n._state===1?u.onFulfilled:u.onRejected,f;if(t===null){(n._state===1?r:i)(u.promise,n._value);return}try{f=t(n._value)}catch(e){i(u.promise,e);return}r(u.promise,f)})}function r(n,r){try{if(r===n)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var f=r.then;if(r instanceof t){n._state=3;n._value=r;u(n);return}if(typeof f=="function"){e(h(f,r),n);return}}n._state=1;n._value=r;u(n)}catch(o){i(n,o)}}function i(n,t){n._state=2;n._value=t;u(n)}function u(n){n._state===2&&n._deferreds.length===0&&t._immediateFn(function(){n._handled||t._unhandledRejectionFn(n._value)});for(var i=0,r=n._deferreds.length;i<r;i++)f(n,n._deferreds[i]);n._deferreds=null}function c(n,t,i){this.onFulfilled=typeof n=="function"?n:null;this.onRejected=typeof t=="function"?t:null;this.promise=i}function e(n,t){var u=!1;try{n(function(n){u||(u=!0,r(t,n))},function(n){u||(u=!0,i(t,n))})}catch(f){if(u)return;u=!0;i(t,f)}}var o=setTimeout;t.prototype["catch"]=function(n){return this.then(null,n)};t.prototype.then=function(n,t){var i=new this.constructor(s);return f(this,new c(n,t,i)),i};t.all=function(n){var i=Array.prototype.slice.call(n);return new t(function(n,t){function f(r,e){try{if(e&&(typeof e=="object"||typeof e=="function")){var o=e.then;if(typeof o=="function"){o.call(e,function(n){f(r,n)},t);return}}i[r]=e;--u==0&&n(i)}catch(s){t(s)}}var u,r;if(i.length===0)return n([]);for(u=i.length,r=0;r<i.length;r++)f(r,i[r])})};t.resolve=function(n){return n&&typeof n=="object"&&n.constructor===t?n:new t(function(t){t(n)})};t.reject=function(n){return new t(function(t,i){i(n)})};t.race=function(n){return new t(function(t,i){for(var r=0,u=n.length;r<u;r++)n[r].then(t,i)})};t._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){o(n,0)};t._unhandledRejectionFn=function(n){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};t._setImmediateFn=function(n){t._immediateFn=n};t._setUnhandledRejectionFn=function(n){t._unhandledRejectionFn=n};n.Promise=t}String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.substr(t,n.length)===n});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){for(var i=(this.document||this.ownerDocument).querySelectorAll(n),t=i.length;--t>=0&&i.item(t)!==this;);return t>-1});typeof Promise=="undefined"&&n(window);typeof Array.isArray=="undefined"&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),function(n){"use strict";function f(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(n))throw new TypeError("Invalid character in header field name");return n.toLowerCase()}function s(n){return typeof n!="string"&&(n=String(n)),n}function e(n){var t={next:function(){var t=n.shift();return{done:t===undefined,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function t(n){this.map={};n instanceof t?n.forEach(function(n,t){this.append(t,n)},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function o(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function h(n){return new Promise(function(t,i){n.onload=function(){t(n.result)};n.onerror=function(){i(n.error)}})}function v(n){var t=new FileReader;return t.readAsArrayBuffer(n),h(t)}function y(n){var t=new FileReader;return t.readAsText(n),h(t)}function c(){return this.bodyUsed=!1,this._initBody=function(n){if(this._bodyInit=n,typeof n=="string")this._bodyText=n;else if(i.blob&&Blob.prototype.isPrototypeOf(n))this._bodyBlob=n;else if(i.formData&&FormData.prototype.isPrototypeOf(n))this._bodyFormData=n;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(n))this._bodyText=n.toString();else if(n){if(!i.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(n))throw new Error("unsupported BodyInit type");}else this._bodyText="";this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob?(this.blob=function(){var n=o(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(v)},this.text=function(){var n=o(this);if(n)return n;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)}):this.text=function(){var n=o(this);return n?n:Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(n){var t=n.toUpperCase();return l.indexOf(t)>-1?t:n}function u(n,i){i=i||{};var r=i.body;if(u.prototype.isPrototypeOf(n)){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url;this.credentials=n.credentials;i.headers||(this.headers=new t(n.headers));this.method=n.method;this.mode=n.mode;r||(r=n._bodyInit,n.bodyUsed=!0)}else this.url=n;if(this.credentials=i.credentials||this.credentials||"omit",(i.headers||!this.headers)&&(this.headers=new t(i.headers)),this.method=p(i.method||this.method||"GET"),this.mode=i.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(n){var t=new FormData;return n.trim().split("&").forEach(function(n){if(n){var i=n.split("="),r=i.shift().replace(/\+/g," "),u=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(u))}}),t}function b(n){var i=new t,r=(n.getAllResponseHeaders()||"").trim().split("\n");return r.forEach(function(n){var t=n.trim().split(":"),r=t.shift().trim(),u=t.join(":").trim();i.append(r,u)}),i}function r(n,i){i||(i={});this.type="default";this.status=i.status;this.ok=this.status>=200&&this.status<300;this.statusText=i.statusText;this.headers=i.headers instanceof t?i.headers:new t(i.headers);this.url=i.url||"";this._initBody(n)}var i,l,a;n.fetch||(i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(n){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n},t.prototype.append=function(n,t){n=f(n);t=s(t);var i=this.map[n];i||(i=[],this.map[n]=i);i.push(t)},t.prototype["delete"]=function(n){delete this.map[f(n)]},t.prototype.get=function(n){var t=this.map[f(n)];return t?t[0]:null},t.prototype.getAll=function(n){return this.map[f(n)]||[]},t.prototype.has=function(n){return this.map.hasOwnProperty(f(n))},t.prototype.set=function(n,t){this.map[f(n)]=[s(t)]},t.prototype.forEach=function(n,t){Object.getOwnPropertyNames(this.map).forEach(function(i){this.map[i].forEach(function(r){n.call(t,r,i,this)},this)},this)},t.prototype.keys=function(){var n=[];return this.forEach(function(t,i){n.push(i)}),e(n)},t.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),e(n)},t.prototype.entries=function(){var n=[];return this.forEach(function(t,i){n.push([i,t])}),e(n)},i.iterable&&(t.prototype[Symbol.iterator]=t.prototype.entries),l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],u.prototype.clone=function(){return new u(this)},c.call(u.prototype),c.call(r.prototype),r.prototype.clone=function(){return new r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new t(this.headers),url:this.url})},r.error=function(){var n=new r(null,{status:0,statusText:""});return n.type="error",n},a=[301,302,303,307,308],r.redirect=function(n,t){if(a.indexOf(t)===-1)throw new RangeError("Invalid status code");return new r(null,{status:t,headers:{location:n}})},n.Headers=t,n.Request=u,n.Response=r,n.fetch=function(n,t){return new Promise(function(f,e){function h(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var s,o;s=u.prototype.isPrototypeOf(n)&&!t?n:new u(n,t);o=new XMLHttpRequest;o.onload=function(){var n={status:o.status,statusText:o.statusText,headers:b(o),url:h()},t="response"in o?o.response:o.responseText;f(new r(t,n))};o.onerror=function(){e(new TypeError("Network request failed"))};o.ontimeout=function(){e(new TypeError("Network request failed"))};o.open(s.method,s.url,!0);s.credentials==="include"&&(o.withCredentials=!0);"responseType"in o&&i.blob&&(o.responseType="blob");s.headers.forEach(function(n,t){o.setRequestHeader(t,n)});o.send(typeof s._bodyInit=="undefined"?null:s._bodyInit)})},n.fetch.polyfill=!0)}(typeof self!="undefined"?self:this),function(n){n.forEach(function(n){n.hasOwnProperty("remove")||Object.defineProperty(n,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])};n()}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
(function(n){function t(n,t){return n!==i&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,r){return n[i]=t?t(i,r):r}}var i=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){n(t(i,t(r)))}):typeof module=="object"&&typeof module.exports=="object"?n(t(i,t(module.exports))):n(t(i))})(function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};__extends=function(n,i){function r(){this.constructor=n}t(n,i);n.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)};__assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};__rest=function(n,t){var u={},r;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(u[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(u[i[r]]=n[i[r]]);return u};__decorate=function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u};__param=function(n,t){return function(i,r){t(i,r,n)}};__metadata=function(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)};__awaiter=function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})};__generator=function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=u[e[0]&2?"return":e[0]?"throw":"next"])&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[0,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};__exportStar=function(n,t){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])};__values=function(n){var t=typeof Symbol=="function"&&n[Symbol.iterator],i=0;return t?t.call(n):{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}}};__read=function(n,t){var i=typeof Symbol=="function"&&n[Symbol.iterator],r,u,f,e;if(!i)return n;r=i.call(n);f=[];try{while((t===void 0||t-->0)&&!(u=r.next()).done)f.push(u.value)}catch(o){e={error:o}}finally{try{u&&!u.done&&(i=r["return"])&&i.call(r)}finally{if(e)throw e.error;}}return f};__spread=function(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(__read(arguments[t]));return n};__await=function(n){return this instanceof __await?(this.v=n,this):new __await(n)};__asyncGenerator=function(n,t,i){function e(n){o[n]&&(u[n]=function(t){return new Promise(function(i,u){r.push([n,t,i,u])>1||f(n,t)})})}function f(n,t){try{h(o[n](t))}catch(i){s(r[0][3],i)}}function h(n){n.value instanceof __await?Promise.resolve(n.value.v).then(c,l):s(r[0][2],n)}function c(n){f("next",n)}function l(n){f("throw",n)}function s(n,t){(n(t),r.shift(),r.length)&&f(r[0][0],r[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,t||[]),u,r=[];return u={},e("next"),e("throw"),e("return"),u[Symbol.asyncIterator]=function(){return this},u};__asyncDelegator=function(n){function i(i,u){n[i]&&(t[i]=function(t){return(r=!r)?{value:__await(n[i](t)),done:i==="return"}:u?u(t):t})}var t,r;return t={},i("next"),i("throw",function(n){throw n;}),i("return"),t[Symbol.iterator]=function(){return this},t};__asyncValues=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator];return t?t.call(n):typeof __values=="function"?__values(n):n[Symbol.iterator]()};__makeTemplateObject=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n};n("__extends",__extends);n("__assign",__assign);n("__rest",__rest);n("__decorate",__decorate);n("__param",__param);n("__metadata",__metadata);n("__awaiter",__awaiter);n("__generator",__generator);n("__exportStar",__exportStar);n("__values",__values);n("__read",__read);n("__spread",__spread);n("__await",__await);n("__asyncGenerator",__asyncGenerator);n("__asyncDelegator",__asyncDelegator);n("__asyncValues",__asyncValues);n("__makeTemplateObject",__makeTemplateObject)});var jsnsOptions=jsnsOptions||{},jsnsDefine=jsnsDefine||function(n){var r=function(){function n(n,t){this.definition=n;this.loader=t;this.exports={}}return n}(),t=function(){function n(n,t,i,r,u,f,e){var o,s;if(this.source=u,this.isRunner=f,this.moduleCodeFinder=e,this.dependencies=[],this.name=n,this.factory=i,t)for(o=0;o<t.length;++o)s=t[o],this.dependencies.push({name:s,loaded:r.isModuleLoaded(s)})}return n.prototype.getModuleCode=function(n){return n.indexOf(this.source)!==-1?"":this.isRunner?'jsns.run("'+this.dependencies[0].name+'");\n':this.moduleCodeFinder!==undefined?this.moduleCodeFinder(this):'jsns.define("'+this.name+'", '+this.getDependenciesArg()+", "+this.factory+");\n"},n.prototype.getDependenciesArg=function(n){var r="[",i="",t;if(n)for(t=0;t<n.length;++t)r+=i+'"'+n[t]+'"',i=",";for(t=0;t<this.dependencies.length;++t)r+=i+'"'+this.dependencies[t].name+'"',i=",";return r+"]"},n}(),i=function(){function n(n){this.loaded={};this.loadedOrder=[];this.unloaded={};this.runners=[];this.fromModuleRunners=null;n===undefined&&(n={});this.options=n}return n.prototype.addRunner=function(n,i){var r=new t(n+"Runner",[n],this.runnerFunc,this,i,!0);this.fromModuleRunners!==null?this.fromModuleRunners.push(r):(this.runners.push(r),this.loadRunners())},n.prototype.addModule=function(n,i,r,u){this.unloaded[n]=new t(n,i,r,this,undefined,!1,u)},n.prototype.isModuleLoaded=function(n){return this.loaded[n]!==undefined},n.prototype.isModuleLoadable=function(n){return this.unloaded[n]!==undefined},n.prototype.isModuleDefined=function(n){return this.isModuleLoaded(n)||this.isModuleLoadable(n)},n.prototype.loadModule=function(n){var t=this.checkModule(this.unloaded[n]);return t&&delete this.unloaded[n],t},n.prototype.setModuleLoaded=function(n,t){this.loaded[n]===undefined&&(this.loaded[n]=t,this.loadedOrder.push(n))},n.prototype.checkModule=function(n){for(var o,t,f=n.dependencies,e=!0,u=undefined,i=0;i<f.length;++i)t=f[i],t.loaded=this.isModuleLoaded(t.name),!t.loaded&&this.isModuleLoadable(t.name)&&(t.loaded=this.loadModule(t.name)),e=e&&t.loaded;if(e){if(u=new r(n,this),!this.options.simulateModuleLoading){for(o=[u.exports,u],i=0;i<f.length;++i)t=f[i],o.push(this.loaded[t.name].exports);n.factory.apply(u,o)}this.setModuleLoaded(n.name,u)}return e},n.prototype.loadRunners=function(){var n,i,t;for(this.fromModuleRunners=[],n=0;n<this.runners.length;++n)i=this.runners[n],this.checkModule(i)&&this.runners.splice(n--,1);t=this.fromModuleRunners.length>0;t&&(this.runners=this.runners.concat(this.fromModuleRunners));this.fromModuleRunners=null;t&&this.loadRunners()},n.prototype.debug=function(){var n,t,i,r;if(this.runners.length>0)for(n=0;n<this.runners.length;++n)for(t=this.runners[n],console.log("Runner waiting "+t.name),i=0;i<t.dependencies.length;++i)r=t.dependencies[i],this.isModuleLoaded(r.name)||this.recursiveWaitingDebug(r.name,1);else console.log("No runners remaining.")},n.prototype.printLoaded=function(){console.log("Loaded Modules:");for(var n in this.loaded)this.loaded.hasOwnProperty(n)&&console.log(n)},n.prototype.printUnloaded=function(){console.log("Unloaded Modules:");for(var n in this.unloaded)this.unloaded.hasOwnProperty(n)&&console.log(n)},n.prototype.createFileFromLoaded=function(n){var i,t,r,u;for(n===undefined&&(n=[]),i="var jsnsOptions = jsnsOptions || {};\nvar jsnsDefine ="+jsnsDefine+"\nvar jsns = jsns || jsnsDefine(jsnsOptions);\nvar define = define || "+define+"\n",t=0;t<this.loadedOrder.length;++t)r=this.loadedOrder[t],this.loaded.hasOwnProperty(r)&&(u=this.loaded[r],i+=u.definition.getModuleCode(n));return i},n.prototype.recursiveWaitingDebug=function(n,t){for(var i,r,f,u="",e=0;e<t;++e)u+=" ";if(i=this.unloaded[n],i!==undefined)for(console.log(u+i.name),r=0;r<i.dependencies.length;++r)f=i.dependencies[r],this.isModuleLoaded(f.name)||this.recursiveWaitingDebug(f.name,t+4);else console.log(u+n+" module not yet loaded.")},n.prototype.runnerFunc=function(){},n}(),u=function(){function n(n){n===undefined&&(n=new i);this.moduleManager=n}return n.prototype.define=function(n,t,i){this.moduleManager.isModuleDefined(n)||(this.moduleManager.addModule(n,t,i),this.moduleManager.loadRunners())},n.prototype.amd=function(n,t){var i=this;this.moduleManager.isModuleDefined(n)||(this.discoverAmd(t,function(t,r,u){i.moduleManager.addModule(n,t,r,function(n){return i.writeAmdFactory(u,n)})}),this.moduleManager.loadRunners())},n.prototype.run=function(n,t){this.moduleManager.addRunner(n,t)},n.prototype.debug=function(){this.moduleManager.debug()},n.prototype.printLoaded=function(){this.moduleManager.printLoaded()},n.prototype.printUnloaded=function(){this.moduleManager.printUnloaded()},n.prototype.createFileFromLoaded=function(n){return this.moduleManager.createFileFromLoaded(n)},n.prototype.writeAmdFactory=function(n,t){return'define("'+t.name+'", '+t.getDependenciesArg(["require","exports"])+", "+n+");\n"},n.prototype.require=function(){},n.prototype.discoverAmd=function(n,t){var i,f,r,u;for(n(function(n,t){i=n;f=t}),i.splice(0,2),r=0;r<i.length;++r)u=i[r],u[0]==="."&&u[1]==="/"&&(i[r]=u.substring(2));t(i,function(n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];t.unshift(n);t.unshift(this.require);f.apply(this,t)},f)},n}();return new u(new i(n))},jsns=jsns||jsnsDefine(jsnsOptions),define=define||function(n,t,i){jsns.amd(n,function(n){n(t,i)})};jsns.define("jdorn.json-editor",[],function(n){var u,e;(function(){var n=!1,t=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/;return u=function(){},u.extend=function i(r){function f(){!n&&this.init&&this.init.apply(this,arguments)}var o=this.prototype,e,u;n=!0;e=new this;n=!1;for(u in r)e[u]=typeof r[u]=="function"&&typeof o[u]=="function"&&t.test(r[u])?function(n,t){return function(){var r=this._super,i;return this._super=o[n],i=t.apply(this,arguments),this._super=r,i}}(u,r[u]):r[u];return f.prototype=e,f.prototype.constructor=f,f.extend=i,f},u})(),function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}n.prototype=window.Event.prototype;window.CustomEvent=n}(),function(){for(var i=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}(),function(){Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"})}();var o=function(n){return typeof n!="object"||n.nodeType||n!==null&&n===n.window?!1:n.constructor&&!Object.prototype.hasOwnProperty.call(n.constructor.prototype,"isPrototypeOf")?!1:!0},r=function(n){for(var i,t,u=1;u<arguments.length;u++){i=arguments[u];for(t in i)i.hasOwnProperty(t)&&(i[t]&&o(i[t])?(n.hasOwnProperty(t)||(n[t]={}),r(n[t],i[t])):n[t]=i[t])}return n},i=function(n,t){var i,r;if(n&&typeof n=="object")if(Array.isArray(n)||typeof n.length=="number"&&n.length>0&&n.length-1 in n){for(i=0;i<n.length;i++)if(t(i,n[i])===!1)return}else if(Object.keys){for(r=Object.keys(n),i=0;i<r.length;i++)if(t(r[i],n[r[i]])===!1)return}else for(i in n)if(n.hasOwnProperty(i)&&t(i,n[i])===!1)return},f=function(n,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0);n.dispatchEvent(i)},s=function(n,t){var i=new CustomEvent(t,{bubbles:!0,cancelable:!0});n.dispatchEvent(i)},t=function(n,i){if(!(n instanceof Element))throw new Error("element should be an instance of Element");i=r({},t.defaults.options,i||{});this.element=n;this.options=i;this.init()};t.prototype={constructor:t,init:function(){var n=this,i,r;if(this.ready=!1,i=t.defaults.themes[this.options.theme||t.defaults.theme],!i)throw"Unknown theme "+(this.options.theme||t.defaults.theme);this.schema=this.options.schema;this.theme=new i;this.template=this.options.template;this.refs=this.options.refs||{};this.uuid=0;this.__data={};r=t.defaults.iconlibs[this.options.iconlib||t.defaults.iconlib];r&&(this.iconlib=new r);this.root_container=this.theme.getContainer();this.element.appendChild(this.root_container);this.translate=this.options.translate||t.defaults.translate;this._loadExternalRefs(this.schema,function(){var i,r;n._getDefinitions(n.schema);i={};n.options.custom_validators&&(i.custom_validators=n.options.custom_validators);n.validator=new t.Validator(n,null,i);r=n.getEditorClass(n.schema);n.root=n.createEditor(r,{jsoneditor:n,schema:n.schema,required:!0,container:n.root_container});n.root.preBuild();n.root.build();n.root.postBuild();n.options.startval&&n.root.setValue(n.options.startval);n.validation_results=n.validator.validate(n.root.getValue());n.root.showValidationErrors(n.validation_results);n.ready=!0;window.requestAnimationFrame(function(){n.ready&&(n.validation_results=n.validator.validate(n.root.getValue()),n.root.showValidationErrors(n.validation_results),n.trigger("ready"),n.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(n){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(n),this},validate:function(n){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return arguments.length===1?this.validator.validate(n):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(n,t){return this.callbacks=this.callbacks||{},this.callbacks[n]=this.callbacks[n]||[],this.callbacks[n].push(t),this},off:function(n,t){var r,i;if(n&&t){for(this.callbacks=this.callbacks||{},this.callbacks[n]=this.callbacks[n]||[],r=[],i=0;i<this.callbacks[n].length;i++)this.callbacks[n][i]!==t&&r.push(this.callbacks[n][i]);this.callbacks[n]=r}else n?(this.callbacks=this.callbacks||{},this.callbacks[n]=[]):this.callbacks={};return this},trigger:function(n){if(this.callbacks&&this.callbacks[n]&&this.callbacks[n].length)for(var t=0;t<this.callbacks[n].length;t++)this.callbacks[n][t]();return this},setOption:function(n,t){if(n==="show_errors")this.options.show_errors=t,this.onChange();else throw"Option "+n+" must be set during instantiation and cannot be changed later";return this},getEditorClass:function(n){var r;if(n=this.expandSchema(n),i(t.defaults.resolvers,function(i,u){var f=u(n);if(f&&t.defaults.editors[f])return r=f,!1}),!r)throw"Unknown editor for schema "+JSON.stringify(n);if(!t.defaults.editors[r])throw"Unknown editor "+r;return t.defaults.editors[r]},createEditor:function(n,t){return t=r({},n.options||{},t),new n(t)},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var n=this;return window.requestAnimationFrame(function(){(n.firing_change=!1,n.ready)&&(n.validation_results=n.validator.validate(n.root.getValue()),n.options.show_errors!=="never"?n.root.showValidationErrors(n.validation_results):n.root.showValidationErrors([]),n.trigger("change"))}),this}},compileTemplate:function(n,i){i=i||t.defaults.template;var r;if(typeof i=="string"){if(!t.defaults.templates[i])throw"Unknown template engine "+i;if(r=t.defaults.templates[i](),!r)throw"Template engine "+i+" missing required library.";}else r=i;if(!r)throw"No template engine set";if(!r.compile)throw"Invalid template engine set";return r.compile(n)},_data:function(n,t,i){if(arguments.length===3){var r;n.hasAttribute("data-jsoneditor-"+t)?r=n.getAttribute("data-jsoneditor-"+t):(r=this.uuid++,n.setAttribute("data-jsoneditor-"+t,r));this.__data[r]=i}else return n.hasAttribute("data-jsoneditor-"+t)?this.__data[n.getAttribute("data-jsoneditor-"+t)]:null},registerEditor:function(n){return this.editors=this.editors||{},this.editors[n.path]=n,this},unregisterEditor:function(n){return this.editors=this.editors||{},this.editors[n.path]=null,this},getEditor:function(n){if(this.editors)return this.editors[n]},watch:function(n,t){return this.watchlist=this.watchlist||{},this.watchlist[n]=this.watchlist[n]||[],this.watchlist[n].push(t),this},unwatch:function(n,t){var r,i;if(!this.watchlist||!this.watchlist[n])return this;if(!t)return this.watchlist[n]=null,this;for(r=[],i=0;i<this.watchlist[n].length;i++)if(this.watchlist[n][i]===t)continue;else r.push(this.watchlist[n][i]);return this.watchlist[n]=r.length?r:null,this},notifyWatchers:function(n){if(!this.watchlist||!this.watchlist[n])return this;for(var t=0;t<this.watchlist[n].length;t++)this.watchlist[n][t]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(n,t){if(t=t||"#/definitions/",n.definitions)for(var i in n.definitions)n.definitions.hasOwnProperty(i)&&(this.refs[t+i]=n.definitions[i],n.definitions[i].definitions&&this._getDefinitions(n.definitions[i],t+i+"/definitions/"))},_getExternalRefs:function(n){var r={},u=function(n){for(var t in n)n.hasOwnProperty(t)&&(r[t]=!0)},t,i;n.$ref&&typeof n.$ref!="object"&&n.$ref.substr(0,1)!=="#"&&!this.refs[n.$ref]&&(r[n.$ref]=!0);for(t in n)if(n.hasOwnProperty(t))if(n[t]&&typeof n[t]=="object"&&Array.isArray(n[t]))for(i=0;i<n[t].length;i++)typeof n[t][i]=="object"&&u(this._getExternalRefs(n[t][i]));else n[t]&&typeof n[t]=="object"&&u(this._getExternalRefs(n[t]));return r},_loadExternalRefs:function(n,t){var r=this,o=this._getExternalRefs(n),f=0,u=0,e=!1;i(o,function(n){if(!r.refs[n]){if(!r.options.ajax)throw"Must set ajax option to true to load external ref "+n;r.refs[n]="loading";u++;var i=new XMLHttpRequest;i.open("GET",n,!0);i.onreadystatechange=function(){if(i.readyState==4)if(i.status===200){var o;try{o=JSON.parse(i.responseText)}catch(s){window.console.log(s);throw"Failed to parse external ref "+n;}if(!o||typeof o!="object")throw"External ref does not contain a valid schema - "+n;r.refs[n]=o;r._loadExternalRefs(o,function(){f++;f>=u&&!e&&(e=!0,t())})}else{window.console.log(i);throw"Failed to fetch ref via ajax- "+n;}};i.send()}});u||t()},expandRefs:function(n){for(n=r({},n);n.$ref;){var t=n.$ref;delete n.$ref;this.refs[t]||(t=decodeURIComponent(t));n=this.extendSchemas(n,this.refs[t])}return n},expandSchema:function(n){var f=this,u=r({},n),t,e;if(typeof n.type=="object"&&(Array.isArray(n.type)?i(n.type,function(t,i){typeof i=="object"&&(n.type[t]=f.expandSchema(i))}):n.type=f.expandSchema(n.type)),typeof n.disallow=="object"&&(Array.isArray(n.disallow)?i(n.disallow,function(t,i){typeof i=="object"&&(n.disallow[t]=f.expandSchema(i))}):n.disallow=f.expandSchema(n.disallow)),n.anyOf&&i(n.anyOf,function(t,i){n.anyOf[t]=f.expandSchema(i)}),n.dependencies&&i(n.dependencies,function(t,i){typeof i!="object"||Array.isArray(i)||(n.dependencies[t]=f.expandSchema(i))}),n.not&&(n.not=this.expandSchema(n.not)),n.allOf){for(t=0;t<n.allOf.length;t++)u=this.extendSchemas(u,this.expandSchema(n.allOf[t]));delete u.allOf}if(n["extends"]){if(Array.isArray(n["extends"]))for(t=0;t<n["extends"].length;t++)u=this.extendSchemas(u,this.expandSchema(n["extends"][t]));else u=this.extendSchemas(u,this.expandSchema(n["extends"]));delete u["extends"]}if(n.oneOf)for(e=r({},u),delete e.oneOf,t=0;t<n.oneOf.length;t++)u.oneOf[t]=this.extendSchemas(this.expandSchema(n.oneOf[t]),e);return this.expandRefs(u)},extendSchemas:function(n,t){n=r({},n);t=r({},t);var f=this,u={};return i(n,function(n,i){typeof t[n]!="undefined"?(n==="required"||n==="defaultProperties")&&typeof i=="object"&&Array.isArray(i)?u[n]=i.concat(t[n]).reduce(function(n,t){return n.indexOf(t)<0&&n.push(t),n},[]):n==="type"&&(typeof i=="string"||Array.isArray(i))?(typeof i=="string"&&(i=[i]),typeof t.type=="string"&&(t.type=[t.type]),u.type=t.type&&t.type.length?i.filter(function(n){return t.type.indexOf(n)!==-1}):i,u.type.length===1&&typeof u.type[0]=="string"?u.type=u.type[0]:u.type.length===0&&delete u.type):u[n]=typeof i=="object"&&Array.isArray(i)?i.filter(function(i){return t[n].indexOf(i)!==-1}):typeof i=="object"&&i!==null?f.extendSchemas(i,t[n]):i:u[n]=i}),i(t,function(t,i){typeof n[t]=="undefined"&&(u[t]=i)}),u}};t.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]};t.Validator=u.extend({init:function(n,i,r){this.jsoneditor=n;this.schema=i||this.jsoneditor.schema;this.options=r||{};this.translate=this.jsoneditor.translate||t.defaults.translate},validate:function(n){return this._validateSchema(this.schema,n)},_validateSchema:function(n,u,f){var p=this,o=[],s,e,h,b=JSON.stringify(u),a,c,l,y,v,w;if(f=f||"root",n=r({},this.jsoneditor.expandRefs(n)),n.required&&n.required===!0){if(typeof u=="undefined")return o.push({path:f,property:"required",message:this.translate("error_notset")}),o}else if(typeof u=="undefined")if(this.jsoneditor.options.required_by_default)o.push({path:f,property:"required",message:this.translate("error_notset")});else return o;if(n["enum"]){for(s=!1,e=0;e<n["enum"].length;e++)b===JSON.stringify(n["enum"][e])&&(s=!0);s||o.push({path:f,property:"enum",message:this.translate("error_enum")})}if(n["extends"])for(e=0;e<n["extends"].length;e++)o=o.concat(this._validateSchema(n["extends"][e],u,f));if(n.allOf)for(e=0;e<n.allOf.length;e++)o=o.concat(this._validateSchema(n.allOf[e],u,f));if(n.anyOf){for(s=!1,e=0;e<n.anyOf.length;e++)if(!this._validateSchema(n.anyOf[e],u,f).length){s=!0;break}s||o.push({path:f,property:"anyOf",message:this.translate("error_anyOf")})}if(n.oneOf){for(s=0,a=[],e=0;e<n.oneOf.length;e++){for(c=this._validateSchema(n.oneOf[e],u,f),c.length||s++,h=0;h<c.length;h++)c[h].path=f+".oneOf["+e+"]"+c[h].path.substr(f.length);a=a.concat(c)}s!==1&&(o.push({path:f,property:"oneOf",message:this.translate("error_oneOf",[s])}),o=o.concat(a))}if(n.not&&(this._validateSchema(n.not,u,f).length||o.push({path:f,property:"not",message:this.translate("error_not")})),n.type)if(Array.isArray(n.type)){for(s=!1,e=0;e<n.type.length;e++)if(this._checkType(n.type[e],u)){s=!0;break}s||o.push({path:f,property:"type",message:this.translate("error_type_union")})}else this._checkType(n.type,u)||o.push({path:f,property:"type",message:this.translate("error_type",[n.type])});if(n.disallow)if(Array.isArray(n.disallow)){for(s=!0,e=0;e<n.disallow.length;e++)if(this._checkType(n.disallow[e],u)){s=!1;break}s||o.push({path:f,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(n.disallow,u)&&o.push({path:f,property:"disallow",message:this.translate("error_disallow",[n.disallow])});if(typeof u=="number")(n.multipleOf||n.divisibleBy)&&(l=n.multipleOf||n.divisibleBy,s=u/l===Math.floor(u/l),window.math?s=window.math.mod(window.math.bignumber(u),window.math.bignumber(l)).equals(0):window.Decimal&&(s=new window.Decimal(u).mod(new window.Decimal(l)).equals(0)),s||o.push({path:f,property:n.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[l])})),n.hasOwnProperty("maximum")&&(s=n.exclusiveMaximum?u<n.maximum:u<=n.maximum,window.math?s=window.math[n.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(u),window.math.bignumber(n.maximum)):window.Decimal&&(s=new window.Decimal(u)[n.exclusiveMaximum?"lt":"lte"](new window.Decimal(n.maximum))),s||o.push({path:f,property:"maximum",message:this.translate(n.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[n.maximum])})),n.hasOwnProperty("minimum")&&(s=n.exclusiveMinimum?u>n.minimum:u>=n.minimum,window.math?s=window.math[n.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(u),window.math.bignumber(n.minimum)):window.Decimal&&(s=new window.Decimal(u)[n.exclusiveMinimum?"gt":"gte"](new window.Decimal(n.minimum))),s||o.push({path:f,property:"minimum",message:this.translate(n.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[n.minimum])}));else if(typeof u=="string")n.maxLength&&(u+"").length>n.maxLength&&o.push({path:f,property:"maxLength",message:this.translate("error_maxLength",[n.maxLength])}),n.minLength&&(u+"").length<n.minLength&&o.push({path:f,property:"minLength",message:this.translate(n.minLength===1?"error_notempty":"error_minLength",[n.minLength])}),n.pattern&&(new RegExp(n.pattern).test(u)||o.push({path:f,property:"pattern",message:this.translate("error_pattern",[n.pattern])}));else if(typeof u=="object"&&u!==null&&Array.isArray(u)){if(n.items)if(Array.isArray(n.items))for(e=0;e<u.length;e++)if(n.items[e])o=o.concat(this._validateSchema(n.items[e],u[e],f+"."+e));else if(n.additionalItems===!0)break;else if(n.additionalItems)o=o.concat(this._validateSchema(n.additionalItems,u[e],f+"."+e));else if(n.additionalItems===!1){o.push({path:f,property:"additionalItems",message:this.translate("error_additionalItems")});break}else break;else for(e=0;e<u.length;e++)o=o.concat(this._validateSchema(n.items,u[e],f+"."+e));if(n.maxItems&&u.length>n.maxItems&&o.push({path:f,property:"maxItems",message:this.translate("error_maxItems",[n.maxItems])}),n.minItems&&u.length<n.minItems&&o.push({path:f,property:"minItems",message:this.translate("error_minItems",[n.minItems])}),n.uniqueItems)for(y={},e=0;e<u.length;e++){if(s=JSON.stringify(u[e]),y[s]){o.push({path:f,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}y[s]=!0}}else if(typeof u=="object"&&u!==null){if(n.maxProperties){s=0;for(e in u)u.hasOwnProperty(e)&&s++;s>n.maxProperties&&o.push({path:f,property:"maxProperties",message:this.translate("error_maxProperties",[n.maxProperties])})}if(n.minProperties){s=0;for(e in u)u.hasOwnProperty(e)&&s++;s<n.minProperties&&o.push({path:f,property:"minProperties",message:this.translate("error_minProperties",[n.minProperties])})}if(n.required&&Array.isArray(n.required))for(e=0;e<n.required.length;e++)typeof u[n.required[e]]=="undefined"&&o.push({path:f,property:"required",message:this.translate("error_required",[n.required[e]])});if(v={},n.properties)for(e in n.properties)n.properties.hasOwnProperty(e)&&(v[e]=!0,o=o.concat(this._validateSchema(n.properties[e],u[e],f+"."+e)));if(n.patternProperties)for(e in n.patternProperties)if(n.patternProperties.hasOwnProperty(e)){w=new RegExp(e);for(h in u)u.hasOwnProperty(h)&&w.test(h)&&(v[h]=!0,o=o.concat(this._validateSchema(n.patternProperties[e],u[h],f+"."+h)))}if(typeof n.additionalProperties!="undefined"||!this.jsoneditor.options.no_additional_properties||n.oneOf||n.anyOf||(n.additionalProperties=!1),typeof n.additionalProperties!="undefined")for(e in u)if(u.hasOwnProperty(e)&&!v[e])if(n.additionalProperties)if(n.additionalProperties===!0)break;else o=o.concat(this._validateSchema(n.additionalProperties,u[e],f+"."+e));else{o.push({path:f,property:"additionalProperties",message:this.translate("error_additional_properties",[e])});break}if(n.dependencies)for(e in n.dependencies)if(n.dependencies.hasOwnProperty(e)&&typeof u[e]!="undefined")if(Array.isArray(n.dependencies[e]))for(h=0;h<n.dependencies[e].length;h++)typeof u[n.dependencies[e][h]]=="undefined"&&o.push({path:f,property:"dependencies",message:this.translate("error_dependency",[n.dependencies[e][h]])});else o=o.concat(this._validateSchema(n.dependencies[e],u,f))}return i(t.defaults.custom_validators,function(t,i){o=o.concat(i.call(p,n,u,f))}),this.options.custom_validators&&i(this.options.custom_validators,function(t,i){o=o.concat(i.call(p,n,u,f))}),o},_checkType:function(n,t){return typeof n=="string"?n==="string"?typeof t=="string":n==="number"?typeof t=="number":n==="integer"?typeof t=="number"&&t===Math.floor(t):n==="boolean"?typeof t=="boolean":n==="array"?Array.isArray(t):n==="object"?t!==null&&!Array.isArray(t)&&typeof t=="object":n==="null"?t===null:!0:!this._validateSchema(n,t).length}});t.AbstractEditor=u.extend({onChildEditorChange:function(){this.onChange(!0)},notify:function(){this.jsoneditor.notifyWatchers(this.path)},change:function(){if(this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange()},onChange:function(n){this.notify();this.watch_listener&&this.watch_listener();n&&this.change()},register:function(){this.jsoneditor.registerEditor(this);this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(n){this.jsoneditor=n.jsoneditor;this.theme=this.jsoneditor.theme;this.template_engine=this.jsoneditor.template;this.iconlib=this.jsoneditor.iconlib;this.translate=this.jsoneditor.translate||t.defaults.translate;this.original_schema=n.schema;this.schema=this.jsoneditor.expandSchema(this.original_schema);this.options=r({},this.options||{},n.schema.options||{},n);n.path||this.schema.id||(this.schema.id="root");this.path=n.path||"root";this.formname=n.formname||this.path.replace(/\.([^.]+)/g,"[$1]");this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"["));this.key=this.path.split(".").pop();this.parent=n.parent;this.link_watchers=[];n.container&&this.setContainer(n.container)},setContainer:function(n){this.container=n;this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id);this.schema.type&&typeof this.schema.type=="string"&&this.container.setAttribute("data-schematype",this.schema.type);this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners();this.addLinks();this.setValue(this.getDefault(),!0);this.updateHeaderText();this.register();this.onWatchedFieldChange()},setupWatchListeners:function(){var n=this,t,i,r,f,e,u;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){n.refreshWatchedFieldValues()&&n.onWatchedFieldChange()},this.register(),this.schema.hasOwnProperty("watch"))for(u in this.schema.watch)if(this.schema.watch.hasOwnProperty(u)){if(t=this.schema.watch[u],Array.isArray(t)){if(t.length<2)continue;i=[t[0]].concat(t[1].split("."))}else i=t.split("."),n.theme.closest(n.container,'[data-schemaid="'+i[0]+'"]')||i.unshift("#");if(r=i.shift(),r==="#"&&(r=n.jsoneditor.schema.id||"root"),f=n.theme.closest(n.container,'[data-schemaid="'+r+'"]'),!f)throw"Could not find ancestor node with id "+r;e=f.getAttribute("data-schemapath")+"."+i.join(".");n.jsoneditor.watch(e,n.watch_listener);n.watched[u]=e}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var n=0;n<this.schema.links.length;n++)this.addLink(this.getLink(this.schema.links[n]))},getButton:function(n,t,i){var u="json-editor-btn-"+t,r;return t=this.iconlib?this.iconlib.getIcon(t):null,!t&&i&&(n=i,i=null),r=this.theme.getButton(n,t,i),r.className+=" "+u+" ",r},setButtonText:function(n,t,i,r){return i=this.iconlib?this.iconlib.getIcon(i):null,!i&&r&&(t=r,r=null),this.theme.setButtonText(n,t,i,r)},addLink:function(n){this.link_holder&&this.link_holder.appendChild(n)},getLink:function(n){var i,t,s=n.mediaType||"application/javascript",f=s.split("/")[0],e=this.jsoneditor.compileTemplate(n.href,this.template_engine),r=null,o,u;return n.download&&(r=n.download),r&&r!==!0&&(r=this.jsoneditor.compileTemplate(r,this.template_engine)),f==="image"?(i=this.theme.getBlockLinkHolder(),t=document.createElement("a"),t.setAttribute("target","_blank"),o=document.createElement("img"),this.theme.createImageLink(i,t,o),this.link_watchers.push(function(i){var r=e(i);t.setAttribute("href",r);t.setAttribute("title",n.rel||r);o.setAttribute("src",r)})):["audio","video"].indexOf(f)>=0?(i=this.theme.getBlockLinkHolder(),t=this.theme.getBlockLink(),t.setAttribute("target","_blank"),u=document.createElement(f),u.setAttribute("controls","controls"),this.theme.createMediaLink(i,t,u),this.link_watchers.push(function(i){var r=e(i);t.setAttribute("href",r);t.textContent=n.rel||r;u.setAttribute("src",r)})):(t=i=this.theme.getBlockLink(),i.setAttribute("target","_blank"),i.textContent=n.rel,this.link_watchers.push(function(t){var r=e(t);i.setAttribute("href",r);i.textContent=n.rel||r})),r&&t&&(r===!0?t.setAttribute("download",""):this.link_watchers.push(function(n){t.setAttribute("download",r(n))})),n.class&&(t.className=t.className+" "+n.class),i},refreshWatchedFieldValues:function(){var r,u,n;if(this.watched_values){var t={},i=!1,f=this;if(this.watched)for(n in this.watched)this.watched.hasOwnProperty(n)&&(u=f.jsoneditor.getEditor(this.watched[n]),r=u?u.getValue():null,f.watched_values[n]!==r&&(i=!0),t[n]=r);return t.self=this.getValue(),this.watched_values.self!==t.self&&(i=!0),this.watched_values=t,i}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var n=0;n<this.header.childNodes.length;n++)if(this.header.childNodes[n].nodeType===3){this.header.childNodes[n].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(n){return this.header_text?this.header_text:n?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var n,i,t;if(this.header_template&&(n=r(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:this.key*1,i1:this.key*1+1,title:this.getTitle()}),i=this.header_template(n),i!==this.header_text&&(this.header_text=i,this.updateHeaderText(),this.notify())),this.link_watchers.length)for(n=this.getWatchedFieldValues(),t=0;t<this.link_watchers.length;t++)this.link_watchers[t](n)},setValue:function(n){this.value=n},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var n=this;this.unregister(this);i(this.watched,function(t,i){n.jsoneditor.unwatch(i,n.watch_listener)});this.watched=null;this.watched_values=null;this.watch_listener=null;this.header_text=null;this.header_template=null;this.value=null;this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container);this.container=null;this.jsoneditor=null;this.schema=null;this.path=null;this.key=null;this.parent=null},getDefault:function(){if(this.schema["default"])return this.schema["default"];if(this.schema["enum"])return this.schema["enum"][0];var n=this.schema.type||this.schema.oneOf;if(n&&Array.isArray(n)&&(n=n[0]),n&&typeof n=="object"&&(n=n.type),n&&Array.isArray(n)&&(n=n[0]),typeof n=="string"){if(n==="number")return 0;if(n==="boolean")return!1;if(n==="integer")return 0;if(n==="string")return"";if(n==="object")return{};if(n==="array")return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return typeof this.schema.required=="boolean"?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.indexOf(this.key)>-1:this.jsoneditor.options.required_by_default?!0:!1},getDisplayText:function(n){var u=[],t={},r;return i(n,function(n,i){i.title&&(t[i.title]=t[i.title]||0,t[i.title]++);i.description&&(t[i.description]=t[i.description]||0,t[i.description]++);i.format&&(t[i.format]=t[i.format]||0,t[i.format]++);i.type&&(t[i.type]=t[i.type]||0,t[i.type]++)}),i(n,function(n,i){var r;r=typeof i=="string"?i:i.title&&t[i.title]<=1?i.title:i.format&&t[i.format]<=1?i.format:i.type&&t[i.type]<=1?i.type:i.description&&t[i.description]<=1?i.descripton:i.title?i.title:i.format?i.format:i.type?i.type:i.description?i.description:JSON.stringify(i).length<50?JSON.stringify(i):"type";u.push(r)}),r={},i(u,function(n,i){r[i]=r[i]||0;r[i]++;t[i]>1&&(u[n]=i+" "+r[i])}),u},getOption:function(n){try{throw"getOption is deprecated";}catch(t){window.console.error(t)}return this.options[n]},showValidationErrors:function(){}});t.defaults.editors["null"]=t.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}});t.defaults.editors.string=t.AbstractEditor.extend({register:function(){(this._super(),this.input)&&this.input.setAttribute("name",this.formname)},unregister:function(){(this._super(),this.input)&&this.input.removeAttribute("name")},setValue:function(n,t,i){var f=this,r,u;if((!this.template||i)&&(n===null||typeof n=="undefined"?n="":typeof n=="object"?n=JSON.stringify(n):typeof n!="string"&&(n=""+n),n!==this.serialized)&&(r=this.sanitize(n),this.input.value!==r)){this.input.value=r;this.sceditor_instance?this.sceditor_instance.val(r):this.epiceditor?this.epiceditor.importFile(null,r):this.ace_editor&&this.ace_editor.setValue(r);u=i||this.getValue()!==n;this.refreshValue();t?this.is_dirty=!1:this.jsoneditor.options.show_errors==="change"&&(this.is_dirty=!0);this.adjust_height&&this.adjust_height(this.input);this.onChange(u)}},getNumColumns:function(){var t=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5),n;return n=this.input_type==="textarea"?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(t,n))},build:function(){var n=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if(this.format==="textarea")this.input_type="textarea",this.input=this.theme.getTextareaInput();else if(this.format==="range"){this.input_type="range";var t=this.schema.minimum||0,i=this.schema.maximum||Math.max(100,t+1),r=1;this.schema.multipleOf&&(t%this.schema.multipleOf&&(t=Math.ceil(t/this.schema.multipleOf)*this.schema.multipleOf),i%this.schema.multipleOf&&(i=Math.floor(i/this.schema.multipleOf)*this.schema.multipleOf),r=this.schema.multipleOf);this.input=this.theme.getRangeInput(t,i,r)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);typeof this.schema.maxLength!="undefined"&&this.input.setAttribute("maxlength",this.schema.maxLength);typeof this.schema.pattern!="undefined"?this.input.setAttribute("pattern",this.schema.pattern):typeof this.schema.minLength!="undefined"&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}");this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width);(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0);this.input.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),n.schema.template){this.value=n.value;return}var i=this.value,r=n.sanitize(i);i!==r&&(this.value=r);n.is_dirty=!0;n.refreshValue();n.onChange(!0)});this.options.input_height&&(this.input.style.height=this.options.input_height);this.options.expand_height&&(this.adjust_height=function(n){if(n){var t,i=n.offsetHeight;if(n.offsetHeight<n.scrollHeight)for(t=0;n.offsetHeight<n.scrollHeight+3;){if(t>100)break;t++;i++;n.style.height=i+"px"}else{for(t=0;n.offsetHeight>=n.scrollHeight+3;){if(t>100)break;t++;i--;n.style.height=i+"px"}n.style.height=i+1+"px"}}},this.input.addEventListener("keyup",function(){n.adjust_height(this)}),this.input.addEventListener("change",function(){n.adjust_height(this)}),this.adjust_height());this.format&&this.input.setAttribute("data-schemaformat",this.format);this.control=this.theme.getFormControl(this.label,this.input,this.description);this.container.appendChild(this.control);window.requestAnimationFrame(function(){n.input.parentNode&&n.afterInputReady();n.adjust_height&&n.adjust_height(n.input)});this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1);this._super()},disable:function(){this.input.disabled=!0;this._super()},afterInputReady:function(){var n=this,u,i;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)u=r({},{plugins:n.input_type==="html"?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},t.plugins.sceditor,n.options.sceditor_options||{}),window.jQuery(n.input).sceditor(u),n.sceditor_instance=window.jQuery(n.input).sceditor("instance"),n.sceditor_instance.blur(function(){var t=window.jQuery("<div>"+n.sceditor_instance.val()+"<\/div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",t).remove();n.input.value=t.html();n.value=n.input.value;n.is_dirty=!0;n.onChange(!0)});else if(this.input_type==="markdown"&&window.EpicEditor){this.epiceditor_container=document.createElement("div");this.input.parentNode.insertBefore(this.epiceditor_container,this.input);this.input.style.display="none";u=r({},t.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1});this.epiceditor=new window.EpicEditor(u).load();this.epiceditor.importFile(null,this.getValue());this.epiceditor.on("update",function(){var t=n.epiceditor.exportFile();n.input.value=t;n.value=t;n.is_dirty=!0;n.onChange(!0)})}else if(window.ace){i=this.input_type;(i==="cpp"||i==="c++"||i==="c")&&(i="c_cpp");this.ace_container=document.createElement("div");this.ace_container.style.width="100%";this.ace_container.style.position="relative";this.ace_container.style.height="400px";this.input.parentNode.insertBefore(this.ace_container,this.input);this.input.style.display="none";this.ace_editor=window.ace.edit(this.ace_container);this.ace_editor.setValue(this.getValue());t.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+t.plugins.ace.theme);i=window.ace.require("ace/mode/"+i);i&&this.ace_editor.getSession().setMode(new i.Mode);this.ace_editor.on("change",function(){var t=n.ace_editor.getValue();n.input.value=t;n.refreshValue();n.is_dirty=!0;n.onChange(!0)})}n.theme.afterInputReady(n.input)},refreshValue:function(){this.value=this.input.value;typeof this.value!="string"&&(this.value="");this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy();this.template=null;this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this._super()},sanitize:function(n){return n},onWatchedFieldChange:function(){var t=this,n;this.template&&(n=this.getWatchedFieldValues(),this.setValue(this.template(n),!1,!0));this._super()},showValidationErrors:function(n){var r=this,t;(this.jsoneditor.options.show_errors==="always"||this.is_dirty||this.previous_error_setting!==this.jsoneditor.options.show_errors)&&(this.previous_error_setting=this.jsoneditor.options.show_errors,t=[],i(n,function(n,i){i.path===r.path&&t.push(i.message)}),t.length?this.theme.addInputError(this.input,t.join(". ")+"."):this.theme.removeInputError(this.input))}});t.defaults.editors.number=t.defaults.editors.string.extend({sanitize:function(n){return(n+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return this.value*1}});t.defaults.editors.integer=t.defaults.editors.number.extend({sanitize:function(n){return n=n+"",n.replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}});t.defaults.editors.object=t.AbstractEditor.extend({getDefault:function(){return r({},this.schema["default"]||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var n in this.editors)this.editors.hasOwnProperty(n)&&this.editors[n].register()},unregister:function(){if(this._super(),this.editors)for(var n in this.editors)this.editors.hasOwnProperty(n)&&this.editors[n].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var n in this.editors)this.editors.hasOwnProperty(n)&&this.editors[n].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var n in this.editors)this.editors.hasOwnProperty(n)&&this.editors[n].disable()},layoutEditors:function(){var u=this,t,r,e,n,f,s,h,c,o;if(this.row_container){if(this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(n,t){var i=u.editors[n].schema.propertyOrder,r=u.editors[t].schema.propertyOrder;return typeof i!="number"&&(i=1e3),typeof r!="number"&&(r=1e3),i-r}),this.format==="grid"){for(n=[],i(this.property_order,function(t,i){var e=u.editors[i],f;if(!e.property_removed){var r=!1,s=e.options.hidden?0:e.options.grid_columns||e.getNumColumns(),o=e.options.hidden?0:e.container.offsetHeight;for(f=0;f<n.length;f++)n[f].width+s<=12&&(!o||n[f].minh*.5<o&&n[f].maxh*2>o)&&(r=f);r===!1&&(n.push({width:0,minh:999999,maxh:0,editors:[]}),r=n.length-1);n[r].editors.push({key:i,width:s,height:o});n[r].width+=s;n[r].minh=Math.min(n[r].minh,o);n[r].maxh=Math.max(n[r].maxh,o)}}),t=0;t<n.length;t++)if(n[t].width<12){for(f=!1,s=0,r=0;r<n[t].editors.length;r++)f===!1?f=r:n[t].editors[r].width>n[t].editors[f].width&&(f=r),n[t].editors[r].width*=12/n[t].width,n[t].editors[r].width=Math.floor(n[t].editors[r].width),s+=n[t].editors[r].width;s<12&&(n[t].editors[f].width+=12-s);n[t].width=12}if(this.layout===JSON.stringify(n))return!1;for(this.layout=JSON.stringify(n),e=document.createElement("div"),t=0;t<n.length;t++)for(h=this.theme.getGridRow(),e.appendChild(h),r=0;r<n[t].editors.length;r++)c=n[t].editors[r].key,o=this.editors[c],o.options.hidden?o.container.style.display="none":this.theme.setGridColumnSize(o.container,n[t].editors[r].width),h.appendChild(o.container)}else e=document.createElement("div"),i(this.property_order,function(n,t){var i=u.editors[t],r;i.property_removed||(r=u.theme.getGridRow(),e.appendChild(r),i.options.hidden?i.container.style.display="none":u.theme.setGridColumnSize(i.container,12),r.appendChild(i.container))});this.row_container.innerHTML="";this.row_container.appendChild(e)}},getPropertySchema:function(n){var t=this.schema.properties[n]||{},u,i,f;if(t=r({},t),u=this.schema.properties[n]?!0:!1,this.schema.patternProperties)for(i in this.schema.patternProperties)this.schema.patternProperties.hasOwnProperty(i)&&(f=new RegExp(i),f.test(n)&&(t.allOf=t.allOf||[],t.allOf.push(this.schema.patternProperties[i]),u=!0));return!u&&this.schema.additionalProperties&&typeof this.schema.additionalProperties=="object"&&(t=r({},this.schema.additionalProperties)),t},preBuild:function(){this._super();this.editors={};this.cached_editors={};var n=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)i(this.schema.properties,function(t,i){var u=n.jsoneditor.getEditorClass(i),r;n.editors[t]=n.jsoneditor.createEditor(u,{jsoneditor:n.jsoneditor,schema:i,path:n.path+"."+t,parent:n,compact:!0,required:!0});n.editors[t].preBuild();r=n.editors[t].options.hidden?0:n.editors[t].options.grid_columns||n.editors[t].getNumColumns();n.minwidth+=r;n.maxwidth+=r}),this.no_link_holder=!0;else if(this.options.table)throw"Not supported yet";else this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],i(this.schema.properties,function(t,i){n.isRequired({key:t,schema:i})&&n.schema.defaultProperties.push(t)})):n.schema.defaultProperties=Object.keys(n.schema.properties)),n.maxwidth+=1,i(this.schema.defaultProperties,function(t,i){n.addObjectProperty(i,!0);n.editors[i]&&(n.minwidth=Math.max(n.minwidth,n.editors[i].options.grid_columns||n.editors[i].getNumColumns()),n.maxwidth+=n.editors[i].options.grid_columns||n.editors[i].getNumColumns())});this.property_order=Object.keys(this.editors);this.property_order=this.property_order.sort(function(t,i){var r=n.editors[t].schema.propertyOrder,u=n.editors[i].schema.propertyOrder;return typeof r!="number"&&(r=1e3),typeof u!="number"&&(u=1e3),r-u})},build:function(){var n=this,t;if(this.options.table_row)this.editor_holder=this.container,i(this.editors,function(t,i){var r=n.theme.getTableCell();n.editor_holder.appendChild(r);i.setContainer(r);i.build();i.postBuild();n.editors[t].options.hidden&&(r.style.display="none");n.editors[t].options.input_width&&(r.style.width=n.editors[t].options.input_width)});else if(this.options.table)throw"Not supported yet";else this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(t){if(t.preventDefault(),t.stopPropagation(),n.addproperty_input.value){if(n.editors[n.addproperty_input.value]){window.alert("there is already a property with that name");return}n.addObjectProperty(n.addproperty_input.value);n.editors[n.addproperty_input.value]&&n.editors[n.addproperty_input.value].disable();n.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add),t=document.createElement("div"),t.style.clear="both",this.addproperty_holder.appendChild(t),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),i(this.editors,function(t,i){var r=n.theme.getGridColumn();n.row_container.appendChild(r);i.setContainer(r);i.build();i.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.collapsed?(n.editor_holder.style.display="",n.collapsed=!1,n.setButtonText(n.toggle_button,"","collapse",n.translate("button_collapse"))):(n.editor_holder.style.display="none",n.collapsed=!0,n.setButtonText(n.toggle_button,"","expand",n.translate("button_expand")))}),this.options.collapsed&&f(this.toggle_button,"click"),this.schema.options&&typeof this.schema.options.disable_collapse!="undefined"?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&typeof this.schema.options.disable_edit_json!="undefined"?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties();this.options.table_row?(this.editor_holder=this.container,i(this.property_order,function(t,i){n.editor_holder.appendChild(n.editors[i].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var n=JSON.parse(this.editjson_textarea.value);this.setValue(n);this.hideEditJSON()}catch(t){window.alert("invalid JSON");throw t;}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(n,t,i){var r,u,f;for(this.schema.properties[n]&&(r=this.schema.properties[n].propertyOrder),typeof r!="number"&&(r=1e3),t.propertyOrder=r,u=0;u<i.childNodes.length;u++)if(f=i.childNodes[u],t.propertyOrder<f.propertyOrder){this.addproperty_list.insertBefore(t,f);t=null;break}t&&this.addproperty_list.appendChild(t)},addPropertyCheckbox:function(n){var i=this,t,u,f,r;return t=i.theme.getCheckbox(),t.style.width="auto",f=this.schema.properties[n]&&this.schema.properties[n].title?this.schema.properties[n].title:n,u=i.theme.getCheckboxLabel(f),r=i.theme.getFormControl(u,t),r.style.paddingBottom=r.style.marginBottom=r.style.paddingTop=r.style.marginTop=0,r.style.height="auto",this.insertPropertyControlUsingPropertyOrder(n,r,this.addproperty_list),t.checked=n in this.editors,t.addEventListener("change",function(){t.checked?i.addObjectProperty(n):i.removeObjectProperty(n);i.onChange(!0)}),i.addproperty_checkboxes[n]=t,t},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(n){this.editors[n]&&(this.editors[n].unregister(),delete this.editors[n],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(n,t){var i=this,r,f,u;if(!this.editors[n]){if(this.cached_editors[n]){if(this.editors[n]=this.cached_editors[n],t)return;this.editors[n].register()}else{if(!this.canHaveAdditionalProperties()&&(!this.schema.properties||!this.schema.properties[n]))return;r=i.getPropertySchema(n);f=i.jsoneditor.getEditorClass(r);i.editors[n]=i.jsoneditor.createEditor(f,{jsoneditor:i.jsoneditor,schema:r,path:i.path+"."+n,parent:i});i.editors[n].preBuild();t||(u=i.theme.getChildEditorHolder(),i.editor_holder.appendChild(u),i.editors[n].setContainer(u),i.editors[n].build(),i.editors[n].postBuild());i.cached_editors[n]=i.editors[n]}t||(i.refreshValue(),i.layoutEditors())}},onChildEditorChange:function(n){this.refreshValue();this._super(n)},canHaveAdditionalProperties:function(){return typeof this.schema.additionalProperties=="boolean"?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){i(this.cached_editors,function(n,t){t.destroy()});this.editor_holder&&(this.editor_holder.innerHTML="");this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder);this.editors=null;this.cached_editors=null;this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder);this.editor_holder=null;this._super()},getValue:function(){var n=this._super(),t;if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(t in n)n.hasOwnProperty(t)&&(n[t]||delete n[t]);return n},refreshValue:function(){var t,n;this.value={};t=this;for(n in this.editors)this.editors.hasOwnProperty(n)&&(this.value[n]=this.editors[n].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||this.options.disable_properties!==!1&&this.jsoneditor.options.disable_properties){this.addproperty_controls.style.display="none";return}var i=!1,u=!1,r=0,n,t=!1;for(n in this.editors)this.editors.hasOwnProperty(n)&&r++;i=this.canHaveAdditionalProperties()&&!(typeof this.schema.maxProperties!="undefined"&&r>=this.schema.maxProperties);this.addproperty_checkboxes&&(this.addproperty_list.innerHTML="");this.addproperty_checkboxes={};for(n in this.cached_editors)this.cached_editors.hasOwnProperty(n)&&(this.addPropertyCheckbox(n),this.isRequired(this.cached_editors[n])&&n in this.editors&&(this.addproperty_checkboxes[n].disabled=!0),typeof this.schema.minProperties!="undefined"&&r<=this.schema.minProperties?(this.addproperty_checkboxes[n].disabled=this.addproperty_checkboxes[n].checked,this.addproperty_checkboxes[n].checked||(t=!0)):n in this.editors?(t=!0,u=!0):i||this.schema.properties.hasOwnProperty(n)?(this.addproperty_checkboxes[n].disabled=!1,t=!0):this.addproperty_checkboxes[n].disabled=!0);this.canHaveAdditionalProperties()&&(t=!0);for(n in this.schema.properties)this.schema.properties.hasOwnProperty(n)&&(this.cached_editors[n]||(t=!0,this.addPropertyCheckbox(n)));t?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=i?!1:!0:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")},isRequired:function(n){return typeof n.schema.required=="boolean"?n.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(n.key)>-1:this.jsoneditor.options.required_by_default?!0:!1},setValue:function(n,t){var r=this;n=n||{};(typeof n!="object"||Array.isArray(n))&&(n={});i(this.cached_editors,function(i,u){typeof n[i]!="undefined"?(r.addObjectProperty(i),u.setValue(n[i],t)):t||r.isRequired(u)?u.setValue(u.getDefault(),t):r.removeObjectProperty(i)});i(n,function(n,i){r.cached_editors[n]||(r.addObjectProperty(n),r.editors[n]&&r.editors[n].setValue(i,t))});this.refreshValue();this.layoutEditors();this.onChange()},showValidationErrors:function(n){var r=this,t=[],u=[],f;i(n,function(n,i){i.path===r.path?t.push(i):u.push(i)});this.error_holder&&(t.length?(f=[],this.error_holder.innerHTML="",this.error_holder.style.display="",i(t,function(n,t){r.error_holder.appendChild(r.theme.getErrorMessage(t.message))})):this.error_holder.style.display="none");this.options.table_row&&(t.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container));i(this.editors,function(n,t){t.showValidationErrors(u)})}});t.defaults.editors.array=t.AbstractEditor.extend({getDefault:function(){return this.schema["default"]||[]},register:function(){if(this._super(),this.rows)for(var n=0;n<this.rows.length;n++)this.rows[n].register()},unregister:function(){if(this._super(),this.rows)for(var n=0;n<this.rows.length;n++)this.rows[n].unregister()},getNumColumns:function(){var n=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,n.width+2),4):n.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var n=0;n<this.rows.length;n++)this.rows[n].enable(),this.rows[n].moveup_button&&(this.rows[n].moveup_button.disabled=!1),this.rows[n].movedown_button&&(this.rows[n].movedown_button.disabled=!1),this.rows[n].delete_button&&(this.rows[n].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var n=0;n<this.rows.length;n++)this.rows[n].disable(),this.rows[n].moveup_button&&(this.rows[n].moveup_button.disabled=!0),this.rows[n].movedown_button&&(this.rows[n].movedown_button.disabled=!0),this.rows[n].delete_button&&(this.rows[n].delete_button.disabled=!0);this._super()},preBuild:function(){this._super();this.rows=[];this.row_cache=[];this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete;this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows;this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row;this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder;this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){var n=this;this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.schema.format==="tabs"?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls)));this.addControls()},onChildEditorChange:function(n){this.refreshValue();this.refreshTabs(!0);this._super(n)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var n=this.jsoneditor.expandRefs(this.schema.items);this.item_title=n.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(n){if(Array.isArray(this.schema.items))if(n>=this.schema.items.length){if(this.schema.additionalItems===!0)return{};if(this.schema.additionalItems)return r({},this.schema.additionalItems)}else return r({},this.schema.items[n]);else return this.schema.items?r({},this.schema.items):{}},getItemInfo:function(n){var t=this.getItemSchema(n),i;return(this.item_info=this.item_info||{},i=JSON.stringify(t),typeof this.item_info[i]!="undefined")?this.item_info[i]:(t=this.jsoneditor.expandRefs(t),this.item_info[i]={title:t.title||"item","default":t["default"],width:12,child_editors:t.properties||t.items},this.item_info[i])},getElementEditor:function(n){var u=this.getItemInfo(n),i=this.getItemSchema(n),f,r,t;return i=this.jsoneditor.expandRefs(i),i.title=u.title+" "+(n+1),f=this.jsoneditor.getEditorClass(i),r=this.tabs_holder?this.theme.getTabContent():u.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(r),t=this.jsoneditor.createEditor(f,{jsoneditor:this.jsoneditor,schema:i,container:r,path:this.path+"."+n,parent:this,required:!0}),t.preBuild(),t.build(),t.postBuild(),t.title_controls||(t.array_controls=this.theme.getButtonHolder(),r.appendChild(t.array_controls)),t},destroy:function(){this.empty(!0);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder);this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls);this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel);this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null;this._super()},empty:function(n){if(this.rows){var t=this;i(this.rows,function(i,r){n&&(r.tab&&r.tab.parentNode&&r.tab.parentNode.removeChild(r.tab),t.destroyRow(r,!0),t.row_cache[i]=null);t.rows[i]=null});t.rows=[];n&&(t.row_cache=[])}},destroyRow:function(n,t){var i=n.container;t?(n.destroy(),i.parentNode&&i.parentNode.removeChild(i),n.tab&&n.tab.parentNode&&n.tab.parentNode.removeChild(n.tab)):(n.tab&&(n.tab.style.display="none"),i.style.display="none",n.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&this.schema.additionalItems===!1?Math.min(this.schema.items.length,this.schema.maxItems||Infinity):this.schema.maxItems||Infinity},refreshTabs:function(n){var t=this;i(this.rows,function(i,r){r.tab&&(n?r.tab_text.textContent=r.getHeaderText():r.tab===t.active_tab?(t.theme.markTabActive(r.tab),r.container.style.display=""):(t.theme.markTabInactive(r.tab),r.container.style.display="none"))})},setValue:function(n,t){var e,r,u,f;if(n=n||[],Array.isArray(n)||(n=[n]),e=JSON.stringify(n),e!==this.serialized){if(this.schema.minItems)while(n.length<this.schema.minItems)n.push(this.getItemInfo(n.length)["default"]);for(this.getMax()&&n.length>this.getMax()&&(n=n.slice(0,this.getMax())),r=this,i(n,function(n,i){r.rows[n]?r.rows[n].setValue(i,t):r.row_cache[n]?(r.rows[n]=r.row_cache[n],r.rows[n].setValue(i,t),r.rows[n].container.style.display="",r.rows[n].tab&&(r.rows[n].tab.style.display=""),r.rows[n].register()):r.addRow(i,t)}),u=n.length;u<r.rows.length;u++)r.destroyRow(r.rows[u]),r.rows[u]=null;r.rows=r.rows.slice(0,n.length);f=null;i(r.rows,function(n,t){if(t.tab===r.active_tab)return f=t.tab,!1});!f&&r.rows.length&&(f=r.rows[0].tab);r.active_tab=f;r.refreshValue(t);r.refreshTabs(!0);r.refreshTabs();r.onChange()}},refreshValue:function(n){var u=this,f=this.value?this.value.length:0,r,t;this.value=[];i(this.rows,function(n,t){u.value[n]=t.getValue()});(f!==this.value.length||n)&&(r=this.schema.minItems&&this.schema.minItems>=this.rows.length,i(this.rows,function(n,t){t.movedown_button&&(t.movedown_button.style.display=n===u.rows.length-1?"none":"");t.delete_button&&(t.delete_button.style.display=r?"none":"");u.value[n]=t.getValue()}),t=!1,this.value.length?this.value.length===1?(this.remove_all_rows_button.style.display="none",r||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",t=!0)):(r||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",t=!0),r||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",t=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",t=!0),this.controls.style.display=!this.collapsed&&t?"inline-block":"none")},addRow:function(n,t){var r=this,u=this.rows.length,f;r.rows[u]=this.getElementEditor(u);r.row_cache[u]=r.rows[u];r.tabs_holder&&(r.rows[u].tab_text=document.createElement("span"),r.rows[u].tab_text.textContent=r.rows[u].getHeaderText(),r.rows[u].tab=r.theme.getTab(r.rows[u].tab_text),r.rows[u].tab.addEventListener("click",function(n){r.active_tab=r.rows[u].tab;r.refreshTabs();n.preventDefault();n.stopPropagation()}),r.theme.addTab(r.tabs_holder,r.rows[u].tab));f=r.rows[u].title_controls||r.rows[u].array_controls;r.hide_delete_buttons||(r.rows[u].delete_button=this.getButton(r.getItemTitle(),"delete",this.translate("button_delete_row_title",[r.getItemTitle()])),r.rows[u].delete_button.className+=" delete",r.rows[u].delete_button.setAttribute("data-i",u),r.rows[u].delete_button.addEventListener("click",function(n){n.preventDefault();n.stopPropagation();var f=this.getAttribute("data-i")*1,e=r.getValue(),u=[],t=null;i(e,function(n,i){if(n===f){r.rows[n].tab===r.active_tab&&(r.rows[n+1]?t=r.rows[n].tab:n&&(t=r.rows[n-1].tab));return}u.push(i)});r.setValue(u);t&&(r.active_tab=t,r.refreshTabs());r.onChange(!0)}),f&&f.appendChild(r.rows[u].delete_button));u&&!r.hide_move_buttons&&(r.rows[u].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),r.rows[u].moveup_button.className+=" moveup",r.rows[u].moveup_button.setAttribute("data-i",u),r.rows[u].moveup_button.addEventListener("click",function(n){var t,i,u;if(n.preventDefault(),n.stopPropagation(),t=this.getAttribute("data-i")*1,!(t<=0)){i=r.getValue();u=i[t-1];i[t-1]=i[t];i[t]=u;r.setValue(i);r.active_tab=r.rows[t-1].tab;r.refreshTabs();r.onChange(!0)}}),f&&f.appendChild(r.rows[u].moveup_button));r.hide_move_buttons||(r.rows[u].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),r.rows[u].movedown_button.className+=" movedown",r.rows[u].movedown_button.setAttribute("data-i",u),r.rows[u].movedown_button.addEventListener("click",function(n){var t,i,u;if(n.preventDefault(),n.stopPropagation(),t=this.getAttribute("data-i")*1,i=r.getValue(),!(t>=i.length-1)){u=i[t+1];i[t+1]=i[t];i[t]=u;r.setValue(i);r.active_tab=r.rows[t+1].tab;r.refreshTabs();r.onChange(!0)}}),f&&f.appendChild(r.rows[u].movedown_button));n&&r.rows[u].setValue(n,t);r.refreshTabs()},addControls:function(){var n=this,t,i;this.collapsed=!1;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls.appendChild(this.toggle_button);t=n.row_holder.style.display;i=n.controls.style.display;this.toggle_button.addEventListener("click",function(r){r.preventDefault();r.stopPropagation();n.collapsed?(n.collapsed=!1,n.panel&&(n.panel.style.display=""),n.row_holder.style.display=t,n.tabs_holder&&(n.tabs_holder.style.display=""),n.controls.style.display=i,n.setButtonText(this,"","collapse",n.translate("button_collapse"))):(n.collapsed=!0,n.row_holder.style.display="none",n.tabs_holder&&(n.tabs_holder.style.display="none"),n.controls.style.display="none",n.panel&&(n.panel.style.display="none"),n.setButtonText(this,"","expand",n.translate("button_expand")))});this.options.collapsed&&f(this.toggle_button,"click");this.schema.options&&typeof this.schema.options.disable_collapse!="undefined"?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none");this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()]));this.add_row_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();var i=n.rows.length;n.row_cache[i]?(n.rows[i]=n.row_cache[i],n.rows[i].setValue(n.rows[i].getDefault(),!0),n.rows[i].container.style.display="",n.rows[i].tab&&(n.rows[i].tab.style.display=""),n.rows[i].register()):n.addRow();n.active_tab=n.rows[i].tab;n.refreshTabs();n.refreshValue();n.onChange(!0)});n.controls.appendChild(this.add_row_button);this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()]));this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();var r=n.getValue(),i=null;n.rows.length>1&&n.rows[n.rows.length-1].tab===n.active_tab&&(i=n.rows[n.rows.length-2].tab);r.pop();n.setValue(r);i&&(n.active_tab=i,n.refreshTabs());n.onChange(!0)});n.controls.appendChild(this.delete_last_row_button);this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title"));this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.setValue([]);n.onChange(!0)});n.controls.appendChild(this.remove_all_rows_button);n.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(n){var t=this,r=[],u=[],f;i(n,function(n,i){i.path===t.path?r.push(i):u.push(i)});this.error_holder&&(r.length?(f=[],this.error_holder.innerHTML="",this.error_holder.style.display="",i(r,function(n,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none");i(this.rows,function(n,t){t.showValidationErrors(u)})}});t.defaults.editors.table=t.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var n=0;n<this.rows.length;n++)this.rows[n].register()},unregister:function(){if(this._super(),this.rows)for(var n=0;n<this.rows.length;n++)this.rows[n].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var n=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=n.title||"row";this.item_default=n["default"]||null;this.item_has_child_editors=n.properties||n.items;this.width=12;this._super()},build:function(){var n=this,t,r,u,i,f;if(this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder),t=this.getElementEditor(0,!0),this.item_default=t.getDefault(),this.width=t.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(r=t.getChildEditors(),u=t.property_order||Object.keys(r),i=0;i<u.length;i++)f=n.theme.getTableHeaderCell(r[u[i]].getTitle()),r[u[i]].options.hidden&&(f.style.display="none"),n.header_row.appendChild(f);else n.header_row.appendChild(n.theme.getTableHeaderCell(this.item_title));t.destroy();this.row_holder.innerHTML="";this.controls_header_cell=n.theme.getTableHeaderCell(" ");n.header_row.appendChild(this.controls_header_cell);this.addControls()},onChildEditorChange:function(){this.refreshValue();this._super()},getItemDefault:function(){return r({},{"default":this.item_default})["default"]},getItemTitle:function(){return this.item_title},getElementEditor:function(n,t){var e=r({},this.schema.items),o=this.jsoneditor.getEditorClass(e,this.jsoneditor),u=this.row_holder.appendChild(this.theme.getTableRow()),f=u,i;return this.item_has_child_editors||(f=this.theme.getTableCell(),u.appendChild(f)),i=this.jsoneditor.createEditor(o,{jsoneditor:this.jsoneditor,schema:e,container:f,path:this.path+"."+n,parent:this,compact:!0,table_row:!0}),i.preBuild(),t||(i.build(),i.postBuild(),i.controls_cell=u.appendChild(this.theme.getTableCell()),i.row=u,i.table_controls=this.theme.getButtonHolder(),i.controls_cell.appendChild(i.table_controls),i.table_controls.style.margin=0,i.table_controls.style.padding=0),i},destroy:function(){this.innerHTML="";this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder);this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table);this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel);this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null;this._super()},setValue:function(n,t){var o,f,r,u,e;if(n=n||[],this.schema.minItems)while(n.length<this.schema.minItems)n.push(this.getItemDefault());if(this.schema.maxItems&&n.length>this.schema.maxItems&&(n=n.slice(0,this.schema.maxItems)),o=JSON.stringify(n),o!==this.serialized){for(f=!1,r=this,i(n,function(n,t){r.rows[n]?r.rows[n].setValue(t):(r.addRow(t),f=!0)}),u=n.length;u<r.rows.length;u++)e=r.rows[u].container,r.item_has_child_editors||r.rows[u].row.parentNode.removeChild(r.rows[u].row),r.rows[u].destroy(),e.parentNode&&e.parentNode.removeChild(e),r.rows[u]=null,f=!0;r.rows=r.rows.slice(0,n.length);r.refreshValue();(f||t)&&r.refreshRowButtons();r.onChange()}},refreshRowButtons:function(){var u=this,r=this.schema.minItems&&this.schema.minItems>=this.rows.length,t=!1,n;i(this.rows,function(n,i){i.movedown_button&&(n===u.rows.length-1?i.movedown_button.style.display="none":(t=!0,i.movedown_button.style.display=""));i.delete_button&&(r?i.delete_button.style.display="none":(t=!0,i.delete_button.style.display=""));i.moveup_button&&(t=!0)});i(this.rows,function(n,i){i.controls_cell.style.display=t?"":"none"});this.controls_header_cell.style.display=t?"":"none";n=!1;this.value.length?this.value.length===1?(this.table.style.display="",this.remove_all_rows_button.style.display="none",r||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0)):(this.table.style.display="",r||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0),r||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",n=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none");this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",n=!0);this.controls.style.display=n?"":"none"},refreshValue:function(){var n=this;this.value=[];i(this.rows,function(t,i){n.value[t]=i.getValue()});this.serialized=JSON.stringify(this.value)},addRow:function(n){var t=this,r=this.rows.length,u;t.rows[r]=this.getElementEditor(r);u=t.rows[r].table_controls;this.hide_delete_buttons||(t.rows[r].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),t.rows[r].delete_button.className+=" delete",t.rows[r].delete_button.setAttribute("data-i",r),t.rows[r].delete_button.addEventListener("click",function(n){n.preventDefault();n.stopPropagation();var u=this.getAttribute("data-i")*1,f=t.getValue(),r=[];i(f,function(n,t){n!==u&&r.push(t)});t.setValue(r);t.onChange(!0)}),u.appendChild(t.rows[r].delete_button));r&&!this.hide_move_buttons&&(t.rows[r].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),t.rows[r].moveup_button.className+=" moveup",t.rows[r].moveup_button.setAttribute("data-i",r),t.rows[r].moveup_button.addEventListener("click",function(n){var i,r,u;if(n.preventDefault(),n.stopPropagation(),i=this.getAttribute("data-i")*1,!(i<=0)){r=t.getValue();u=r[i-1];r[i-1]=r[i];r[i]=u;t.setValue(r);t.onChange(!0)}}),u.appendChild(t.rows[r].moveup_button));this.hide_move_buttons||(t.rows[r].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),t.rows[r].movedown_button.className+=" movedown",t.rows[r].movedown_button.setAttribute("data-i",r),t.rows[r].movedown_button.addEventListener("click",function(n){var r,i,u;if(n.preventDefault(),n.stopPropagation(),r=this.getAttribute("data-i")*1,i=t.getValue(),!(r>=i.length-1)){u=i[r+1];i[r+1]=i[r];i[r]=u;t.setValue(i);t.onChange(!0)}}),u.appendChild(t.rows[r].movedown_button));n&&t.rows[r].setValue(n)},addControls:function(){var n=this;this.collapsed=!1;this.toggle_button=this.getButton("","collapse",this.translate("button_collapse"));this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.collapsed?(n.collapsed=!1,n.panel.style.display="",n.setButtonText(this,"","collapse",n.translate("button_collapse"))):(n.collapsed=!0,n.panel.style.display="none",n.setButtonText(this,"","expand",n.translate("button_expand")))}),this.options.collapsed&&f(this.toggle_button,"click"),this.schema.options&&typeof this.schema.options.disable_collapse!="undefined"?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"));this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()]));this.add_row_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.addRow();n.refreshValue();n.refreshRowButtons();n.onChange(!0)});n.controls.appendChild(this.add_row_button);this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()]));this.delete_last_row_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();var i=n.getValue();i.pop();n.setValue(i);n.onChange(!0)});n.controls.appendChild(this.delete_last_row_button);this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title"));this.remove_all_rows_button.addEventListener("click",function(t){t.preventDefault();t.stopPropagation();n.setValue([]);n.onChange(!0)});n.controls.appendChild(this.remove_all_rows_button)}});t.defaults.editors.multiple=t.AbstractEditor.extend({register:function(){if(this.editors){for(var n=0;n<this.editors.length;n++)this.editors[n]&&this.editors[n].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var n=0;n<this.editors.length;n++)this.editors[n]&&this.editors[n].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var n=0;n<this.editors.length;n++)this.editors[n]&&this.editors[n].enable();this.switcher.disabled=!1;this._super()},disable:function(){if(this.editors)for(var n=0;n<this.editors.length;n++)this.editors[n]&&this.editors[n].disable();this.switcher.disabled=!0;this._super()},switchEditor:function(n){var t=this,r;this.editors[n]||this.buildChildEditor(n);r=t.getValue();t.type=n;t.register();i(t.editors,function(n,i){i&&(t.type===n?(t.keep_values&&i.setValue(r,!0),i.container.style.display=""):i.container.style.display="none")});t.refreshValue();t.refreshHeaderText()},buildChildEditor:function(n){var t=this,u=this.types[n],f=t.theme.getChildEditorHolder(),i,e;t.editor_holder.appendChild(f);typeof u=="string"?(i=r({},t.schema),i.type=u):(i=r({},t.schema,u),i=t.jsoneditor.expandRefs(i),u.required&&Array.isArray(u.required)&&t.schema.required&&Array.isArray(t.schema.required)&&(i.required=t.schema.required.concat(u.required)));e=t.jsoneditor.getEditorClass(i);t.editors[n]=t.jsoneditor.createEditor(e,{jsoneditor:t.jsoneditor,schema:i,container:f,path:t.path,parent:t,required:!0});t.editors[n].preBuild();t.editors[n].build();t.editors[n].postBuild();t.editors[n].header&&(t.editors[n].header.style.display="none");t.editors[n].option=t.switcher_options[n];f.addEventListener("change_header_text",function(){t.refreshHeaderText()});n!==t.type&&(f.style.display="none")},preBuild:function(){var r=this,n,t;this.types=[];this.type=0;this.editors=[];this.validators=[];this.keep_values=!0;typeof this.jsoneditor.options.keep_oneof_values!="undefined"&&(this.keep_values=this.jsoneditor.options.keep_oneof_values);typeof this.options.keep_oneof_values!="undefined"&&(this.keep_values=this.options.keep_oneof_values);this.schema.oneOf?(this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf):this.schema.anyOf?(this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf):(this.schema.type&&this.schema.type!=="any"?this.types=Array.isArray(this.schema.type)?this.schema.type:[this.schema.type]:(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow&&(n=this.schema.disallow,typeof n=="object"&&Array.isArray(n)||(n=[n]),t=[],i(this.types,function(i,r){n.indexOf(r)===-1&&t.push(r)}),this.types=t)),delete this.schema.type);this.display_text=this.getDisplayText(this.types)},build:function(){var n=this,f=this.container,u;this.header=this.label=this.theme.getFormInputLabel(this.getTitle());this.container.appendChild(this.header);this.switcher=this.theme.getSwitcher(this.display_text);f.appendChild(this.switcher);this.switcher.addEventListener("change",function(t){t.preventDefault();t.stopPropagation();n.switchEditor(n.display_text.indexOf(this.value));n.onChange(!0)});this.editor_holder=document.createElement("div");f.appendChild(this.editor_holder);u={};n.jsoneditor.options.custom_validators&&(u.custom_validators=n.jsoneditor.options.custom_validators);this.switcher_options=this.theme.getSwitcherOptions(this.switcher);i(this.types,function(i,f){n.editors[i]=!1;var e;typeof f=="string"?(e=r({},n.schema),e.type=f):(e=r({},n.schema,f),f.required&&Array.isArray(f.required)&&n.schema.required&&Array.isArray(n.schema.required)&&(e.required=n.schema.required.concat(f.required)));n.validators[i]=new t.Validator(n.jsoneditor,e,u)});this.switchEditor(0)},onChildEditorChange:function(){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText());this._super()},refreshHeaderText:function(){var n=this.getDisplayText(this.types);i(this.switcher_options,function(t,i){i.textContent=n[t]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(n,t){var r=this;i(this.validators,function(t,i){if(!i.validate(n).length)return r.type=t,r.switcher.value=r.display_text[t],!1});this.switchEditor(this.type);this.editors[this.type].setValue(n,t);this.refreshValue();r.onChange()},destroy:function(){i(this.editors,function(n,t){t&&t.destroy()});this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder);this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher);this._super()},showValidationErrors:function(n){var t=this,u;this.oneOf||this.anyOf?(u=this.oneOf?"oneOf":"anyOf",i(this.editors,function(f,e){if(e){var o=t.path+"."+u+"["+f+"]",s=[];i(n,function(n,i){if(i.path.substr(0,o.length)===o){var u=r({},i);u.path=t.path+u.path.substr(o.length);s.push(u)}});e.showValidationErrors(s)}})):i(this.editors,function(t,i){i&&i.showValidationErrors(n)})}});t.defaults.editors["enum"]=t.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var i=this.container,n,t;for(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this["enum"]=this.schema["enum"],this.selected=0,this.select_options=[],this.html_values=[],n=this,t=0;t<this["enum"].length;t++)this.select_options[t]=this.options.enum_titles[t]||"Value "+(t+1),this.html_values[t]=this.getHTML(this["enum"][t]);this.switcher=this.theme.getSwitcher(this.select_options);this.container.appendChild(this.switcher);this.display_area=this.theme.getIndentedPanel();this.container.appendChild(this.display_area);this.options.hide_display&&(this.display_area.style.display="none");this.switcher.addEventListener("change",function(){n.selected=n.select_options.indexOf(this.value);n.value=n["enum"][n.selected];n.refreshValue();n.onChange(!0)});this.value=this["enum"][0];this.refreshValue();this["enum"].length===1&&(this.switcher.style.display="none")},refreshValue:function(){var n=this,t;if(n.selected=-1,t=JSON.stringify(this.value),i(this["enum"],function(i,r){if(t===JSON.stringify(r))return n.selected=i,!1}),n.selected<0){n.setValue(n["enum"][0]);return}this.switcher.value=this.select_options[this.selected];this.display_area.innerHTML=this.html_values[this.selected]},enable:function(){this.always_disabled||(this.switcher.disabled=!1);this._super()},disable:function(){this.switcher.disabled=!0;this._super()},getHTML:function(n){var r=this,t;return n===null?"<em>null<\/em>":typeof n=="object"?(t="",i(n,function(i,u){var f=r.getHTML(u);Array.isArray(n)||(f="<div><em>"+i+"<\/em>: "+f+"<\/div>");t+="<li>"+f+"<\/li>"}),t=Array.isArray(n)?"<ol>"+t+"<\/ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+t+"<\/ul>"):typeof n=="boolean"?n?"true":"false":typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},setValue:function(n){this.value!==n&&(this.value=n,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher);this._super()}});t.defaults.editors.select=t.AbstractEditor.extend({setValue:function(n){n=this.typecast(n||"");var t=n;(this.enum_values.indexOf(t)<0&&(t=this.enum_values[0]),this.value!==t)&&(this.input.value=this.enum_options[this.enum_values.indexOf(t)],this.select2&&this.select2.select2("val",this.input.value),this.value=t,this.onChange())},register:function(){(this._super(),this.input)&&this.input.setAttribute("name",this.formname)},unregister:function(){(this._super(),this.input)&&this.input.removeAttribute("name")},getNumColumns:function(){var n,t;if(!this.enum_options)return 3;for(n=this.getTitle().length,t=0;t<this.enum_options.length;t++)n=Math.max(n,this.enum_options[t].length+4);return Math.min(12,Math.max(n/7,2))},typecast:function(n){return this.schema.type==="boolean"?!!n:this.schema.type==="number"?1*n:this.schema.type==="integer"?Math.floor(n*1):""+n},getValue:function(){return this.value},preBuild:function(){var t=this,n,u;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema["enum"])u=this.schema.options&&this.schema.options.enum_titles||[],i(this.schema["enum"],function(n,i){t.enum_options[n]=""+i;t.enum_display[n]=""+(u[n]||i);t.enum_values[n]=t.typecast(i)}),this.isRequired()||(t.enum_display.unshift(" "),t.enum_options.unshift("undefined"),t.enum_values.unshift(undefined));else if(this.schema.type==="boolean")t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],t.enum_options=["1",""],t.enum_values=[!0,!1],this.isRequired()||(t.enum_display.unshift(" "),t.enum_options.unshift("undefined"),t.enum_values.unshift(undefined));else if(this.schema.enumSource){if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(n=0;n<this.schema.enumSource.length;n++)this.enumSource[n]=typeof this.schema.enumSource[n]=="string"?{source:this.schema.enumSource[n]}:Array.isArray(this.schema.enumSource[n])?this.schema.enumSource[n]:r({},this.schema.enumSource[n]);else this.enumSource=this.schema.enumValue?[{source:this.schema.enumSource,value:this.schema.enumValue}]:[{source:this.schema.enumSource}];for(n=0;n<this.enumSource.length;n++)this.enumSource[n].value&&(this.enumSource[n].value=this.jsoneditor.compileTemplate(this.enumSource[n].value,this.template_engine)),this.enumSource[n].title&&(this.enumSource[n].title=this.jsoneditor.compileTemplate(this.enumSource[n].title,this.template_engine)),this.enumSource[n].filter&&(this.enumSource[n].filter=this.jsoneditor.compileTemplate(this.enumSource[n].filter,this.template_engine))}else throw"'select' editor requires the enum property to be set.";},build:function(){var n=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));this.options.compact&&(this.container.className+=" compact");this.input=this.theme.getSelectInput(this.enum_options);this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0);this.input.addEventListener("change",function(t){t.preventDefault();t.stopPropagation();n.onInputChange()});this.control=this.theme.getFormControl(this.label,this.input,this.description);this.container.appendChild(this.control);this.value=this.enum_values[0]},onInputChange:function(){var t=this.input.value,n;if(n=this.enum_options.indexOf(t)===-1?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(t)],n!==this.value){this.value=n;this.onChange(!0)}},setupSelect2:function(){var i,n;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){i=r({},t.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(i=r(i,this.schema.options.select2_options));this.select2=window.jQuery(this.input).select2(i);n=this;this.select2.on("select2-blur",function(){n.input.value=n.select2.select2("val");n.onInputChange()});this.select2.on("change",function(){n.input.value=n.select2.select2("val");n.onInputChange()})}else this.select2=null},postBuild:function(){this._super();this.theme.afterInputReady(this.input);this.setupSelect2()},onWatchedFieldChange:function(){var l=this,o,t,r,u,n,i,s,h,f,c,e;if(this.enumSource){for(o=this.getWatchedFieldValues(),r=[],u=[],n=0;n<this.enumSource.length;n++)if(Array.isArray(this.enumSource[n]))r=r.concat(this.enumSource[n]),u=u.concat(this.enumSource[n]);else if(i=[],i=Array.isArray(this.enumSource[n].source)?this.enumSource[n].source:o[this.enumSource[n].source],i){if(this.enumSource[n].slice&&(i=Array.prototype.slice.apply(i,this.enumSource[n].slice)),this.enumSource[n].filter){for(s=[],t=0;t<i.length;t++)this.enumSource[n].filter({i:t,item:i[t],watched:o})&&s.push(i[t]);i=s}for(h=[],f=[],t=0;t<i.length;t++)c=i[t],f[t]=this.enumSource[n].value?this.enumSource[n].value({i:t,item:c}):i[t],h[t]=this.enumSource[n].title?this.enumSource[n].title({i:t,item:c}):f[t];r=r.concat(f);u=u.concat(h)}if(e=this.value,this.theme.setSelectOptions(this.input,r,u),this.enum_options=r,this.enum_display=u,this.enum_values=r,this.select2&&this.select2.select2("destroy"),r.indexOf(e)!==-1)this.input.value=e,this.value=e;else{if(this.input.value=r[0],this.value=r[0]||"",this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange();this.jsoneditor.notifyWatchers(this.path)}this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0));this._super()},disable:function(){this.input.disabled=!0;this.select2&&this.select2.select2("enable",!1);this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.select2&&(this.select2.select2("destroy"),this.select2=null);this._super()}});t.defaults.editors.selectize=t.AbstractEditor.extend({setValue:function(n){n=this.typecast(n||"");var t=n;(this.enum_values.indexOf(t)<0&&(t=this.enum_values[0]),this.value!==t)&&(this.input.value=this.enum_options[this.enum_values.indexOf(t)],this.selectize&&this.selectize[0].selectize.addItem(t),this.value=t,this.onChange())},register:function(){(this._super(),this.input)&&this.input.setAttribute("name",this.formname)},unregister:function(){(this._super(),this.input)&&this.input.removeAttribute("name")},getNumColumns:function(){var n,t;if(!this.enum_options)return 3;for(n=this.getTitle().length,t=0;t<this.enum_options.length;t++)n=Math.max(n,this.enum_options[t].length+4);return Math.min(12,Math.max(n/7,2))},typecast:function(n){return this.schema.type==="boolean"?!!n:this.schema.type==="number"?1*n:this.schema.type==="integer"?Math.floor(n*1):""+n},getValue:function(){return this.value},preBuild:function(){var t=this,n,u;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum)u=this.schema.options&&this.schema.options.enum_titles||[],i(this.schema.enum,function(n,i){t.enum_options[n]=""+i;t.enum_display[n]=""+(u[n]||i);t.enum_values[n]=t.typecast(i)});else if(this.schema.type==="boolean")t.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],t.enum_options=["1","0"],t.enum_values=[!0,!1];else if(this.schema.enumSource){if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(n=0;n<this.schema.enumSource.length;n++)this.enumSource[n]=typeof this.schema.enumSource[n]=="string"?{source:this.schema.enumSource[n]}:Array.isArray(this.schema.enumSource[n])?this.schema.enumSource[n]:r({},this.schema.enumSource[n]);else this.enumSource=this.schema.enumValue?[{source:this.schema.enumSource,value:this.schema.enumValue}]:[{source:this.schema.enumSource}];for(n=0;n<this.enumSource.length;n++)this.enumSource[n].value&&(this.enumSource[n].value=this.jsoneditor.compileTemplate(this.enumSource[n].value,this.template_engine)),this.enumSource[n].title&&(this.enumSource[n].title=this.jsoneditor.compileTemplate(this.enumSource[n].title,this.template_engine)),this.enumSource[n].filter&&(this.enumSource[n].filter=this.jsoneditor.compileTemplate(this.enumSource[n].filter,this.template_engine))}else throw"'select' editor requires the enum property to be set.";},build:function(){var n=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));this.options.compact&&(this.container.className+=" compact");this.input=this.theme.getSelectInput(this.enum_options);this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0);this.input.addEventListener("change",function(t){t.preventDefault();t.stopPropagation();n.onInputChange()});this.control=this.theme.getFormControl(this.label,this.input,this.description);this.container.appendChild(this.control);this.value=this.enum_values[0]},onInputChange:function(){var n=this.input.value,t=n;this.enum_options.indexOf(n)===-1&&(t=this.enum_options[0]);this.value=this.enum_values[this.enum_options.indexOf(n)];this.onChange(!0)},setupSelectize:function(){var i=this,n;window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)?(n=r({},t.plugins.selectize),this.schema.options&&this.schema.options.selectize_options&&(n=r(n,this.schema.options.selectize_options)),this.selectize=window.jQuery(this.input).selectize(r(n,{create:!0,onChange:function(){i.onInputChange()}}))):this.selectize=null},postBuild:function(){this._super();this.theme.afterInputReady(this.input);this.setupSelectize()},onWatchedFieldChange:function(){var l=this,o,n,i,u,t,r,s,h,f,c,e;if(this.enumSource){for(o=this.getWatchedFieldValues(),i=[],u=[],t=0;t<this.enumSource.length;t++)if(Array.isArray(this.enumSource[t]))i=i.concat(this.enumSource[t]),u=u.concat(this.enumSource[t]);else if(o[this.enumSource[t].source]){if(r=o[this.enumSource[t].source],this.enumSource[t].slice&&(r=Array.prototype.slice.apply(r,this.enumSource[t].slice)),this.enumSource[t].filter){for(s=[],n=0;n<r.length;n++)this.enumSource[t].filter({i:n,item:r[n]})&&s.push(r[n]);r=s}for(h=[],f=[],n=0;n<r.length;n++)c=r[n],f[n]=this.enumSource[t].value?this.enumSource[t].value({i:n,item:c}):r[n],h[n]=this.enumSource[t].title?this.enumSource[t].title({i:n,item:c}):f[n];i=i.concat(f);u=u.concat(h)}if(e=this.value,this.theme.setSelectOptions(this.input,i,u),this.enum_options=i,this.enum_display=u,this.enum_values=i,i.indexOf(e)!==-1)this.input.value=e,this.value=e;else{if(this.input.value=i[0],this.value=i[0]||"",this.parent)this.parent.onChildEditorChange(this);else this.jsoneditor.onChange();this.jsoneditor.notifyWatchers(this.path)}this.selectize?this.updateSelectizeOptions(i):this.setupSelectize();this._super()}},updateSelectizeOptions:function(n){var t=this.selectize[0].selectize,r=this,i;t.off();t.clearOptions();for(i in n)t.addOption({value:n[i],text:n[i]});t.addItem(this.value);t.on("change",function(){r.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock());this._super()},disable:function(){this.input.disabled=!0;this.selectize&&this.selectize[0].selectize.lock();this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null);this._super()}});t.defaults.editors.multiselect=t.AbstractEditor.extend({preBuild:function(){var n;this._super();this.select_options={};this.select_values={};var i=this.jsoneditor.expandRefs(this.schema.items||{}),t=i["enum"]||[],r=i.options?i.options.enum_titles||[]:[];for(this.option_keys=[],this.option_titles=[],n=0;n<t.length;n++)this.sanitize(t[n])===t[n]&&(this.option_keys.push(t[n]+""),this.option_titles.push((r[n]||t[n])+""),this.select_values[t[n]+""]=t[n])},build:function(){var t=this,n,i;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||this.schema.format==="checkbox"){for(this.input_type="checkboxes",this.inputs={},this.controls={},n=0;n<this.option_keys.length;n++)this.inputs[this.option_keys[n]]=this.theme.getCheckbox(),this.select_options[this.option_keys[n]]=this.inputs[this.option_keys[n]],i=this.theme.getCheckboxLabel(this.option_titles[n]),this.controls[this.option_keys[n]]=this.theme.getFormControl(i,this.inputs[this.option_keys[n]]);this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),n=0;n<this.option_keys.length;n++)this.select_options[this.option_keys[n]]=this.input.children[n];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0);this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control);this.control.addEventListener("change",function(i){i.preventDefault();i.stopPropagation();var r=[];for(n=0;n<t.option_keys.length;n++)(t.select_options[t.option_keys[n]].selected||t.select_options[t.option_keys[n]].checked)&&r.push(t.select_values[t.option_keys[n]]);t.updateValue(r);t.onChange(!0)})},setValue:function(n){var t;for(n=n||[],typeof n!="object"?n=[n]:Array.isArray(n)||(n=[]),t=0;t<n.length;t++)typeof n[t]!="string"&&(n[t]+="");for(t in this.select_options)this.select_options.hasOwnProperty(t)&&(this.select_options[t][this.input_type==="select"?"selected":"checked"]=n.indexOf(t)!==-1);this.updateValue(n);this.onChange()},setupSelect2:function(){var n,i;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){n=window.jQuery.extend({},t.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(n=r(n,this.schema.options.select2_options));this.select2=window.jQuery(this.input).select2(n);i=this;this.select2.on("select2-blur",function(){var n=i.select2.select2("val");i.value=n;i.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value;this.onChange(!0)},postBuild:function(){this._super();this.setupSelect2()},register:function(){(this._super(),this.input)&&this.input.setAttribute("name",this.formname)},unregister:function(){(this._super(),this.input)&&this.input.removeAttribute("name")},getNumColumns:function(){var n=this.getTitle().length;for(var t in this.select_values)this.select_values.hasOwnProperty(t)&&(n=Math.max(n,(this.select_values[t]+"").length+4));return Math.min(12,Math.max(n/7,2))},updateValue:function(n){for(var r,i=!1,u=[],t=0;t<n.length;t++){if(!this.select_options[n[t]+""]){i=!0;continue}r=this.sanitize(this.select_values[n[t]]);u.push(r);r!==n[t]&&(i=!0)}return this.value=u,this.select2&&this.select2.select2("val",this.value),i},sanitize:function(n){return this.schema.items.type==="number"?1*n:this.schema.items.type==="integer"?Math.floor(n*1):""+n},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var n in this.inputs)this.inputs.hasOwnProperty(n)&&(this.inputs[n].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var n in this.inputs)this.inputs.hasOwnProperty(n)&&(this.inputs[n].disabled=!0);this.select2&&this.select2.select2("enable",!1);this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null);this._super()}});t.defaults.editors.base64=t.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var n=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file");this.uploader.addEventListener("change",function(t){if(t.preventDefault(),t.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(t){n.value=t.target.result;n.refreshPreview();n.onChange(!0);i=null};i.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description);this.container.appendChild(this.preview);this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview);this.container.appendChild(this.control)},refreshPreview:function(){var n,t;this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)&&(n=this.value.match(/^data:([^;,]+)[;,]/),n&&(n=n[1]),n?(this.preview.innerHTML="<strong>Type:<\/strong> "+n+", <strong>Size:<\/strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes",n.substr(0,5)==="image"&&(this.preview.innerHTML+="<br>",t=document.createElement("img"),t.style.maxWidth="100%",t.style.maxHeight="100px",t.src=this.value,this.preview.appendChild(t))):this.preview.innerHTML="<em>Invalid data URI<\/em>")},enable:function(){this.uploader&&(this.uploader.disabled=!1);this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0);this._super()},setValue:function(n){this.value!==n&&(this.value=n,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader);this._super()}});t.defaults.editors.upload=t.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var t=this,n;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file");this.uploader.addEventListener("change",function(n){if(n.preventDefault(),n.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(n){t.preview_value=n.target.result;t.refreshPreview();t.onChange(!0);i=null};i.readAsDataURL(this.files[0])}})}n=this.schema.description;n||(n="");this.preview=this.theme.getFormInputDescription(n);this.container.appendChild(this.preview);this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview);this.container.appendChild(this.control)},refreshPreview:function(){var n,t,u,r,i;this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)&&(n=this,t=this.preview_value.match(/^data:([^;,]+)[;,]/),t&&(t=t[1]),t||(t="unknown"),u=this.uploader.files[0],this.preview.innerHTML="<strong>Type:<\/strong> "+t+", <strong>Size:<\/strong> "+u.size+" bytes",t.substr(0,5)==="image"&&(this.preview.innerHTML+="<br>",r=document.createElement("img"),r.style.maxWidth="100%",r.style.maxHeight="100px",r.src=this.preview_value,this.preview.appendChild(r)),this.preview.innerHTML+="<br>",i=this.getButton("Upload","upload","Upload"),this.preview.appendChild(i),i.addEventListener("click",function(t){t.preventDefault();i.setAttribute("disabled","disabled");n.theme.removeInputError(n.uploader);n.theme.getProgressBar&&(n.progressBar=n.theme.getProgressBar(),n.preview.appendChild(n.progressBar));n.jsoneditor.options.upload(n.path,u,{success:function(t){if(n.setValue(t),n.parent)n.parent.onChildEditorChange(n);else n.jsoneditor.onChange();n.progressBar&&n.preview.removeChild(n.progressBar);i.removeAttribute("disabled")},failure:function(t){n.theme.addInputError(n.uploader,t);n.progressBar&&n.preview.removeChild(n.progressBar);i.removeAttribute("disabled")},updateProgress:function(t){n.progressBar&&(t?n.theme.updateProgressBar(n.progressBar,t):n.theme.updateProgressBarUnknown(n.progressBar))}})}))},enable:function(){this.uploader&&(this.uploader.disabled=!1);this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0);this._super()},setValue:function(n){this.value!==n&&(this.value=n,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader);this._super()}});t.defaults.editors.checkbox=t.AbstractEditor.extend({setValue:function(n){this.value=!!n;this.input.checked=this.value;this.onChange()},register:function(){(this._super(),this.input)&&this.input.setAttribute("name",this.formname)},unregister:function(){(this._super(),this.input)&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var n=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle()));this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description));this.options.compact&&(this.container.className+=" compact");this.input=this.theme.getCheckbox();this.control=this.theme.getFormControl(this.label,this.input,this.description);(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0);this.input.addEventListener("change",function(t){t.preventDefault();t.stopPropagation();n.value=this.checked;n.onChange(!0)});this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1);this._super()},disable:function(){this.input.disabled=!0;this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this._super()}});t.defaults.editors.arraySelectize=t.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle());this.title_controls=this.theme.getHeaderButtonHolder();this.title.appendChild(this.title_controls);this.error_holder=document.createElement("div");this.schema.description&&(this.description=this.theme.getDescription(this.schema.description));this.input=document.createElement("select");this.input.setAttribute("multiple","multiple");var n=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(n);this.container.appendChild(this.error_holder);window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var n=this;this.input.selectize.on("change",function(){n.refreshValue();n.onChange(!0)})},destroy:function(){this.empty(!0);this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title);this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description);this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input);this._super()},empty:function(){},setValue:function(n,t){var i=this;n=n||[];Array.isArray(n)||(n=[n]);this.input.selectize.clearOptions();this.input.selectize.clear(!0);n.forEach(function(n){i.input.selectize.addOption({text:n,value:n})});this.input.selectize.setValue(n);this.refreshValue(t)},refreshValue:function(){this.value=this.input.selectize.getValue()},showValidationErrors:function(n){var t=this,r=[],u=[],f;i(n,function(n,i){i.path===t.path?r.push(i):u.push(i)});this.error_holder&&(r.length?(f=[],this.error_holder.innerHTML="",this.error_holder.style.display="",i(r,function(n,i){t.error_holder.appendChild(t.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none")}});e=function(){var n=document.documentElement;return n.matches?"matches":n.webkitMatchesSelector?"webkitMatchesSelector":n.mozMatchesSelector?"mozMatchesSelector":n.msMatchesSelector?"msMatchesSelector":n.oMatchesSelector?"oMatchesSelector":void 0}();t.AbstractTheme=u.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var n=document.createElement("div");return n.style=n.style||{},n.style.cssFloat="right",n.style.marginLeft="10px",n},getModal:function(){var n=document.createElement("div");return n.style.backgroundColor="white",n.style.border="1px solid black",n.style.boxShadow="3px 3px black",n.style.position="absolute",n.style.zIndex="10",n.style.display="none",n},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var n=document.createElement("div");return n.className="row",n},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(){},getLink:function(n){var t=document.createElement("a");return t.setAttribute("href","#"),t.appendChild(document.createTextNode(n)),t},disableHeader:function(n){n.style.color="#ccc"},disableLabel:function(n){n.style.color="#ccc"},enableHeader:function(n){n.style.color=""},enableLabel:function(n){n.style.color=""},getFormInputLabel:function(n){var t=document.createElement("label");return t.appendChild(document.createTextNode(n)),t},getCheckboxLabel:function(n){var t=this.getFormInputLabel(n);return t.style.fontWeight="normal",t},getHeader:function(n){var t=document.createElement("h3");return typeof n=="string"?t.textContent=n:t.appendChild(n),t},getCheckbox:function(){var n=this.getFormInputField("checkbox");return n.style.display="inline-block",n.style.width="auto",n},getMultiCheckboxHolder:function(n,t,i){var u=document.createElement("div"),r;t&&(t.style.display="block",u.appendChild(t));for(r in n)n.hasOwnProperty(r)&&(n[r].style.display="inline-block",n[r].style.marginRight="20px",u.appendChild(n[r]));return i&&u.appendChild(i),u},getSelectInput:function(n){var t=document.createElement("select");return n&&this.setSelectOptions(t,n),t},getSwitcher:function(n){var t=this.getSelectInput(n);return t.style.backgroundColor="transparent",t.style.display="inline-block",t.style.fontStyle="italic",t.style.fontWeight="normal",t.style.height="auto",t.style.marginBottom=0,t.style.marginLeft="5px",t.style.padding="0 0 0 3px",t.style.width="auto",t},getSwitcherOptions:function(n){return n.getElementsByTagName("option")},setSwitcherOptions:function(n,t,i){this.setSelectOptions(n,t,i)},setSelectOptions:function(n,t,i){var r,u;for(i=i||[],n.innerHTML="",r=0;r<t.length;r++)u=document.createElement("option"),u.setAttribute("value",t[r]),u.textContent=i[r]||t[r],n.appendChild(u)},getTextareaInput:function(){var n=document.createElement("textarea");return n.style=n.style||{},n.style.width="100%",n.style.height="300px",n.style.boxSizing="border-box",n},getRangeInput:function(n,t,i){var r=this.getFormInputField("range");return r.setAttribute("min",n),r.setAttribute("max",t),r.setAttribute("step",i),r},getFormInputField:function(n){var t=document.createElement("input");return t.setAttribute("type",n),t},afterInputReady:function(){},getFormControl:function(n,t,i){var r=document.createElement("div");return r.className="form-control",n&&r.appendChild(n),t.type==="checkbox"?n.insertBefore(t,n.firstChild):r.appendChild(t),i&&r.appendChild(i),r},getIndentedPanel:function(){var n=document.createElement("div");return n.style=n.style||{},n.style.paddingLeft="10px",n.style.marginLeft="10px",n.style.borderLeft="1px solid #ccc",n},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(n){var t=document.createElement("p");return t.innerHTML=n,t},getCheckboxDescription:function(n){return this.getDescription(n)},getFormInputDescription:function(n){return this.getDescription(n)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(n,t,i){var r=document.createElement("button");return r.type="button",this.setButtonText(r,n,t,i),r},setButtonText:function(n,t,i,r){n.innerHTML="";i&&(n.appendChild(i),n.innerHTML+=" ");n.appendChild(document.createTextNode(t));r&&n.setAttribute("title",r)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(n){var t=document.createElement("th");return t.textContent=n,t},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(n){var t=document.createElement("p");return t.style=t.style||{},t.style.color="red",t.appendChild(document.createTextNode(n)),t},addInputError:function(){},removeInputError:function(){},addTableRowError:function(){},removeTableRowError:function(){},getTabHolder:function(){var n=document.createElement("div");return n.innerHTML="<div style='float: left; width: 130px;' class='tabs'><\/div><div class='content' style='margin-left: 130px;'><\/div><div style='clear:both;'><\/div>",n},applyStyles:function(n,t){n.style=n.style||{};for(var i in t)t.hasOwnProperty(i)&&(n.style[i]=t[i])},closest:function(n,t){while(n&&n!==document)if(n[e]){if(n[e](t))return n;n=n.parentNode}else return!1;return!1},getTab:function(n){var t=document.createElement("div");return t.appendChild(n),t.style=t.style||{},this.applyStyles(t,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),t},getTabContentHolder:function(n){return n.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(n){this.applyStyles(n,{opacity:1,background:"white"})},markTabInactive:function(n){this.applyStyles(n,{opacity:.5,background:""})},addTab:function(n,t){n.children[0].appendChild(t)},getBlockLink:function(){var n=document.createElement("a");return n.style.display="block",n},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(n,t,i){n.appendChild(t);i.style.width="100%";n.appendChild(i)},createImageLink:function(n,t,i){n.appendChild(t);t.appendChild(i)}});t.AbstractIconLib=u.extend({mapping:{collapse:"",expand:"","delete":"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(n){return this.mapping[n]?this.icon_prefix+this.mapping[n]:null},getIcon:function(n){var i=this.getIconClass(n),t;return i?(t=document.createElement("i"),t.className=i,t):null}});t.defaults.iconlibs.bootstrap3=t.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right","delete":"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"});t.defaults.templates["default"]=function(){return{compile:function(n){var i=n.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),r=i&&i.length,u,f,t;if(!r)return function(){return n};for(u=[],f=function(n){var t=i[n].replace(/[{}]+/g,"").trim().split("."),e=t.length,f,r;e>1?f=function(i){for(r=i,n=0;n<e;n++)if(r=r[t[n]],!r)break;return r}:(t=t[0],f=function(n){return n[t]});u.push({s:i[n],r:f})},t=0;t<r;t++)f(t);return function(i){var f=n+"",e;for(t=0;t<r;t++)e=u[t],f=f.replace(e.s,e.r(i));return f}}}};t.defaults.theme="html";t.defaults.template="default";t.defaults.options={};t.defaults.translate=function(n,i){var f=t.defaults.languages[t.defaults.language],r,u;if(!f)throw"Unknown language "+t.defaults.language;if(r=f[n]||t.defaults.languages[t.defaults.default_language][n],typeof r=="undefined")throw"Unknown translate string "+n;if(i)for(u=0;u<i.length;u++)r=r.replace(new RegExp("\\{\\{"+u+"}}","g"),i[u]);return r};t.defaults.default_language="en";t.defaults.language=t.defaults.default_language;t.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand"};t.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}};i(t.defaults.editors,function(n,i){t.defaults.editors[n].options=i.options||{}});t.defaults.resolvers.unshift(function(n){if(typeof n.type!="string")return"multiple"});t.defaults.resolvers.unshift(function(n){if(!n.type&&n.properties)return"object"});t.defaults.resolvers.unshift(function(n){if(typeof n.type=="string")return n.type});t.defaults.resolvers.unshift(function(n){if(n.type==="boolean")return n.format==="checkbox"||n.options&&n.options.checkbox?"checkbox":t.plugins.selectize.enable?"selectize":"select"});t.defaults.resolvers.unshift(function(n){if(n.type==="any")return"multiple"});t.defaults.resolvers.unshift(function(n){if(n.type==="string"&&n.media&&n.media.binaryEncoding==="base64")return"base64"});t.defaults.resolvers.unshift(function(n){if(n.type==="string"&&n.format==="url"&&n.options&&n.options.upload===!0&&window.FileReader)return"upload"});t.defaults.resolvers.unshift(function(n){if(n.type=="array"&&n.format=="table")return"table"});t.defaults.resolvers.unshift(function(n){if(n.enumSource)return t.plugins.selectize.enable?"selectize":"select"});t.defaults.resolvers.unshift(function(n){if(n["enum"]){if(n.type==="array"||n.type==="object")return"enum";if(n.type==="number"||n.type==="integer"||n.type==="string")return t.plugins.selectize.enable?"selectize":"select"}});t.defaults.resolvers.unshift(function(n){if(n.type==="array"&&n.items&&!Array.isArray(n.items)&&n.uniqueItems&&["string","number","integer"].indexOf(n.items.type)>=0){if(n.items.enum)return"multiselect";if(t.plugins.selectize.enable&&n.items.type==="string")return"arraySelectize"}});t.defaults.resolvers.unshift(function(n){if(n.oneOf||n.anyOf)return"multiple"});t.defaults.themes.bootstrap3custom=t.AbstractTheme.extend({getContainer:function(){var n=document.createElement("div");return n.setAttribute("class","hr-json-editor"),n},getHeader:function(n){var t=document.createElement("h3");return t.setAttribute("class","title"),typeof n=="string"?t.textContent=n:t.appendChild(n),t},getSelectInput:function(n){var t=this._super(n);return t.className+="form-control",t},setGridColumnSize:function(n,t){n.className="col-md-"+t},afterInputReady:function(n){n.controlgroup||(n.controlgroup=this.closest(n,".form-group"),this.closest(n,".compact")&&(n.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var n=document.createElement("textarea");return n.className="form-control",n},getRangeInput:function(n,t,i){return this._super(n,t,i)},getFormInputField:function(n){var t=this._super(n);return n!=="checkbox"&&(t.className+="form-control"),t},getFormControl:function(n,t,i){var r=document.createElement("div");return n&&t.type==="checkbox"?(r.className+=" checkbox",n.appendChild(t),n.style.fontSize="14px",r.style.marginTop="0",r.appendChild(n),t.style.position="relative",t.style.cssFloat="left"):(r.className+=" form-group",n&&(n.className+=" control-label",r.appendChild(n)),r.appendChild(t)),i&&r.appendChild(i),r},getIndentedPanel:function(){var n=document.createElement("div");return n.className="indentedPanel",n},getFormInputDescription:function(n){var t=document.createElement("p");return t.className="help-block",t.innerHTML=n,t},getHeaderButtonHolder:function(){var n=this.getButtonHolder();return n.style.marginLeft="10px",n},getButtonHolder:function(){var n=document.createElement("div");return n.className="btn-group",n},getButton:function(n,t,i){var r=this._super(n,t,i);return r.className+="btn btn-default",r},getTable:function(){var n=document.createElement("table");return n.className="table table-bordered",n.style.width="auto",n.style.maxWidth="none",n},addInputError:function(n,t){n.controlgroup&&(n.controlgroup.className+=" has-error",n.errmsg?n.errmsg.style.display="":(n.errmsg=document.createElement("p"),n.errmsg.className="help-block errormsg",n.controlgroup.appendChild(n.errmsg)),n.errmsg.textContent=t)},removeInputError:function(n){n.errmsg&&(n.errmsg.style.display="none",n.controlgroup.className=n.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var n=document.createElement("div");return n.innerHTML="<div class='tabs list-group col-md-2'><\/div><div class='col-md-10'><\/div>",n.className="rows",n},getTab:function(n){var t=document.createElement("a");return t.className="list-group-item",t.setAttribute("href","#"),t.appendChild(n),t},markTabActive:function(n){n.className+=" active"},markTabInactive:function(n){n.className=n.className.replace(/\s?active/g,"")},getProgressBar:function(){var i=0,t=document.createElement("div"),n;return t.className="progress",n=document.createElement("div"),n.className="progress-bar",n.setAttribute("role","progressbar"),n.setAttribute("aria-valuenow",i),n.setAttribute("aria-valuemin",0),n.setAttribute("aria-valuenax",100),n.innerHTML=i+"%",t.appendChild(n),t},updateProgressBar:function(n,t){if(n){var i=n.firstChild,r=t+"%";i.setAttribute("aria-valuenow",t);i.style.width=r;i.innerHTML=r}},updateProgressBarUnknown:function(n){if(n){var t=n.firstChild;n.className="progress progress-striped active";t.removeAttribute("aria-valuenow");t.style.width="100%";t.innerHTML=""}},getErrorMessage:function(n){var t=document.createElement("p");return t.className="alert alert-danger",t.appendChild(document.createTextNode(n)),t}});n.JSONEditor=t});define("hr.fetcher",["require","exports"],function(n,t){"use strict";function i(n,t){return window.fetch(n,t)}Object.defineProperty(t,"__esModule",{value:!0});t.fetch=i;var r=function(){function n(){}return n}();t.Fetcher=r});define("hr.error",["require","exports"],function(n,t){"use strict";function i(n){return n.getValidationError!==undefined&&n.getValidationErrors!==undefined&&n.hasValidationError!==undefined&&n.hasValidationErrors!==undefined}function r(n){return i(n)&&n.addKey!==undefined&&n.addIndex!==undefined}Object.defineProperty(t,"__esModule",{value:!0});t.isValidationError=i;t.isFormErrors=r});define("hr.escape",["require","exports"],function(n,t){"use strict";function r(n){var t,r;for(n=String(n),t={textStart:0,bracketStart:0,output:""},r=0;r<n.length;++r)switch(n[r]){case"&":i(r,n,t,"&amp;");break;case"<":i(r,n,t,"&lt;");break;case">":i(r,n,t,"&gt;");break;case'"':i(r,n,t,"&quot;");break;case"'":i(r,n,t,"&#39;");break;case"`":i(r,n,t,"&#96;");break;case" ":i(r,n,t,"&#32;");break;case"!":i(r,n,t,"&#33;");break;case"@":i(r,n,t,"&#64;");break;case"$":i(r,n,t,"&#36;");break;case"%":i(r,n,t,"&#37;");break;case"(":i(r,n,t,"&#40;");break;case")":i(r,n,t,"&#41;");break;case"=":i(r,n,t,"&#61;");break;case"+":i(r,n,t,"&#43;");break;case"{":i(r,n,t,"&#123;");break;case"}":i(r,n,t,"&#125;");break;case"[":i(r,n,t,"&#91;");break;case"]":i(r,n,t,"&#93;")}return t.textStart<n.length&&(t.output+=n.substring(t.textStart,n.length)),t.output}function i(n,t,i,r){i.bracketStart=n;i.output+=t.substring(i.textStart,i.bracketStart)+r;i.textStart=n+1}Object.defineProperty(t,"__esModule",{value:!0});t.escape=r});define("hr.uri",["require","exports","hr.escape"],function(n,t,i){"use strict";function f(){var n=new r(null);return n.query=window.location.search,n.getQueryObject()}function e(n){return new r(n)}Object.defineProperty(t,"__esModule",{value:!0});var u={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=function(){function n(n){if(n===undefined&&window!==undefined&&(n=window.location.href),n!==null){for(var t=u,f=t.parser[t.strictMode?"strict":"loose"].exec(n),i=this,r=14;r--;)i[t.key[r]]=f[r]||"";i[t.q.name]={};i[t.key[12]].replace(t.q.parser,function(n,r,u){r&&(i[t.q.name][r]=u)});this.path=this.path.replace("\\","/")}}return n.prototype.getPathPart=function(n){this.splitPath===undefined&&(this.splitPath=this.path.split("/"));var t=null;return n<0?-n<this.splitPath.length&&(t=this.splitPath[this.splitPath.length+n]):n<this.splitPath.length&&(t=this.splitPath[n]),t!==null&&(t=i.escape(t)),t},n.prototype.setQueryFromObject=function(n){var i="",t,u,r,f;(n===undefined||n===null)&&(n={});for(t in n)if(n[t]!==undefined&&n[t]!==null)if(Array.isArray(n[t]))for(u=n[t],r=0;r<u.length;++r)i+=t+"="+encodeURIComponent(u[r])+"&";else n[t]instanceof Date?(f=n[t].toISOString(),i+=i+=t+"="+encodeURIComponent(f)+"&"):i+=t+"="+encodeURIComponent(n[t])+"&";i.length>0&&(i=i.substr(0,i.length-1));this.query=i},n.prototype.getQueryObject=function(){var f=this.query,o,n,e,r,t,u;for(f.charAt(0)==="?"&&(f=f.substr(1)),o=f.split("&"),n={},e=0;e<o.length;++e)r=o[e].split("=",2),r.length>0&&(t=r[0].toLowerCase(),u="",r.length>1&&(u=i.escape(decodeURIComponent(r[1].replace(/\+/g," ")))),n[t]===undefined?n[t]=u:Array.isArray(n[t])?n[t].push(u):n[t]=[n[t],u]);return n},n.prototype.build=function(){var n=this.query;return n&&n.charAt(0)!=="?"&&(n="?"+n),this.protocol+"://"+this.authority+this.directory+this.file+n},n}();t.Uri=r;t.getQueryObject=f;t.parseUri=e});define("node_modules/htmlrapier.halcyon/src/EndpointClient",["require","exports","hr.fetcher","hr.uri"],function(n,t,i,r){"use strict";function o(){}var f,e,u;Object.defineProperty(t,"__esModule",{value:!0});t.Fetcher=i.Fetcher;t.Response=i.Response;f=function(){function n(n,t,i){this.name=n;this.embeds=t;this.fetcher=i}return n.prototype.GetAllClients=function(){for(var i,t=[],n=0;n<this.embeds.length;++n)i=new u(this.embeds[n],this.fetcher),t.push(i);return t},n}();t.Embed=f;e=function(){function n(n,t){this.errorData=n;this.statusCode=t;this.message=n.message}return n.prototype.getValidationError=function(n){if(this.hasValidationErrors())return this.errorData.errors[n]},n.prototype.hasValidationError=function(n){return this.hasValidationErrors()?this.errorData.errors[n]!==undefined:!1},n.prototype.getValidationErrors=function(){return this.errorData.errors},n.prototype.hasValidationErrors=function(){return this.errorData.errors!==undefined},n.prototype.getStatusCode=function(){return this.statusCode},n.prototype.addKey=function(n,t){return n!==""?n+"."+t[0].toUpperCase()+t.substr(1):t},n.prototype.addIndex=function(n,t,i){return n+t+"["+i+"]"},n}();t.HalError=e;t.makeVoid=o;u=function(){function n(n,t){this.embeds=n._embedded;delete n._embedded;this.links=n._links;delete n._links;this.data=n;this.fetcher=t}return n.Load=function(t,i,r){return r=r||{},n.LoadRaw(t,i,r).then(function(t){return n.processResult(t,i)})},n.LoadRaw=function(t,i,r){r=r||{};var u={Accept:n.halcyonJsonMimeType,bearer:null};return r.contentType!==undefined&&(u["Content-Type"]=r.contentType),i.fetch(t.href,{method:t.method,body:r.reqBody,headers:u})},n.processResult=function(t,i){return t.text().then(function(r){var u=n.parseResult(t,r);if(t.ok)return new n(u,i);if(u.message!==undefined)throw new e(u,t.status);throw new Error("Generic server error with status "+t.status+" "+t.statusText+" returned.");})},n.parseResult=function(t,i,r){var f,u=t.headers.get("content-type");if(u)if(u.length>=n.halcyonJsonMimeType.length&&u.substring(0,n.halcyonJsonMimeType.length)===n.halcyonJsonMimeType||u.length>=n.jsonMimeType.length&&u.substring(0,n.jsonMimeType.length)===n.jsonMimeType&&!t.ok)f=i===""?null:JSON.parse(i,r);else throw new Error("Unsupported response type "+u+".");else f={_links:undefined,_embedded:undefined};return f},n.prototype.GetData=function(){return this.data},n.prototype.GetEmbed=function(n){return new f(n,this.embeds[n],this.fetcher)},n.prototype.HasEmbed=function(n){return this.embeds!==undefined&&this.embeds[n]!==undefined},n.prototype.GetAllEmbeds=function(){var t=[],n,i;for(n in this.embeds)i=new f(n,this.embeds[n],this.fetcher),t.push(i);return t},n.prototype.LoadLink=function(t){if(this.HasLink(t))return n.Load(this.GetLink(t),this.fetcher);throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadLinkWithQuery=function(t,i){if(this.HasLink(t))return n.Load(this.GetQueryLink(this.GetLink(t),i),this.fetcher);throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadLinkWithBody=function(t,i){if(this.HasLink(t))return n.Load(this.GetLink(t),this.fetcher,{reqBody:JSON.stringify(i),contentType:n.jsonMimeType});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadLinkWithQueryAndBody=function(t,i,r){if(this.HasLink(t))return n.Load(this.GetQueryLink(this.GetLink(t),i),this.fetcher,{reqBody:JSON.stringify(r),contentType:n.jsonMimeType});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadLinkWithForm=function(t,i){if(this.HasLink(t))return n.Load(this.GetLink(t),this.fetcher,{reqBody:this.jsonToFormData(i)});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadLinkWithQueryAndForm=function(t,i,r){if(this.HasLink(t))return n.Load(this.GetQueryLink(this.GetLink(t),i),this.fetcher,{reqBody:this.jsonToFormData(r)});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadRawLink=function(t){if(this.HasLink(t))return n.LoadRaw(this.GetLink(t),this.fetcher);throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadRawLinkWithQuery=function(t,i){if(this.HasLink(t))return n.LoadRaw(this.GetQueryLink(this.GetLink(t),i),this.fetcher);throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadRawLinkWithBody=function(t,i){if(this.HasLink(t))return n.LoadRaw(this.GetLink(t),this.fetcher,{reqBody:JSON.stringify(i),contentType:n.jsonMimeType});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadRawLinkWithQueryAndBody=function(t,i,r){if(this.HasLink(t))return n.LoadRaw(this.GetQueryLink(this.GetLink(t),i),this.fetcher,{reqBody:JSON.stringify(r),contentType:n.jsonMimeType});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadRawLinkWithForm=function(t,i){if(this.HasLink(t))return n.LoadRaw(this.GetLink(t),this.fetcher,{reqBody:this.jsonToFormData(i)});throw new Error('Cannot find ref "'+t+'".');},n.prototype.LoadRawLinkWithQueryAndForm=function(t,i,r){if(this.HasLink(t))return n.LoadRaw(this.GetQueryLink(this.GetLink(t),i),this.fetcher,{reqBody:this.jsonToFormData(r)});throw new Error('Cannot find ref "'+t+'".');},n.prototype.jsonToFormData=function(n,t,i){var f=t||new FormData,e,u,r;for(e in n)u=e,i&&(u=i+"."+e),r=n[e],r&&r.constructor==={}.constructor?this.jsonToFormData(r,f,u):r&&r.constructor===Blob&&r.fileName?f.append(u,r,r.fileName):f.append(u,r);return f},n.prototype.LoadLinkDoc=function(n){return this.LoadLink(n+".Docs")},n.prototype.HasLinkDoc=function(n){return this.HasLink(n+".Docs")},n.prototype.GetLink=function(n){return this.links[n]},n.prototype.HasLink=function(n){return this.links!==undefined&&this.links[n]!==undefined},n.prototype.GetAllLinks=function(){var i=[],n,t;for(n in this.links)t=this.links[n],i.push({href:t.href,method:t.method,rel:n});return i},n.prototype.GetQueryLink=function(n,t){if(t!==undefined&&t!==null){var i=new r.Uri(n.href);return i.setQueryFromObject(t),{href:i.build(),method:n.method}}return n},n}();u.halcyonJsonMimeType="application/json+halcyon";u.jsonMimeType="application/json";t.HalEndpointClient=u});define("Client/Libs/IdServerClient",["require","exports","node_modules/htmlrapier.halcyon/src/EndpointClient"],function(n,t,i){"use strict";var r,o,s,u,h,c,f,e,y,l,a,v;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.setUser=function(t){return this.client.LoadLinkWithBody("SetUser",t).then(function(t){return new n(t)})},n.prototype.canSetUser=function(){return this.client.HasLink("SetUser")},n.prototype.getSetUserDocs=function(){return this.client.LoadLinkDoc("SetUser").then(function(n){return n.GetData()})},n.prototype.hasSetUserDocs=function(){return this.client.HasLinkDoc("SetUser")},n.prototype.deleteUser=function(){return this.client.LoadLink("DeleteUser").then(i.makeVoid)},n.prototype.canDeleteUser=function(){return this.client.HasLink("DeleteUser")},n}();t.RoleAssignmentsResult=r;o=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.getApiResource=function(){return this.client.LoadLink("getApiResource").then(function(t){return new n(t)})},n.prototype.canGetApiResource=function(){return this.client.HasLink("getApiResource")},n.prototype.getGetApiResourceDocs=function(){return this.client.LoadLinkDoc("getApiResource").then(function(n){return n.GetData()})},n.prototype.hasGetApiResourceDocs=function(){return this.client.HasLinkDoc("getApiResource")},n.prototype.update=function(n){return this.client.LoadLinkWithBody("Update",n).then(i.makeVoid)},n.prototype.canUpdate=function(){return this.client.HasLink("Update")},n.prototype.getUpdateDocs=function(){return this.client.LoadLinkDoc("Update").then(function(n){return n.GetData()})},n.prototype.hasUpdateDocs=function(){return this.client.HasLinkDoc("Update")},n.prototype.delete=function(){return this.client.LoadLink("Delete").then(i.makeVoid)},n.prototype.canDelete=function(){return this.client.HasLink("Delete")},n}();t.ApiResourceEditModelResult=o;s=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var i,t,n;if(this.strongItems===undefined)for(i=this.client.GetEmbed("values"),t=i.GetAllClients(),this.strongItems=[],n=0;n<t.length;++n)this.strongItems.push(new o(t[n]));return this.strongItems},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.list=function(t){return this.client.LoadLinkWithQuery("List",t).then(function(t){return new n(t)})},n.prototype.canList=function(){return this.client.HasLink("List")},n.prototype.getListDocs=function(){return this.client.LoadLinkDoc("List").then(function(n){return n.GetData()})},n.prototype.hasListDocs=function(){return this.client.HasLinkDoc("List")},n.prototype.add=function(n){return this.client.LoadLinkWithBody("Add",n).then(i.makeVoid)},n.prototype.canAdd=function(){return this.client.HasLink("Add")},n.prototype.getAddDocs=function(){return this.client.LoadLinkDoc("Add").then(function(n){return n.GetData()})},n.prototype.hasAddDocs=function(){return this.client.HasLinkDoc("Add")},n.prototype.loadApiResourceFromMetadata=function(n){return this.client.LoadLinkWithQuery("loadApiResourceFromMetadata",n).then(function(n){return new u(n)})},n.prototype.canLoadApiResourceFromMetadata=function(){return this.client.HasLink("loadApiResourceFromMetadata")},n.prototype.getLoadApiResourceFromMetadataDocs=function(){return this.client.LoadLinkDoc("loadApiResourceFromMetadata").then(function(n){return n.GetData()})},n.prototype.hasLoadApiResourceFromMetadataDocs=function(){return this.client.HasLinkDoc("loadApiResourceFromMetadata")},n.prototype.next=function(){return this.client.LoadLink("next").then(function(t){return new n(t)})},n.prototype.canNext=function(){return this.client.HasLink("next")},n.prototype.getNextDocs=function(){return this.client.LoadLinkDoc("next").then(function(n){return n.GetData()})},n.prototype.hasNextDocs=function(){return this.client.HasLinkDoc("next")},n.prototype.previous=function(){return this.client.LoadLink("previous").then(function(t){return new n(t)})},n.prototype.canPrevious=function(){return this.client.HasLink("previous")},n.prototype.getPreviousDocs=function(){return this.client.LoadLinkDoc("previous").then(function(n){return n.GetData()})},n.prototype.hasPreviousDocs=function(){return this.client.HasLinkDoc("previous")},n.prototype.first=function(){return this.client.LoadLink("first").then(function(t){return new n(t)})},n.prototype.canFirst=function(){return this.client.HasLink("first")},n.prototype.getFirstDocs=function(){return this.client.LoadLinkDoc("first").then(function(n){return n.GetData()})},n.prototype.hasFirstDocs=function(){return this.client.HasLinkDoc("first")},n.prototype.last=function(){return this.client.LoadLink("last").then(function(t){return new n(t)})},n.prototype.canLast=function(){return this.client.HasLink("last")},n.prototype.getLastDocs=function(){return this.client.LoadLinkDoc("last").then(function(n){return n.GetData()})},n.prototype.hasLastDocs=function(){return this.client.HasLinkDoc("last")},n}();t.ApiResourceEditModelCollectionResult=s;u=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n}();t.ApiResourceMetadataViewResult=u;h=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.update=function(n){return this.client.LoadLinkWithBody("Update",n).then(i.makeVoid)},n.prototype.canUpdate=function(){return this.client.HasLink("Update")},n.prototype.getUpdateDocs=function(){return this.client.LoadLinkDoc("Update").then(function(n){return n.GetData()})},n.prototype.hasUpdateDocs=function(){return this.client.HasLinkDoc("Update")},n.prototype.delete=function(){return this.client.LoadLink("Delete").then(i.makeVoid)},n.prototype.canDelete=function(){return this.client.HasLink("Delete")},n.prototype.addClientSecret=function(){return this.client.LoadLink("addClientSecret").then(function(n){return new e(n)})},n.prototype.canAddClientSecret=function(){return this.client.HasLink("addClientSecret")},n.prototype.getAddClientSecretDocs=function(){return this.client.LoadLinkDoc("addClientSecret").then(function(n){return n.GetData()})},n.prototype.hasAddClientSecretDocs=function(){return this.client.HasLinkDoc("addClientSecret")},n}();t.ClientEditModelResult=h;c=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var i,t,n;if(this.strongItems===undefined)for(i=this.client.GetEmbed("values"),t=i.GetAllClients(),this.strongItems=[],n=0;n<t.length;++n)this.strongItems.push(new h(t[n]));return this.strongItems},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.list=function(t){return this.client.LoadLinkWithQuery("List",t).then(function(t){return new n(t)})},n.prototype.canList=function(){return this.client.HasLink("List")},n.prototype.getListDocs=function(){return this.client.LoadLinkDoc("List").then(function(n){return n.GetData()})},n.prototype.hasListDocs=function(){return this.client.HasLinkDoc("List")},n.prototype.add=function(n){return this.client.LoadLinkWithBody("Add",n).then(i.makeVoid)},n.prototype.canAdd=function(){return this.client.HasLink("Add")},n.prototype.getAddDocs=function(){return this.client.LoadLinkDoc("Add").then(function(n){return n.GetData()})},n.prototype.hasAddDocs=function(){return this.client.HasLinkDoc("Add")},n.prototype.loadClientFromMetadata=function(n){return this.client.LoadLinkWithQuery("loadClientFromMetadata",n).then(function(n){return new f(n)})},n.prototype.canLoadClientFromMetadata=function(){return this.client.HasLink("loadClientFromMetadata")},n.prototype.getLoadClientFromMetadataDocs=function(){return this.client.LoadLinkDoc("loadClientFromMetadata").then(function(n){return n.GetData()})},n.prototype.hasLoadClientFromMetadataDocs=function(){return this.client.HasLinkDoc("loadClientFromMetadata")},n.prototype.next=function(){return this.client.LoadLink("next").then(function(t){return new n(t)})},n.prototype.canNext=function(){return this.client.HasLink("next")},n.prototype.getNextDocs=function(){return this.client.LoadLinkDoc("next").then(function(n){return n.GetData()})},n.prototype.hasNextDocs=function(){return this.client.HasLinkDoc("next")},n.prototype.previous=function(){return this.client.LoadLink("previous").then(function(t){return new n(t)})},n.prototype.canPrevious=function(){return this.client.HasLink("previous")},n.prototype.getPreviousDocs=function(){return this.client.LoadLinkDoc("previous").then(function(n){return n.GetData()})},n.prototype.hasPreviousDocs=function(){return this.client.HasLinkDoc("previous")},n.prototype.first=function(){return this.client.LoadLink("first").then(function(t){return new n(t)})},n.prototype.canFirst=function(){return this.client.HasLink("first")},n.prototype.getFirstDocs=function(){return this.client.LoadLinkDoc("first").then(function(n){return n.GetData()})},n.prototype.hasFirstDocs=function(){return this.client.HasLinkDoc("first")},n.prototype.last=function(){return this.client.LoadLink("last").then(function(t){return new n(t)})},n.prototype.canLast=function(){return this.client.HasLink("last")},n.prototype.getLastDocs=function(){return this.client.LoadLinkDoc("last").then(function(n){return n.GetData()})},n.prototype.hasLastDocs=function(){return this.client.HasLinkDoc("last")},n}();t.ClientEditModelCollectionViewResult=c;f=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n}();t.ClientMetadataViewResult=f;e=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n}();t.CreateSecretResultResult=e;y=function(){function n(n,t){this.url=n;this.fetcher=t}return n.prototype.load=function(){var n=this;return this.instance?Promise.resolve(this.instance):l.Load(this.url,this.fetcher).then(function(t){return n.instance=t,t})},n}();t.EntryPointsInjector=y;l=function(){function n(n){this.strongData=undefined;this.client=n}return n.Load=function(t,r){return i.HalEndpointClient.Load({href:t,method:"GET"},r).then(function(t){return new n(t)})},Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.listClients=function(n){return this.client.LoadLinkWithQuery("listClients",n).then(function(n){return new c(n)})},n.prototype.canListClients=function(){return this.client.HasLink("listClients")},n.prototype.getListClientsDocs=function(){return this.client.LoadLinkDoc("listClients").then(function(n){return n.GetData()})},n.prototype.hasListClientsDocs=function(){return this.client.HasLinkDoc("listClients")},n.prototype.addClient=function(n){return this.client.LoadLinkWithBody("addClient",n).then(i.makeVoid)},n.prototype.canAddClient=function(){return this.client.HasLink("addClient")},n.prototype.getAddClientDocs=function(){return this.client.LoadLinkDoc("addClient").then(function(n){return n.GetData()})},n.prototype.hasAddClientDocs=function(){return this.client.HasLinkDoc("addClient")},n.prototype.updateClient=function(n){return this.client.LoadLinkWithBody("updateClient",n).then(i.makeVoid)},n.prototype.canUpdateClient=function(){return this.client.HasLink("updateClient")},n.prototype.getUpdateClientDocs=function(){return this.client.LoadLinkDoc("updateClient").then(function(n){return n.GetData()})},n.prototype.hasUpdateClientDocs=function(){return this.client.HasLinkDoc("updateClient")},n.prototype.deleteClient=function(){return this.client.LoadLink("deleteClient").then(i.makeVoid)},n.prototype.canDeleteClient=function(){return this.client.HasLink("deleteClient")},n.prototype.loadClientFromMetadata=function(n){return this.client.LoadLinkWithQuery("loadClientFromMetadata",n).then(function(n){return new f(n)})},n.prototype.canLoadClientFromMetadata=function(){return this.client.HasLink("loadClientFromMetadata")},n.prototype.getLoadClientFromMetadataDocs=function(){return this.client.LoadLinkDoc("loadClientFromMetadata").then(function(n){return n.GetData()})},n.prototype.hasLoadClientFromMetadataDocs=function(){return this.client.HasLinkDoc("loadClientFromMetadata")},n.prototype.addClientSecret=function(){return this.client.LoadLink("addClientSecret").then(function(n){return new e(n)})},n.prototype.canAddClientSecret=function(){return this.client.HasLink("addClientSecret")},n.prototype.getAddClientSecretDocs=function(){return this.client.LoadLinkDoc("addClientSecret").then(function(n){return n.GetData()})},n.prototype.hasAddClientSecretDocs=function(){return this.client.HasLinkDoc("addClientSecret")},n.prototype.listApiResource=function(n){return this.client.LoadLinkWithQuery("listApiResource",n).then(function(n){return new s(n)})},n.prototype.canListApiResource=function(){return this.client.HasLink("listApiResource")},n.prototype.getListApiResourceDocs=function(){return this.client.LoadLinkDoc("listApiResource").then(function(n){return n.GetData()})},n.prototype.hasListApiResourceDocs=function(){return this.client.HasLinkDoc("listApiResource")},n.prototype.addApiResource=function(n){return this.client.LoadLinkWithBody("addApiResource",n).then(i.makeVoid)},n.prototype.canAddApiResource=function(){return this.client.HasLink("addApiResource")},n.prototype.getAddApiResourceDocs=function(){return this.client.LoadLinkDoc("addApiResource").then(function(n){return n.GetData()})},n.prototype.hasAddApiResourceDocs=function(){return this.client.HasLinkDoc("addApiResource")},n.prototype.updateApiResource=function(n){return this.client.LoadLinkWithBody("updateApiResource",n).then(i.makeVoid)},n.prototype.canUpdateApiResource=function(){return this.client.HasLink("updateApiResource")},n.prototype.getUpdateApiResourceDocs=function(){return this.client.LoadLinkDoc("updateApiResource").then(function(n){return n.GetData()})},n.prototype.hasUpdateApiResourceDocs=function(){return this.client.HasLinkDoc("updateApiResource")},n.prototype.deleteApiResource=function(){return this.client.LoadLink("deleteApiResource").then(i.makeVoid)},n.prototype.canDeleteApiResource=function(){return this.client.HasLink("deleteApiResource")},n.prototype.loadApiResourceFromMetadata=function(n){return this.client.LoadLinkWithQuery("loadApiResourceFromMetadata",n).then(function(n){return new u(n)})},n.prototype.canLoadApiResourceFromMetadata=function(){return this.client.HasLink("loadApiResourceFromMetadata")},n.prototype.getLoadApiResourceFromMetadataDocs=function(){return this.client.LoadLinkDoc("loadApiResourceFromMetadata").then(function(n){return n.GetData()})},n.prototype.hasLoadApiResourceFromMetadataDocs=function(){return this.client.HasLinkDoc("loadApiResourceFromMetadata")},n.prototype.beginRegister=function(){return this.client.LoadLink("BeginRegister").then(function(n){return new a(n)})},n.prototype.canBeginRegister=function(){return this.client.HasLink("BeginRegister")},n.prototype.getBeginRegisterDocs=function(){return this.client.LoadLinkDoc("BeginRegister").then(function(n){return n.GetData()})},n.prototype.hasBeginRegisterDocs=function(){return this.client.HasLinkDoc("BeginRegister")},n.prototype.getUser=function(){return this.client.LoadLink("GetUser").then(function(n){return new r(n)})},n.prototype.canGetUser=function(){return this.client.HasLink("GetUser")},n.prototype.getGetUserDocs=function(){return this.client.LoadLinkDoc("GetUser").then(function(n){return n.GetData()})},n.prototype.hasGetUserDocs=function(){return this.client.HasLinkDoc("GetUser")},n.prototype.listUsers=function(n){return this.client.LoadLinkWithQuery("ListUsers",n).then(function(n){return new v(n)})},n.prototype.canListUsers=function(){return this.client.HasLink("ListUsers")},n.prototype.getListUsersDocs=function(){return this.client.LoadLinkDoc("ListUsers").then(function(n){return n.GetData()})},n.prototype.hasListUsersDocs=function(){return this.client.HasLinkDoc("ListUsers")},n.prototype.setUser=function(n){return this.client.LoadLinkWithBody("SetUser",n).then(function(n){return new r(n)})},n.prototype.canSetUser=function(){return this.client.HasLink("SetUser")},n.prototype.getSetUserDocs=function(){return this.client.LoadLinkDoc("SetUser").then(function(n){return n.GetData()})},n.prototype.hasSetUserDocs=function(){return this.client.HasLinkDoc("SetUser")},n}();t.EntryPointsResult=l;a=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.save=function(t){return this.client.LoadLinkWithBody("save",t).then(function(t){return new n(t)})},n.prototype.canSave=function(){return this.client.HasLink("save")},n.prototype.getSaveDocs=function(){return this.client.LoadLinkDoc("save").then(function(n){return n.GetData()})},n.prototype.hasSaveDocs=function(){return this.client.HasLinkDoc("save")},n}();t.RegisterEditModelResult=a;v=function(){function n(n){this.strongData=undefined;this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.strongData=this.strongData||this.client.GetData(),this.strongData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){var i,t,n;if(this.strongItems===undefined)for(i=this.client.GetEmbed("values"),t=i.GetAllClients(),this.strongItems=[],n=0;n<t.length;++n)this.strongItems.push(new r(t[n]));return this.strongItems},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.next=function(){return this.client.LoadLink("next").then(function(t){return new n(t)})},n.prototype.canNext=function(){return this.client.HasLink("next")},n.prototype.getNextDocs=function(){return this.client.LoadLinkDoc("next").then(function(n){return n.GetData()})},n.prototype.hasNextDocs=function(){return this.client.HasLinkDoc("next")},n.prototype.previous=function(){return this.client.LoadLink("previous").then(function(t){return new n(t)})},n.prototype.canPrevious=function(){return this.client.HasLink("previous")},n.prototype.getPreviousDocs=function(){return this.client.LoadLinkDoc("previous").then(function(n){return n.GetData()})},n.prototype.hasPreviousDocs=function(){return this.client.HasLinkDoc("previous")},n.prototype.first=function(){return this.client.LoadLink("first").then(function(t){return new n(t)})},n.prototype.canFirst=function(){return this.client.HasLink("first")},n.prototype.getFirstDocs=function(){return this.client.LoadLinkDoc("first").then(function(n){return n.GetData()})},n.prototype.hasFirstDocs=function(){return this.client.HasLinkDoc("first")},n.prototype.last=function(){return this.client.LoadLink("last").then(function(t){return new n(t)})},n.prototype.canLast=function(){return this.client.HasLink("last")},n.prototype.getLastDocs=function(){return this.client.LoadLinkDoc("last").then(function(n){return n.GetData()})},n.prototype.hasLastDocs=function(){return this.client.HasLinkDoc("last")},n}();t.UserCollectionResult=v});define("Client/Libs/MetadataBearerFetcher",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){this.next=n}return n.prototype.fetch=function(n,t){return t===undefined&&(t={}),t.headers===undefined&&(t.headers={}),t.headers.bearer=null,this.next.fetch(n,t)},n}();t.MetadataBearerFetcher=i});define("hr.typeidentifiers",["require","exports"],function(n,t){"use strict";function r(n){return Array.isArray(n)}function u(n){return typeof n=="string"}function i(n){return typeof n=="function"}function f(n){return typeof n=="object"}function e(n){return n&&i(n.forEach)}Object.defineProperty(t,"__esModule",{value:!0});t.isArray=r;t.isString=u;t.isFunction=i;t.isObject=f;t.isForEachable=e});define("hr.eventdispatcher",["require","exports","hr.typeidentifiers"],function(n,t,i){"use strict";var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(){this.listeners=[]}return n.prototype.add=function(n){if(!i.isFunction(n))throw new Error("Listener must be a function, instead got "+typeof n);this.listeners.push(n)},n.prototype.remove=function(n){for(var t=0;t<this.listeners.length;++t)this.listeners[t]===n&&this.listeners.splice(t--,1)},Object.defineProperty(n.prototype,"modifier",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.fire=function(n){for(var t=0;t<this.listeners.length;++t)this.listeners[t](n)},n}();t.ActionEventDispatcher=r;u=function(){function n(){this.listeners=[]}return n.prototype.add=function(n){if(!i.isFunction(n))throw new Error("Listener must be a function, instead got "+typeof n);this.listeners.push(n)},n.prototype.remove=function(n){for(var t=0;t<this.listeners.length;++t)this.listeners[t]===n&&this.listeners.splice(t--,1)},Object.defineProperty(n.prototype,"modifier",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.fire=function(n){for(var u,t=undefined,i,r=0;r<this.listeners.length;++r)u=this.listeners[r],i=u(n),i!==undefined&&(t===undefined&&(t=[]),t.push(i));return t},n}();t.FuncEventDispatcher=u;f=function(){function n(){this.listeners=[]}return n.prototype.add=function(n){if(!i.isFunction(n))throw new Error("Listener must be a function, instead got "+typeof n);this.listeners.push(n)},n.prototype.remove=function(n){for(var t=0;t<this.listeners.length;++t)this.listeners[t]===n&&this.listeners.splice(t--,1)},Object.defineProperty(n.prototype,"modifier",{get:function(){return this},enumerable:!0,configurable:!0}),n.prototype.fire=function(n){for(var u,t,r=[],i=0;i<this.listeners.length;++i)u=this.listeners[i],r.push(new Promise(function(t){t(u(n))}).then(function(n){n!==undefined&&(t===undefined&&(t=[]),t.push(n))}));return Promise.all(r).then(function(){return t})},n}();t.PromiseEventDispatcher=f});define("hr.toggles",["require","exports","hr.typeidentifiers","hr.eventdispatcher"],function(n,t,i,r){"use strict";function p(n){e.push(n)}function f(n,t,i,r,u){for(var o,s,h,f=null,e=0;e<t.length;++e)o=t[e],s=i+o,n.hasAttribute(s)&&(h=n.getAttribute(s),f===null&&(f=new r(n,u)),f.addState(o,h));return f?f:u}function k(n){var t="data-hr-state";return n.hasAttribute(t)?n.getAttribute(t):null}function d(n,t){var i,r;if(t===undefined&&(t=y),i=null,n!==null)for(i=f(n,t,"data-hr-style-",w,i),i=f(n,t,"data-hr-class-",b,i),i=f(n,t,"data-hr-disabled-",s,i),i=f(n,t,"data-hr-readonly-",h,i),r=0;r<e.length;++r)i=e[r](n,t,i);return i===null&&(i=new v(i)),i}var o,l,u,a,s,h;Object.defineProperty(t,"__esModule",{value:!0});var y=["on","off"],e=[],c=function(){function n(){this.events={}}return n.prototype.getPossibleStates=function(){return[]},n.prototype.setStates=function(n){this.states=n;this.states.setToggle(this)},n.prototype.applyState=function(n){this._currentState!==n&&(this._currentState=n,this.states.applyState(n)&&this.fireStateChange(n))},n.prototype.isUsable=function(){return!(i.isObject(this.states)&&this.states.constructor.prototype==v.prototype)},Object.defineProperty(n.prototype,"currentState",{get:function(){return this._currentState},enumerable:!0,configurable:!0}),n.prototype.fireStateChange=function(n){this._currentState=n;this.events[n]!==undefined&&this.events[n].fire(this)},n.prototype.getStateEvent=function(n){return this.events[n]===undefined&&(this.events[n]=new r.ActionEventDispatcher),this.events[n]},n}();t.TypedToggle=c;o=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.on=function(){this.applyState("on")},t.prototype.off=function(){this.applyState("off")},Object.defineProperty(t.prototype,"onEvent",{get:function(){return this.getStateEvent("on").modifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offEvent",{get:function(){return this.getStateEvent("off").modifier},enumerable:!0,configurable:!0}),t.prototype.getPossibleStates=function(){return t.states},t.prototype.toggle=function(){this.mode?this.off():this.on()},Object.defineProperty(t.prototype,"mode",{get:function(){return this.currentState==="on"},set:function(n){var t=this.mode;t&&!n?this.off():!t&&n&&this.on()},enumerable:!0,configurable:!0}),t}(c);o.states=["on","off"];t.OnOffToggle=o;l=function(){function n(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.toggles=t}return n.prototype.add=function(n){this.toggles.push(n)},n.prototype.activate=function(n,t,i){t===undefined&&(t="on");i===undefined&&(i="off");for(var r=0;r<this.toggles.length;++r)this.toggles[r].applyState(i);n.applyState(t)},n}();t.Group=l;t.addTogglePlugin=p;u=function(){function n(n){this.states={};this.next=n}return n.prototype.addState=function(n,t){this.states[n]=t},n.prototype.applyState=function(n){var i=this.states[n],t=this.activateState(i);return this.next&&(t=this.next.applyState(n)||t),t},n.prototype.setToggle=function(n){this.toggle=n},n.prototype.fireStateChange=function(n){this.toggle&&this.toggle.fireStateChange(n)},n}();t.ToggleStates=u;a=function(){function n(n){this.childStates=n}return n.prototype.addState=function(n,t){for(var i=0;i<this.childStates.length;++i)this.childStates[i].addState(n,t)},n.prototype.applyState=function(n){for(var t=!0,i=0;i<this.childStates.length;++i)t=this.childStates[i].applyState(n)||t;return t},n.prototype.setToggle=function(n){for(var t=0;t<this.childStates.length;++t)this.childStates[t].setToggle(n)},n}();t.MultiToggleStates=a;s=function(n){function t(t,i){var r=n.call(this,i)||this;return r.element=t,r}return __extends(t,n),t.prototype.activateState=function(n){return Boolean(n)?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled"),!0},t}(u);t.DisabledToggleStates=s;h=function(n){function t(t,i){var r=n.call(this,i)||this;return r.element=t,r}return __extends(t,n),t.prototype.activateState=function(n){return Boolean(n)?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly"),!0},t}(u);t.ReadonlyToggleStates=h;var v=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.activateState=function(){return!0},t}(u),w=function(n){function t(t,i){var r=n.call(this,i)||this;return r.element=t,r.originalStyles=t.style.cssText||"",r}return __extends(t,n),t.prototype.activateState=function(n){return this.element.style.cssText=n?this.originalStyles+n:this.originalStyles,!0},t}(u),b=function(n){function t(t,i){var r=n.call(this,i)||this;return r.element=t,r.originalClasses=t.getAttribute("class")||"",r.idleClass=t.getAttribute("data-hr-class-idle"),r.stopAnimationCb=function(){r.stopAnimation()},r}return __extends(t,n),t.prototype.activateState=function(n){return n?this.element.setAttribute("class",this.originalClasses+" "+n):this.element.setAttribute("class",this.originalClasses),this.startAnimation(),!0},t.prototype.startAnimation=function(){this.idleClass&&(this.element.classList.remove(this.idleClass),this.element.removeEventListener("transitionend",this.stopAnimationCb),this.element.removeEventListener("animationend",this.stopAnimationCb),this.element.addEventListener("transitionend",this.stopAnimationCb),this.element.addEventListener("animationend",this.stopAnimationCb))},t.prototype.stopAnimation=function(){this.element.removeEventListener("transitionend",this.stopAnimationCb);this.element.removeEventListener("animationend",this.stopAnimationCb);this.element.classList.add(this.idleClass)},t}(u);t.getStartState=k;t.build=d});define("hr.domquery",["require","exports","hr.typeidentifiers"],function(n,t,i){"use strict";function e(n,t){return typeof n=="string"?t!==undefined?r(t,n)?t:t.querySelector(n):document.querySelector(n):n instanceof Node?n:void 0}function o(n,t,i){if(typeof n=="string")i===undefined&&(i=[]),t!==undefined?(r(t,n)&&i.push(t),u(t.querySelectorAll(n),i)):u(document.querySelectorAll(n),i);else if(n instanceof HTMLElement)i===undefined?i=[n]:i.push(n);else if(i===undefined)i=n;else for(var f=0;f<n.length;++f)i.push(n[f]);return i}function s(n,t,u){if(i.isString(n))t?r(t,n)?u(t):f(t.querySelectorAll(n),u):f(document.querySelectorAll(n),u);else if(n instanceof HTMLElement)u(n);else if(Array.isArray(n))for(var e=0;e<n.length;++e)u(n[e])}function h(){return!0}function c(n,t,i){for(var u=document.createNodeIterator(n,t,h,!1),r;r=u.nextNode();)i(r)}function r(n,t){return n.matches(t)}function u(n,t){for(var i=0;i<n.length;++i)t.push(n[i])}function f(n,t){for(var i=0;i<n.length;++i)t(n[i])}Object.defineProperty(t,"__esModule",{value:!0});t.first=e;t.all=o;t.iterate=s;t.iterateNodes=c;t.matches=r});define("hr.textstream",["require","exports","hr.escape","hr.typeidentifiers"],function(n,t,i,r){"use strict";function h(n,t){var u,i;if((n===null||n===undefined)&&(n={}),u="",r.isFunction(n))for(i=0;i<t.length;++i)u+=t[i].writeFunction(n);else for(i=0;i<t.length;++i)u+=t[i].writeObject(n);return u}var f;Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n){this.str=n}return n.prototype.writeObject=function(){return this.str},n.prototype.writeFunction=function(n){return this.writeObject(n)},n}(),e=function(){function n(n){this.variable=n}return n.prototype.writeObject=function(n){return n[this.variable]},n.prototype.writeFunction=function(n){return n(this.variable)},n}(),o=function(){function n(){}return n.prototype.writeObject=function(n){return n},n.prototype.writeFunction=function(n){return n("this")},n}(),s=function(){function n(n){this.wrapped=n}return n.prototype.writeObject=function(n){return i.escape(this.wrapped.writeObject(n))},n.prototype.writeFunction=function(n){return i.escape(this.wrapped.writeFunction(n))},n}();f=function(){function n(n,t){var i,v;this.streamNodes=[];this.variablesFound=!1;t===undefined&&(t={});var h=t.open,y=t.close,p=t.escape;p===undefined&&(p=!0);h===undefined&&(h="{");y===undefined&&(y="}");var c=0,w=0,d=0,l=0,b=0,a,k,r,f="";for(i=0;i<n.length;++i)if(n[i]==h){for(w=i,l=1;++i<n.length&&n[i]==h;)++l;for(b=l;++i<n.length;)if(n[i]==y&&--b==0||/\s/.test(n[i]))break;if(b==0){a=n.substring(c,w);d=i;r=n.substring(w,d+1);switch(l){case 1:f+=a+r;break;case 2:this.streamNodes.push(new u(f+a));f="";k=r.substring(2,r.length-2);v=k==="this"?new o:new e(k);p&&(v=new s(v));this.streamNodes.push(v);break;default:f+=a+r.substring(1,r.length-1)}c=i+1;this.variablesFound=!0}}c<n.length&&this.streamNodes.push(new u(f+n.substring(c,n.length)))}return n.prototype.format=function(n){return h(n,this.streamNodes)},n.prototype.foundVariable=function(){return this.variablesFound},n}();t.TextStream=f});define("hr.expressiontree",["require","exports"],function(n,t){"use strict";var i,r,u;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.And="And"]="And";n[n.Or="Or"]="Or";n[n.Not="Not"]="Not";n[n.Equal="Equal"]="Equal";n[n.NotEqual="NotEqual"]="NotEqual";n[n.GreaterThan="GreaterThan"]="GreaterThan";n[n.LessThan="LessThan"]="LessThan";n[n.GreaterThanOrEqual="GreaterThanOrEqual"]="GreaterThanOrEqual";n[n.LessThanOrEqual="LessThanOrEqual"]="LessThanOrEqual"}(i=t.OperationType||(t.OperationType={}));r=function(){function n(n){this.source=n}return n.prototype.getValue=function(n){return this.source[n]},n}();t.ObjectValueSource=r;u=function(){function n(n){this.root=n}return n.prototype.isTrue=function(n){return this.evaluate(this.root,n)},n.prototype.evaluate=function(n,t){var r;switch(n.operation){case i.And:return this.evaluate(n.left,t)&&this.evaluate(n.right,t);case i.Or:return this.evaluate(n.left,t)||this.evaluate(n.right,t);case i.Equal:return r=Object.keys(n.test)[0],this.equals(t.getValue(r),n.test[r]);case i.NotEqual:return r=Object.keys(n.test)[0],!this.equals(t.getValue(r),n.test[r]);case i.Not:return!this.evaluate(n.left,t);case i.GreaterThan:case i.GreaterThanOrEqual:case i.LessThan:case i.LessThanOrEqual:return r=Object.keys(n.test)[0],this.compare(t.getValue(r),n.test[r],n.operation)}return!1},n.prototype.equals=function(n,t){switch(typeof t){case"boolean":return Boolean(n)===t;case"number":return Number(n)===t;case"object":if(n===undefined||n===null||n==="")return t===null;case"string":return String(n)===t}return!1},n.prototype.compare=function(n,t,r){switch(typeof t){case"number":var u=Number(n);if(console.log(u),!isNaN(u))switch(r){case i.GreaterThan:return u>t;case i.GreaterThanOrEqual:return u>=t;case i.LessThan:return u<t;case i.LessThanOrEqual:return u<=t}}return!1},n}();t.ExpressionTree=u});define("hr.schema",["require","exports"],function(n,t){"use strict";function i(n,t){var i,u,r;if(n.$ref!==undefined){for(i=t,u=n.$ref.split("/"),r=1;r<u.length;++r)if(i=i[u[r]],i===undefined)throw new Error("Cannot find ref '"+n.$ref+"' in schema.");return i}return n}Object.defineProperty(t,"__esModule",{value:!0});t.resolveRef=i});define("hr.formhelper",["require","exports","hr.domquery","hr.typeidentifiers"],function(n,t,i,r){"use strict";function f(n){return n&&(n.nodeName==="FORM"||n.nodeName=="INPUT"||n.nodeName=="TEXTAREA")}function e(n){return n!==undefined&&n!==""}function p(n,t,i,u){if(e(i))if(t=h(u,t),n[t]===undefined)n[t]=i;else if(r.isArray(n[t]))n[t].push(i);else{var f=n[t];n[t]=[f,i]}}function o(n,t){return t===undefined||n.getAttribute("data-hr-form-level")===t}function w(n,t,r){var h,e,c,a,u,l;for(h=f(n)?n.elements:i.all("[name]",n),c=Object.create(t||null),a=h.length,e=0;e<a;++e)(u=h[e],u.name!==""&&o(u,r))&&(l=s(u),l!==undefined&&p(c,u.name,l,r));return c}function s(n){var i,r,t,u;switch(n.nodeName){case"INPUT":switch(n.type){case"file":return i=n.files,!n.hasAttribute("multiple")&&i.length>0&&(i=i[0]),i;case"checkbox":case"radio":if(n.checked)return n.value;break;default:return n.value}break;case"TEXTAREA":return n.value;case"SELECT":switch(n.type){case"select-one":return n.value;case"select-multiple":for(r=[],t=n.options.length-1;t>=0;t=t-1)u=n.options[t],u.selected&&u.value!==""&&r.push(n.options[t].value);if(r.length>0)return r}break;case"BUTTON":switch(n.type){case"reset":case"submit":case"button":return n.value}}return undefined}function b(n,t){for(var i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}function h(n,t){return n!==undefined&&n!==null&&n.length>0&&(t=t.substring(n.length+1)),t}function c(n){return r.isObject(n)?u.Object:r.isFunction(n)?u.Function:void 0}function k(n,t,r){for(var f,s,a,y=i.first(n),v=i.all("[name]",y),p=c(t),e=0;e<v.length;++e)if(f=v[e],o(f,r)){a=h(r,f.getAttribute("name"));switch(p){case u.Object:s=t[a];break;case u.Function:s=t(a)}l(f,s)}}function l(n,t){var r,u,f,i;t===undefined&&(t="");switch(n.type){case"checkbox":n.checked=t;break;case"select-multiple":if(r=n.options,Array.isArray(t))for(i=r.length-1;i>=0;i=i-1)r[i].selected=b(t,r[i].value);break;case"select-one":if(r=n.options,u="",r.length>0&&(u=r[0].value),t!==null&&t!==undefined)for(f=String(t),i=r.length-1;i>=0;i=i-1)r[i].value===f&&(u=f);n.value=u;break;default:n.value=t}}function d(n){a=n}function g(n,t,i){return a(n,t,i)}function nt(){return y}var u,a,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.IsFormElement=f;t.shouldAddValue=e;t.serialize=w;t.readValue=s,function(n){n[n.Object=0]="Object";n[n.Function=1]="Function"}(u=t.DataType||(t.DataType={}));t.getDataType=c;t.populate=k;t.setValue=l;t.setBuildFormFunc=d;t.buildForm=g;v=function(){function n(){this.message=""}return n.prototype.getValidationError=function(){return undefined},n.prototype.hasValidationError=function(){return!1},n.prototype.getValidationErrors=function(){return{}},n.prototype.hasValidationErrors=function(){return!0},n.prototype.addKey=function(){return""},n.prototype.addIndex=function(){return""},n}();y=new v;t.getSharedClearingValidator=nt});define("hr.form",["require","exports","hr.formhelper","hr.eventdispatcher"],function(n,t,i,r){"use strict";function s(n){return i.IsFormElement(n)?new f(n):new e}function o(){return""}var u,f,e;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(n){this.wrapped=n;this.loadedSchema=!1}return n.prototype.setError=function(n){this.wrapped.setError(n)},n.prototype.clearError=function(){this.wrapped.clearError()},n.prototype.setData=function(n){this.loadedSchema?this.wrapped.setData(n):this.waitingData=n},n.prototype.clear=function(){this.wrapped.clear()},n.prototype.getData=function(){return this.wrapped.getData()},n.prototype.getValue=function(n){return this.wrapped.getValue(n)},n.prototype.setPrototype=function(n){this.wrapped.setPrototype(n)},n.prototype.setSchema=function(n,t){this.wrapped.setSchema(n,t);this.waitingData!==undefined&&(this.wrapped.setData(this.waitingData),this.waitingData=undefined);this.loadedSchema=!0},Object.defineProperty(n.prototype,"onBeforeSetData",{get:function(){return this.wrapped.onBeforeSetData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAfterSetData",{get:function(){return this.wrapped.onAfterSetData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onBeforeGetData",{get:function(){return this.wrapped.onBeforeGetData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAfterGetData",{get:function(){return this.wrapped.onAfterGetData},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onChanged",{get:function(){return this.wrapped.onChanged},enumerable:!0,configurable:!0}),n}();t.NeedsSchemaForm=u;f=function(){function n(n){this.form=n;this.baseLevel=undefined;this.beforeSetDataEvent=new r.ActionEventDispatcher;this.afterSetDataEvent=new r.ActionEventDispatcher;this.beforeGetDataEvent=new r.ActionEventDispatcher;this.afterGetDataEvent=new r.ActionEventDispatcher;this.onChangedEvent=new r.ActionEventDispatcher}return n.prototype.setError=function(n){this.formValues&&this.formValues.setError(n)},n.prototype.clearError=function(){this.formValues&&this.formValues.setError(i.getSharedClearingValidator())},n.prototype.setData=function(n){this.beforeSetDataEvent.fire({data:n,source:this});this.formValues?(this.formValues.setData(n),this.formValues.fireDataChanged()):i.populate(this.form,n,this.baseLevel);this.afterSetDataEvent.fire({data:n,source:this});this.clearError()},n.prototype.clear=function(){this.clearError();this.formValues?(this.formValues.setData(o),this.formValues.fireDataChanged()):i.populate(this.form,o)},n.prototype.getData=function(){var n,t;this.beforeGetDataEvent.fire({source:this});n=this.formValues?this.formValues.recoverData(this.proto):i.serialize(this.form,this.proto,this.baseLevel);this.afterGetDataEvent.fire({data:n,source:this});for(t in n)return n;return null},n.prototype.getValue=function(n){var t,r;if(this.formValues){if(t=this.formValues.getFormValue(n),t)return t.getData()}else return r=i.serialize(this.form,this.proto,this.baseLevel),r[n];return undefined},n.prototype.setPrototype=function(n){this.proto=n},n.prototype.setSchema=function(n,t){var r=this;t===undefined&&(t=this.form.getAttribute("data-hr-form-component"),t===null&&(t="hr.forms.default"));this.clear();this.formValues?this.formValues.changeSchema(t,n,this.form):(this.formValues=i.buildForm(t,n,this.form),this.baseLevel="",this.formValues.onChanged.add(function(){return r.onChangedEvent.fire({source:r})}));this.formValues.fireDataChanged()},Object.defineProperty(n.prototype,"onBeforeSetData",{get:function(){return this.beforeSetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAfterSetData",{get:function(){return this.afterSetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onBeforeGetData",{get:function(){return this.beforeGetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAfterGetData",{get:function(){return this.afterGetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onChanged",{get:function(){return this.onChangedEvent.modifier},enumerable:!0,configurable:!0}),n}();e=function(){function n(){this.beforeSetDataEvent=new r.ActionEventDispatcher;this.afterSetDataEvent=new r.ActionEventDispatcher;this.beforeGetDataEvent=new r.ActionEventDispatcher;this.afterGetDataEvent=new r.ActionEventDispatcher;this.onChangedEvent=new r.ActionEventDispatcher}return n.prototype.setError=function(){},n.prototype.clearError=function(){},n.prototype.setData=function(){},n.prototype.getValue=function(){return undefined},n.prototype.clear=function(){},n.prototype.getData=function(){return null},n.prototype.setPrototype=function(){},n.prototype.setSchema=function(){},Object.defineProperty(n.prototype,"onBeforeSetData",{get:function(){return this.beforeSetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAfterSetData",{get:function(){return this.afterSetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onBeforeGetData",{get:function(){return this.beforeGetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onAfterGetData",{get:function(){return this.afterGetDataEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onChanged",{get:function(){return this.onChangedEvent.modifier},enumerable:!0,configurable:!0}),n}();t.build=s});define("hr.componentbuilder",["require","exports","hr.bindingcollection","hr.textstream"],function(n,t,i,r){"use strict";function e(n,t,r,u){for(var e,c=t.format(n),s=o(c),h=[],f=0;f<s.length;++f)e=s[f],r.insertBefore(e,u),h.push(e);return new i.BindingCollection(h)}function o(n){var t={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],body:[0,"",""],_default:[1,"<div>","<\/div>"]},u,f,r,i,e;if(t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td,u=/<\s*\w.*?>/g.exec(n),i=document.createElement("div"),u!=null)for(f=u[0].replace(/</g,"").replace(/>/g,"").split(" ")[0],r=t[f]||t._default,n=r[1]+n+r[2],i.innerHTML=n,e=r[0];e--;)i=i.lastChild;else i.innerHTML=n;return i.childNodes}var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(n){this.componentString=n;this.currentBuildFunc=this.tokenize}return n.prototype.tokenize=function(n,t,i){return this.tokenizedString=new r.TextStream(this.componentString),this.currentBuildFunc=this.build,this.build(n,t,i)},n.prototype.build=function(n,t,i){return e(n,this.tokenizedString,t,i)},n.prototype.create=function(n,t,i){return this.currentBuildFunc(n,t,i)},n}();t.VariantBuilder=u;f=function(){function n(n){this.componentString=n;this.variants={};this.currentBuildFunc=this.tokenize}return n.prototype.tokenize=function(n,t,i){return this.tokenizedString=new r.TextStream(this.componentString),this.currentBuildFunc=this.build,this.build(n,t,i)},n.prototype.build=function(n,t,i){return e(n,this.tokenizedString,t,i)},n.prototype.create=function(n,t,i,r){return r!==null&&this.variants.hasOwnProperty(r)?this.variants[r].create(n,t,i):this.currentBuildFunc(n,t,i)},n.prototype.addVariant=function(n,t){this.variants[n]=t},n}();t.ComponentBuilder=f});define("hr.components",["require","exports","hr.typeidentifiers","hr.domquery"],function(n,t,i,r){"use strict";function o(n,t){u[n]=t}function s(n){return u[n]!==undefined}function h(n){return u[n]}function e(){return null}function c(n,t,r,u,o,s){var h;return s===undefined?s=e(t):i.isFunction(s)&&(h=s(t)),f(n,t,r,u,h,o)}function l(n,t,r,u,o,s){var h,l,a,v,c;for(s===undefined&&(s=e),h=r.firstElementChild;h!=null&&!h.hasAttribute("data-hr-insert");)h=h.nextElementSibling;if(a=document.createDocumentFragment(),i.isArray(t))for(v=t,c=0;c<v.length;++c)l=s(v[c]),f(n,v[c],a,null,l,o);else i.isForEachable(t)&&t.forEach(function(t){l=s(t);f(n,t,a,null,l,o)});r.insertBefore(a,h)}function a(n){for(var i=r.first(n),t=i.firstChild,u=null;t!=null;)u=t.nextSibling,t.nodeType===1&&t instanceof HTMLElement&&t.hasAttribute("data-hr-keep")||i.removeChild(t),t=u}function f(n,t,i,f,e,o){if(i=r.first(i),u.hasOwnProperty(n)){var s=u[n].create(t,i,f,e);return o!==undefined&&o!==null&&o(s,t),s}console.log("Failed to create component '"+n+"', cannot find factory, did you forget to define it on the page?")}Object.defineProperty(t,"__esModule",{value:!0});var u={};t.register=o;t.isDefined=s;t.getComponent=h;t.one=c;t.many=l;t.empty=a});define("hr.iterable",["require","exports","hr.typeidentifiers"],function(n,t,i){"use strict";function o(n,t){var u;return i.isArray(n)?(u=0,{next:function(){for(var i=undefined,f;i===undefined&&u<n.length;)f=n[u++],i=t.derive(f);return i===undefined?new r(!0):new r(!1,i)}}):i.isFunction(n)?{next:function(){for(var i=undefined,u;i===undefined;)if(u=n(),u!==undefined)i=t.derive(u);else break;return i===undefined?new r(!0):new r(!1,i)}}:void 0}function s(n,t,r){var f,e,u;if(i.isArray(n))for(f=0;f<n.length;++f)u=n[f],e=t.derive(u),e!==undefined&&r(e);else if(i.isFunction(n))for(u=n();u!==undefined;)u=t.derive(u),r(u),u=n()}var e;Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){this.chain=[]}return n.prototype.push=function(n){this.chain.push(n)},n.prototype.derive=function(n){for(var t=n,i=this.chain.length-1;i>=0&&t!==undefined;--i)t=this.chain[i](t);return t},n}(),a=new u,r=function(){function n(n,t){this.done=n;this.value=t}return n}();var f=function(){function n(){}return n.prototype.select=function(n){return new h(n,this)},n.prototype.where=function(n){return new c(n,this)},n.prototype.forEach=function(n){this.build(new u).forEach(n)},n.prototype.iterator=function(){return this.build(new u).iterator()},n}(),h=function(n){function t(t,i){var r=n.call(this)||this;return r.selectCb=t,r.previous=i,r}return __extends(t,n),t.prototype.build=function(n){var t=this;return n.push(function(n){return t.selectCb(n)}),this.previous.build(n)},t}(f),c=function(n){function t(t,i){var r=n.call(this)||this;return r.whereCb=t,r.previous=i,r}return __extends(t,n),t.prototype.build=function(n){var t=this;return n.push(function(n){return t.get(n)}),this.previous.build(n)},t.prototype.get=function(n){if(this.whereCb(n))return n},t}(f),l=function(n){function t(t){var i=n.call(this)||this;return i.items=t,i}return __extends(t,n),t.prototype.build=function(n){return new e(this.items,n)},t}(f);t.Iterable=l;e=function(){function n(n,t){this.items=n;this.query=t}return n.prototype.forEach=function(n){s(this.items,this.query,n)},n.prototype.iterator=function(){return o(this.items,this.query)},n}()});define("hr.view",["require","exports","hr.textstream","hr.components","hr.typeidentifiers","hr.domquery","hr.iterable"],function(n,t,i,r,u,f,e){"use strict";function a(n){return n&&n.nodeType==1}function v(n){if(a(n)){var t;return n.hasAttribute("data-hr-view-component")?t=n.getAttribute("data-hr-view-component"):n.hasAttribute("data-hr-model-component")&&(t=n.getAttribute("data-hr-model-component")),t?new h(n,t):new c(n)}return new l}function o(n,t,r){var u,e;if(r===undefined)r=[],f.iterateNodes(t,NodeFilter.SHOW_TEXT,function(t){var u=new i.TextStream(t.textContent,{escape:!1});u.foundVariable()&&(t.textContent=u.format(n),r.push({node:t,stream:u}))});else for(u=0;u<r.length;++u)e=r[u],e.node.textContent=e.stream.format(n);return r}function y(){return""}var s;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(n){this.schema=n}return n.prototype.convert=function(n){var i=this,t=function(t){return i.extract(t,n)};return t.original=n,t},n.prototype.extract=function(n,t){var i=this.schema.properties[n],r=t[n],u,f,o,e;if(i){if(u=i["x-values"],u!==undefined&&Array.isArray(u))for(f=0;f<u.length;++f)if(u[f].value==r)return u[f].label;o=i["x-ui-type"];o===undefined&&(o=i.format);switch(o){case"date":return e=new Date(r),e.toLocaleDateString();case"date-time":return e=new Date(r),e.toLocaleDateString()+" "+e.toLocaleTimeString()}}return r===undefined||r===null?i!==undefined&&i["x-null-value"]||"":r===!0?i!==undefined&&i["x-value"]||"Yes":r===!1?i!==undefined&&i["x-false-value"]||"No":r},n}();t.SchemaViewDataFormatter=s;var h=function(){function n(n,t){this.element=n;this.component=t}return n.prototype.setData=function(n,t,i){r.empty(this.element);this.insertData(n,null,t,i)},n.prototype.appendData=function(n,t,i){this.insertData(n,null,t,i)},n.prototype.insertData=function(n,t,i,f){var s=this,o;if(Array.isArray(n)||u.isForEachable(n))this.formatter!==undefined?(o=new e.Iterable(n).select(function(n){return s.formatter.convert(n)}),r.many(this.component,o,this.element,t,i===undefined?undefined:function(n,t){return i(n,t.original)},f===undefined?undefined:function(n){return f(n.original)})):r.many(this.component,n,this.element,t,i,f);else if(n!==undefined&&n!==null)if(this.formatter!==undefined)r.one(this.component,this.formatter.convert(n),this.element,t,i===undefined?undefined:function(n,t){return i(n,t.original)},f===undefined?undefined:function(n){return f(n.original)});else r.one(this.component,n,this.element,t,i,f)},n.prototype.clear=function(){r.empty(this.element)},n.prototype.setFormatter=function(n){this.formatter=n},n}(),c=function(){function n(n){this.element=n;this.dataTextElements=undefined}return n.prototype.setData=function(n){this.insertData(n)},n.prototype.appendData=function(n){this.insertData(n)},n.prototype.insertData=function(n){if(this.formatter!==undefined){var t=this.formatter.convert(n);this.dataTextElements=o(t,this.element,this.dataTextElements)}else this.dataTextElements=o(n,this.element,this.dataTextElements)},n.prototype.clear=function(){this.dataTextElements=o(y,this.element,this.dataTextElements)},n.prototype.setFormatter=function(n){this.formatter=n},n}(),l=function(){function n(){}return n.prototype.setData=function(){},n.prototype.appendData=function(){},n.prototype.insertData=function(){},n.prototype.clear=function(){},n.prototype.setFormatter=function(){},n}();t.build=v});define("hr.models",["require","exports","hr.form","hr.view"],function(n,t,i,r){"use strict";function e(n){var f=n.getAttribute("data-hr-model-src"),t,u;return n.nodeName==="FORM"||n.nodeName=="INPUT"||n.nodeName=="TEXTAREA"?(t=i.build(n),t.appendData=function(n){t.setData(n)},t.getSrc=function(){return f},t):(u=r.build(n),u.getData=function(){return{}},u.getSrc=function(){return f},u)}var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.build=e;u=function(){function n(){}return n.prototype.setData=function(){},n.prototype.appendData=function(){},n.prototype.clear=function(){},n.prototype.getData=function(){return{}},n.prototype.getSrc=function(){return""},n.prototype.setPrototype=function(){},n}();t.NullModel=u;f=function(){function n(n,t){this.childModel=n;this.strongConstructor=t}return n.prototype.setData=function(n){this.childModel.setData(n)},n.prototype.appendData=function(n){this.childModel.appendData(n)},n.prototype.clear=function(){this.childModel.clear()},n.prototype.getData=function(){return new this.strongConstructor(this.childModel.getData())},n.prototype.getSrc=function(){return this.childModel.getSrc()},n.prototype.setPrototype=function(n){this.childModel.setPrototype(n)},n}();t.StrongTypedModel=f});define("hr.bindingcollection",["require","exports","hr.domquery","hr.toggles","hr.models","hr.form","hr.view"],function(n,t,i,r,u,f,e){"use strict";function c(n,t){this.execute=function(i){var r=t[n];r&&r.call(t,i)}}function l(n,t){for(var u,r=0;r<n.length;++r)u=n[r],i.iterateNodes(u,NodeFilter.SHOW_ELEMENT,function(n){for(var r,u,f,i=0;i<n.attributes.length;i++)r=n.attributes[i],r.name.startsWith("data-hr-on-")&&(u=r.value,t[u]&&(f=new c(u,t),n.addEventListener(r.name.substr(11),f.execute)))})}function s(n,t,u){for(var l,s,o,c=u.getPossibleStates(),f=[],a="[data-hr-toggle="+n+"]",e=null,h=0;h<t.length;++h)for(l=t[h],s=i.all(a,l),o=0;o<s.length;++o)f.push(r.build(s[o],c)),e=e?e:r.getStartState(s[o]);f.length===0?u.setStates(r.build(null,c)):f.length===1?u.setStates(f[0]):u.setStates(new r.MultiToggleStates(f));e!=null&&u.applyState(e)}function a(n,t){for(var o,e,r,s="[data-hr-model="+n+"]",f=0;f<t.length;++f){if(o=t[f],e=i.first(s,o),e)return u.build(e);r=null}return r===null&&(r=new u.NullModel),r}function v(n,t){for(var f,r,e="[data-hr-handle="+n+"]",u=0;u<t.length;++u)if(f=t[u],r=i.first(e,f),r&&r instanceof HTMLElement)return r;return null}function y(n){for(var u,r={},t=0;t<n.length;++t)u=n[t],i.iterateNodes(u,NodeFilter.SHOW_ELEMENT,function(n){for(var i,t=0;t<n.attributes.length;t++)i=n.attributes[t],i.name.startsWith("data-hr-config-")&&(r[i.name.substr(15)]=i.value)});return r}function p(n,t,r){for(var f,u=0;u<t.length;++u)f=t[u],i.iterate('[data-hr-controller="'+n+'"]',f,r)}var o,h;Object.defineProperty(t,"__esModule",{value:!0});o=function(){function n(n,t){this.docFrag=n;this.parent=t}return n.prototype.restore=function(n){this.parent.insertBefore(this.docFrag,n)},n}();t.PooledBindings=o;h=function(){function n(n){this.elements=i.all(n)}return n.prototype.setListener=function(n){l(this.elements,n)},n.prototype.getToggle=function(n){var t=new r.OnOffToggle;return s(n,this.elements,t),t},n.prototype.getCustomToggle=function(n,t){return s(n,this.elements,t),t},n.prototype.getModel=function(n,t){var i=a(n,this.elements);return t!==undefined&&(i=new u.StrongTypedModel(i,t)),i},n.prototype.getConfig=function(){return y(this.elements)},n.prototype.getHandle=function(n){return v(n,this.elements)},n.prototype.iterateControllers=function(n,t){p(n,this.elements,t)},n.prototype.getForm=function(n){var t="[data-hr-form="+n+"]",i=this.findElement(t);return i===null&&(t="[data-hr-model="+n+"]",i=this.findElement(t)),f.build(i)},n.prototype.getView=function(n){var t="[data-hr-view="+n+"]",i=this.findElement(t);return i===null&&(t="[data-hr-model="+n+"]",i=this.findElement(t)),e.build(i)},n.prototype.findElement=function(n){for(var u,r,t=0;t<this.elements.length;++t)if(u=this.elements[t],r=i.first(n,u),r)return r;return null},Object.defineProperty(n.prototype,"rootElement",{get:function(){return this.elements.length>0?this.elements[0]:null},enumerable:!0,configurable:!0}),n.prototype.remove=function(){for(var n=0;n<this.elements.length;++n)this.elements[n].remove()},n.prototype.pool=function(){for(var i=this.elements[0].parentElement,t=document.createDocumentFragment(),n=0;n<this.elements.length;++n)t.appendChild(this.elements[n]);return new o(t,i)},n}();t.BindingCollection=h});define("hr.ignored",["require","exports","hr.domquery"],function(n,t,i){"use strict";function u(n){for(var t=0;t<r.length;++t)if(r[t].contains(n))return!0;return!1}Object.defineProperty(t,"__esModule",{value:!0});var r=i.all("[data-hr-ignored]");t.isIgnored=u});define("hr.di",["require","exports"],function(n,t){"use strict";function s(n){return n&&n.id!==undefined&&n.arg!==undefined}function f(n){return n.InjectorArgs!==undefined}var i,r,e,u;Object.defineProperty(t,"__esModule",{value:!0});i="__diId",function(n){n[n.Shared=0]="Shared";n[n.Transient=1]="Transient"}(r||(r={}));e=function(){function n(){this.resolvers=[]}return n.prototype.addResolver=function(n){this.resolvers.push(n)},n.prototype.resolve=function(n,t){for(var r,i=this.resolvers.length-1;i>=0;--i)if(r=this.resolvers[i],r.id===n)return{instance:r.resolver(t),scope:r.scope}},n.prototype.hasResolverForId=function(n){for(var i,t=this.resolvers.length-1;t>=0;--t)if(i=this.resolvers[t],i.id===n)return!0;return!1},n}();u=function(){function n(){this.resolvers={}}return n.prototype.addShared=function(n,t){return this.addSharedId(undefined,n,t)},n.prototype.addSharedId=function(n,t,i){return f(i)?this.add(n,t,r.Shared,this.createConstructorResolver(i)):this.add(n,t,r.Shared,i)},n.prototype.tryAddShared=function(n,t){return this.tryAddSharedId(undefined,n,t)},n.prototype.tryAddSharedId=function(n,t,i){return this.hasTypeHandle(n,t)||this.addSharedId(n,t,i),this},n.prototype.addTransient=function(n,t){return this.addTransientId(undefined,n,t)},n.prototype.addTransientId=function(n,t,i){return f(i)?this.add(n,t,r.Transient,this.createConstructorResolver(i)):this.add(n,t,r.Transient,i)},n.prototype.tryAddTransient=function(n,t){return this.tryAddTransientId(undefined,n,t)},n.prototype.tryAddTransientId=function(n,t,i){return this.hasTypeHandle(n,t)||this.addTransientId(n,t,i),this},n.prototype.addSharedInstance=function(n,t){return this.addSharedInstanceId(undefined,n,t)},n.prototype.addSharedInstanceId=function(n,t,i){return this.add(n,t,r.Shared,function(){return i})},n.prototype.tryAddSharedInstance=function(n,t){return this.tryAddSharedInstanceId(undefined,n,t)},n.prototype.tryAddSharedInstanceId=function(n,t,i){return this.hasTypeHandle(n,t)||this.addSharedInstanceId(n,t,i),this},n.prototype.add=function(t,r,u,f){r.prototype.hasOwnProperty(i)||(r.prototype[i]=n.idIndex++);var o=this.resolvers[r.prototype[i]];return o||(o=new e,this.resolvers[r.prototype[i]]=o),o.addResolver({resolver:f,scope:u,id:t}),this},n.prototype.hasTypeHandle=function(n,t){if(t.prototype.hasOwnProperty(i)){var u=t.prototype[i],r=this.resolvers[u];if(r!==undefined)return r.hasResolverForId(n)}return!1},n.prototype.createConstructorResolver=function(n){return function(t){for(var i,u,f=n.InjectorArgs,e=[],r=0;r<f.length;++r)i=f[r],e[r]=s(i)?t.getRequiredServiceId(i.id,i.arg):t.getRequiredService(i);return u=Object.create(n.prototype),n.apply(u,e),u}},n.prototype.__resolveService=function(n,t,r){var f=t.prototype[i],e,u;return this.resolvers[f]!==undefined&&(e=this.resolvers[f],u=e.resolve(n,r),u!==undefined)?u:undefined},n.prototype.createScope=function(){return new o(this)},n}();u.idIndex=0;t.ServiceCollection=u;var h=function(){function n(){this.instances=[]}return n.prototype.addInstance=function(n){this.instances.push(n)},n.prototype.getInstance=function(n){for(var i,t=this.instances.length-1;t>=0;--t)if(i=this.instances[t],i.id===n)return i.instance;return undefined},n}(),c=function(){function n(){}return n}(),o=function(){function n(n,t){this.singletons={};this.services=n;this.parentScope=t}return n.prototype.getService=function(n){return this.getServiceId(undefined,n)},n.prototype.getServiceId=function(n,t){var f=t.prototype[i],r=this.bubbleFindSingletonInstance(n,t),u;return r===undefined&&(u=this.resolveService(n,t,this),u!==undefined&&(r=u.instance)),r},n.prototype.getRequiredService=function(n){return this.getRequiredServiceId(undefined,n)},n.prototype.getRequiredServiceId=function(n,t){var i=this.getServiceId(n,t);if(i===undefined){var r=/^function\s+([\w\$]+)\s*\(/.exec(t.prototype.constructor.toString()),f=r?r[1]:"anonymous",u="";n!==undefined&&(u=" with id "+n+" ");throw new Error("Cannot find required service for function "+f+u+". Did you forget to inject it?");}return i},n.prototype.createChildScope=function(t){return t===undefined&&(t=new u),new n(t,this)},n.prototype.bubbleFindSingletonInstance=function(n,t){var f=t.prototype[i],u=this.singletons[f],r;return u!==undefined&&(r=u.getInstance(n)),r===undefined&&this.parentScope!==undefined&&(r=this.parentScope.bubbleFindSingletonInstance(n,t)),r},n.prototype.resolveService=function(n,t,u){var f=this.services.__resolveService(n,t,u),o,e;return f===undefined?this.parentScope&&(f=this.parentScope.resolveService(n,t,u)):f.scope===r.Shared&&(o=t.prototype[i],e=this.singletons[o],e===undefined&&(e=new h,this.singletons[o]=e),e.addInstance({instance:f.instance,id:n})),f},n}();t.Scope=o});define("hr.controller",["require","exports","hr.bindingcollection","hr.bindingcollection","hr.toggles","hr.domquery","hr.ignored","hr.eventdispatcher","hr.di","hr.di"],function(n,t,i,r,u,f,e,o,s,h){"use strict";var c,l;Object.defineProperty(t,"__esModule",{value:!0});t.BindingCollection=r.BindingCollection;t.OnOffToggle=u.OnOffToggle;t.TypedToggle=u.TypedToggle;t.ServiceCollection=h.ServiceCollection;c=function(){function n(){}return n}();t.InjectControllerData=c;l=function(){function n(n){this.controllerCreatedEvent=new o.ActionEventDispatcher;this.serviceCollection=new s.ServiceCollection;this.baseScope=n?n.createChildScope(this.serviceCollection):new s.Scope(this.serviceCollection)}return Object.defineProperty(n.prototype,"Services",{get:function(){return this.serviceCollection},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"controllerCreated",{get:function(){return this.controllerCreatedEvent.modifier},enumerable:!0,configurable:!0}),n.prototype.createChildBuilder=function(){return new n(this.baseScope.createChildScope(new s.ServiceCollection))},n.prototype.create=function(n,t,i){return this.createId(undefined,n,t,i)},n.prototype.createId=function(n,t,r,u){var o=this,h=[],c=function(t){var c;if(!e.isIgnored(t)){var u=new s.ServiceCollection,l=o.baseScope.createChildScope(u),f=new i.BindingCollection(t);u.addTransient(i.BindingCollection,function(){return f});t.removeAttribute("data-hr-controller");c=o.createController(n,r,u,l,f);h.push(c)}};return u?u.iterateControllers(t,c):f.iterate('[data-hr-controller="'+t+'"]',null,c),h},n.prototype.createUnbound=function(n){return this.createUnboundId(undefined,n)},n.prototype.createUnboundId=function(t,i){var u=new s.ServiceCollection,f=this.baseScope.createChildScope(u),r;return u.addTransient(n,function(){return new n(f)}),r=f.getRequiredServiceId(t,i),r.postBind!==undefined&&r.postBind(),this.controllerCreatedEvent.fire(r),r},n.prototype.createOnCallback=function(n){return this.createOnCallbackId(undefined,n)},n.prototype.createOnCallbackId=function(n,t){var r=this;return function(u,f){var e=new s.ServiceCollection,o=r.baseScope.createChildScope(e);return e.addTransient(i.BindingCollection,function(){return u}),f!==undefined&&e.addTransient(c,function(){return f}),r.createController(n,t,e,o,u)}},n.prototype.createController=function(t,i,r,u,f){r.addTransient(n,function(){return new n(u)});var e=u.getRequiredServiceId(t,i);return f.setListener(e),e.postBind!==undefined&&e.postBind(),this.controllerCreatedEvent.fire(e),e},n}();t.InjectedControllerBuilder=l});define("Client/Libs/SecretDisplayController",["require","exports","hr.toggles","hr.controller"],function(n,t,i,r){"use strict";function f(n){n.tryAddShared(u,u)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n){var t=this;this.close=function(){t.dialog.off()};this.secretModel=n.getModel("secret");this.errorModel=n.getModel("error");this.dialog=n.getToggle("dialog");this.dialog.offEvent.add(function(){return t.closed()});this.mainToggle=n.getToggle("main");this.loadToggle=n.getToggle("load");this.errorToggle=n.getToggle("error");this.toggleGroup=new i.Group(this.mainToggle,this.loadToggle,this.errorToggle)}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[r.BindingCollection]},enumerable:!0,configurable:!0}),n.prototype.showLoading=function(){this.dialog.on();this.toggleGroup.activate(this.loadToggle)},n.prototype.showError=function(n){this.toggleGroup.activate(this.errorToggle);this.errorModel.setData(n)},n.prototype.showSecret=function(n,t){this.toggleGroup.activate(this.mainToggle);this.secretModel.setData({name:n,secret:t})},n.prototype.closed=function(){this.secretModel.setData({secret:""})},n.prototype.onHide=function(){console.log("hidden")},n}();t.SecretDisplayController=u;t.addServices=f});define("node_modules/htmlrapier.widgets/src/MainLoadErrorLifecycle",["require","exports","hr.toggles"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,t,r,u){this.mainToggle=n;this.loadToggle=t;this.errorToggle=r;this.toggleGroup=new i.Group(this.mainToggle,this.loadToggle,this.errorToggle);u?this.showLoad():this.showMain()}return n.prototype.showMain=function(){this.toggleGroup.activate(this.mainToggle)},n.prototype.showLoad=function(){this.toggleGroup.activate(this.loadToggle)},n.prototype.showError=function(){this.toggleGroup.activate(this.errorToggle)},n.prototype.showOther=function(n){this.toggleGroup.activate(n)},n}();t.MainLoadErrorLifecycle=r});define("node_modules/htmlrapier.widgets/src/ListingDisplayController",["require","exports","node_modules/htmlrapier.widgets/src/MainLoadErrorLifecycle"],function(n,t,i){"use strict";var r,u;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(){this.listingModelName="listing";this.mainToggleName="main";this.errorToggleName="error";this.loadToggleName="load";this.setLoadingOnStart=!0}return n}();t.ListingDisplayOptions=r;u=function(){function n(n,t){this.listingModel=n.getView(t.listingModelName);this.lifecycle=new i.MainLoadErrorLifecycle(n.getToggle(t.mainToggleName),n.getToggle(t.loadToggleName),n.getToggle(t.errorToggleName),t.setLoadingOnStart)}return n.prototype.clearData=function(){this.listingModel.clear()},n.prototype.setFormatter=function(n){this.listingModel.setFormatter(n)},n.prototype.appendData=function(n,t,i){this.listingModel.appendData(n,t,i)},n.prototype.showMain=function(){this.lifecycle.showMain()},n.prototype.showLoad=function(){this.lifecycle.showLoad()},n.prototype.showError=function(n){this.lifecycle.showError(n)},n}();t.ListingDisplayController=u});define("node_modules/htmlrapier.widgets/src/PageNumberWidget",["require","exports","hr.eventdispatcher","hr.controller"],function(n,t,i,r){"use strict";var u,e,f,o,s;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.active=function(){this.applyState("active")},t.prototype.getPossibleStates=function(){return t.activeStates},t}(r.OnOffToggle);u.activeStates=["on","off","active"];t.OnOffActiveToggle=u;e=function(){function n(n){var t=n.data;this.currentPage=t.offset;this.totalPages=0;t.offset!==undefined&&t.limit!==undefined&&t.limit!==0&&t.total!==undefined&&(this.totalPages=Math.floor(t.total/t.limit),t.total%t.limit>0&&++this.totalPages);this.canFirst=n.canFirst();this.canPrevious=n.canPrevious();this.canNext=n.canNext();this.canLast=n.canLast();this.itemStart=n.data.offset*n.data.limit;this.itemEnd=this.itemStart+n.data.limit;++this.itemStart;this.total=n.data.total;this.itemEnd>this.total&&(this.itemEnd=this.total);this.offset=n.data.offset;this.limit=n.data.limit}return n}();t.HypermediaPageState=e;f=function(){function n(n){this._page=n}return Object.defineProperty(n.prototype,"page",{get:function(){return this._page},enumerable:!0,configurable:!0}),n}();t.PageEventArgs=f;o=function(){function n(n){this._parentController=n;this.loadPageFunctionBaseName="page";this.toggleBaseName="page";this.modelBaseName="page";this.firstToggleName="first";this.previousToggleName="previous";this.nextToggleName="next";this.lastToggleName="last";this.firstCallbackFuncName="pageFirst";this.previousCallbackFuncName="pagePrevious";this.nextCallbackFuncName="pageNext";this.lastCallbackFuncName="pageLast"}return Object.defineProperty(n.prototype,"parentController",{get:function(){return this._parentController},enumerable:!0,configurable:!0}),n}();t.PageNumberWidgetOptions=o;s=function(){function n(n,t){var r=this;this.pageNumberToggles=[];this.pageNumberModels=[];this.loadPageEventDispatcher=new i.ActionEventDispatcher;this.loadFirstEventDispatcher=new i.ActionEventDispatcher;this.loadPreviousEventDispatcher=new i.ActionEventDispatcher;this.loadNextEventDispatcher=new i.ActionEventDispatcher;this.loadLastEventDispatcher=new i.ActionEventDispatcher;for(var o,s=!0,f=t.parentController,e=0;s;)o=n.getCustomToggle(t.toggleBaseName+e,new u),s=o.isUsable(),s&&(this.pageNumberToggles.push(o),f[t.loadPageFunctionBaseName+e]=this.pageEventClojureCreator(e),this.pageNumberModels.push(n.getModel(t.modelBaseName+e))),++e;this.halfPageButtonTotal=Math.floor(this.pageNumberModels.length/2);this.firstToggle=n.getToggle(t.firstToggleName);this.previousToggle=n.getToggle(t.previousToggleName);this.nextToggle=n.getToggle(t.nextToggleName);this.lastToggle=n.getToggle(t.lastToggleName);f[t.firstCallbackFuncName]=function(n){r.fireNavEvent(n,r.currentState.canFirst,r.loadFirstEventDispatcher)};f[t.previousCallbackFuncName]=function(n){r.fireNavEvent(n,r.currentState.canPrevious,r.loadPreviousEventDispatcher)};f[t.nextCallbackFuncName]=function(n){r.fireNavEvent(n,r.currentState.canNext,r.loadNextEventDispatcher)};f[t.lastCallbackFuncName]=function(n){r.fireNavEvent(n,r.currentState.canLast,r.loadLastEventDispatcher)}}return n.prototype.setState=function(t){this.currentState=t;this.startIndex=t.currentPage-this.halfPageButtonTotal;this.startIndex<0&&(this.startIndex=0);for(var r=t.currentPage-this.startIndex,i=0;i<this.pageNumberToggles.length&&i+this.startIndex<t.totalPages;++i)i===r?this.pageNumberToggles[i].active():this.pageNumberToggles[i].on(),this.pageNumberModels[i].setData({pageNum:i+this.startIndex+1});for(;i<this.pageNumberToggles.length;++i)this.pageNumberToggles[i].off();n.setNavigatorToggle(t.canFirst,this.firstToggle);n.setNavigatorToggle(t.canPrevious,this.previousToggle);n.setNavigatorToggle(t.canNext,this.nextToggle);n.setNavigatorToggle(t.canLast,this.lastToggle)},n.setNavigatorToggle=function(n,t){n?t.on():t.off()},Object.defineProperty(n.prototype,"loadPageEvent",{get:function(){return this.loadPageEventDispatcher.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loadFirstEvent",{get:function(){return this.loadFirstEventDispatcher.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loadPreviousEvent",{get:function(){return this.loadPreviousEventDispatcher.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loadNextEvent",{get:function(){return this.loadNextEventDispatcher.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loadLastEvent",{get:function(){return this.loadLastEventDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.pageEventClojureCreator=function(n){var t=this;return function(i){i.preventDefault();t.loadPageEventDispatcher.fire(new f(t.startIndex+n))}},n.prototype.fireNavEvent=function(n,t,i){n.preventDefault();t&&i.fire(this)},n}();t.PageNumberWidget=s});define("node_modules/htmlrapier.widgets/src/CrudService",["require","exports","hr.eventdispatcher"],function(n,t,i){"use strict";var r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(n,t,i,r){this.dataPromise=n;this.update=t;this.dataResult=i;this.closed=r}return n}();t.ShowItemEditorEventArgs=r;u=function(){function n(n){this._dataPromise=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this._dataPromise},enumerable:!0,configurable:!0}),n}();t.DataLoadingEventArgs=u;f=function(){function n(){}return n}();t.CrudDataModifiedEventArgs=f;e=function(){function n(){this.showItemEditorDispatcher=new i.ActionEventDispatcher;this.showAddItemDispatcher=new i.ActionEventDispatcher;this.closeItemEditorDispatcher=new i.ActionEventDispatcher;this.dataLoadingDispatcher=new i.ActionEventDispatcher;this.crudDataModifiedDispatcher=new i.ActionEventDispatcher}return n.prototype.getAddItemSchema=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,this.getItemSchema()]})})},n.prototype.getSearchObject=function(n){return n},Object.defineProperty(n.prototype,"showItemEditorEvent",{get:function(){return this.showItemEditorDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.fireShowItemEditorEvent=function(n){this.showItemEditorDispatcher.fire(n)},Object.defineProperty(n.prototype,"showAddItemEvent",{get:function(){return this.showAddItemDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.fireAddItemEvent=function(n){this.showAddItemDispatcher.fire(n)},Object.defineProperty(n.prototype,"closeItemEditorEvent",{get:function(){return this.closeItemEditorDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.fireCloseItemEditorEvent=function(){this.closeItemEditorDispatcher.fire(undefined)},Object.defineProperty(n.prototype,"dataLoadingEvent",{get:function(){return this.dataLoadingDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.fireDataLoadingEvent=function(n){this.dataLoadingDispatcher.fire(n)},Object.defineProperty(n.prototype,"crudDataModifiedEvent",{get:function(){return this.crudDataModifiedDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.fireCrudDataModifiedEvent=function(n){this.crudDataModifiedDispatcher.fire(n)},n}();t.ICrudService=e});define("node_modules/htmlrapier.widgets/src/confirm",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(){}return n}();t.IConfirm=i;r=function(){function n(){}return n.prototype.confirm=function(n){return new Promise(function(t){window.confirm(n)?t(!0):t(!1)})},n}();t.BrowserConfirm=r});define("node_modules/htmlrapier.widgets/src/alert",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(){}return n}();t.IAlert=i;r=function(){function n(){}return n.prototype.alert=function(n){window.alert(n)},n}();t.BrowserAlert=r});define("node_modules/htmlrapier.widgets/src/CrudTableRow",["require","exports","hr.controller","node_modules/htmlrapier.widgets/src/confirm","node_modules/htmlrapier.widgets/src/alert","node_modules/htmlrapier.widgets/src/CrudService"],function(n,t,i,r,u,f){"use strict";function s(n){n.tryAddTransient(e,function(){return new e});n.tryAddTransient(o,o);n.tryAddShared(r.IConfirm,function(){return new r.BrowserConfirm});n.tryAddShared(u.IAlert,function(){return new u.BrowserAlert})}var e,o;Object.defineProperty(t,"__esModule",{value:!0});e=function(){function n(){}return n.prototype.rowConstructed=function(){},n.prototype.onEdit=function(){return!0},n.prototype.onDelete=function(){return Promise.resolve(!0)},n}();t.CrudTableRowControllerExtensions=e;o=function(){function n(n,t,i,r,u,f){var e,o,s;this.extensions=f;this.data=u;this.crudService=i;this.confirm=t;this.alert=r;this.crudService.canEdit(u)?(o=n.getToggle("view"),o.off()):(e=n.getToggle("edit"),e.off());this.crudService.canDel(u)||(s=n.getToggle("del"),s.off());this.extensions.rowConstructed(this,n,u)}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[i.BindingCollection,r.IConfirm,f.ICrudService,u.IAlert,i.InjectControllerData,e]},enumerable:!0,configurable:!0}),n.prototype.edit=function(n){n.preventDefault();this.extensions.onEdit(this,this.data)&&this.crudService.edit(this.data)},n.prototype.view=function(n){n.preventDefault();this.extensions.onEdit(this,this.data)&&this.crudService.edit(this.data)},n.prototype.del=function(n){return __awaiter(this,void 0,void 0,function(){var i,t;return __generator(this,function(r){switch(r.label){case 0:return n.preventDefault(),[4,this.extensions.onDelete(this,this.data)];case 1:return r.sent()?[4,this.confirm.confirm(this.crudService.getDeletePrompt(this.data))]:[3,6];case 2:if(!r.sent())return[3,6];r.label=3;case 3:return r.trys.push([3,5,,6]),[4,this.crudService.del(this.data)];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),t="An error occured deleting data.",i.message&&(t+=" Message: "+i.message),console.log(t),this.alert.alert(t),[3,6];case 6:return[2]}})})},n}();t.CrudTableRowController=o;t.addServices=s});define("node_modules/htmlrapier.widgets/src/CrudQuery",["require","exports","hr.eventdispatcher"],function(n,t,i){"use strict";function e(n){n.tryAddShared(r,function(){return new r})}var u,r,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(n){this._query=n}return Object.defineProperty(n.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),n}();t.QueryEventArgs=u;r=function(){function n(){this.loadPageDispatcher=new i.ActionEventDispatcher;this.components=[]}return Object.defineProperty(n.prototype,"loadPageEvent",{get:function(){return this.loadPageDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.addComponent=function(n){var t=this;this.components.push(n);n.loadPageEvent.add(function(){return t.fireLoadPageEvent()})},n.prototype.fireLoadPageEvent=function(){for(var t={},n=0;n<this.components.length;++n)this.components[n].setupQuery(t);this.loadPageDispatcher.fire(new u(t))},n.prototype.setupQuery=function(){for(var t={},n=0;n<this.components.length;++n)this.components[n].setupQuery(t);return t},n}();t.CrudQueryManager=r;f=function(){function n(){this.loadPageDispatcher=new i.ActionEventDispatcher}return Object.defineProperty(n.prototype,"loadPageEvent",{get:function(){return this.loadPageDispatcher.modifier},enumerable:!0,configurable:!0}),n.prototype.fireLoadPage=function(){this.loadPageDispatcher.fire(undefined)},n}();t.ICrudQueryComponent=f;t.addServices=e});define("node_modules/htmlrapier.widgets/src/CrudSearch",["require","exports","node_modules/htmlrapier.widgets/src/CrudQuery","hr.controller","node_modules/htmlrapier.widgets/src/CrudService","hr.form","node_modules/htmlrapier.widgets/src/MainLoadErrorLifecycle"],function(n,t,i,r,u,f,e){"use strict";function s(n){n.tryAddTransient(o,o)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(n){function t(t,i,r){var u=n.call(this)||this;return u.lifecycle=new e.MainLoadErrorLifecycle(t.getToggle("main"),t.getToggle("load"),t.getToggle("error"),!0),u.crudService=i,u.crudService.dataLoadingEvent.add(function(n){return u.handlePageLoad(n.data)}),u.queryManager=r,u.queryManager.addComponent(u),u.form=new f.NeedsSchemaForm(t.getForm("input")),u.setup(t,i),u}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[r.BindingCollection,u.ICrudService,i.CrudQueryManager]},enumerable:!0,configurable:!0}),t.prototype.setup=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,n,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.lifecycle.showLoad(),[4,t.getSearchSchema()];case 1:if(i=e.sent(),n=i.properties,n)for(r in n)u=n[r],u["x-ui-search"]!==!0&&delete n[r];return this.form.setSchema(i),this.lifecycle.showMain(),[3,3];case 2:return f=e.sent(),this.lifecycle.showError(f),[3,3];case 3:return[2]}})})},t.prototype.setupQuery=function(n){var i=this.form.getData(),t;if(i!==null)for(t in i)n[t]===undefined&&(n[t]=i[t])},t.prototype.submit=function(n){n.preventDefault();this.crudService.getPage(this.queryManager.setupQuery())},t.prototype.setData=function(n){this.form.setData(this.crudService.getSearchObject(n))},t.prototype.handlePageLoad=function(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.setData,[4,n];case 1:return t.apply(this,[r.sent()]),[3,3];case 2:return i=r.sent(),console.log("Error loading crud table data for search. Message: "+i.message),[3,3];case 3:return[2]}})})},t}(i.ICrudQueryComponent);t.CrudSearch=o;t.addServices=s});define("node_modules/htmlrapier.widgets/src/CrudItemEditor",["require","exports","hr.controller","hr.form","node_modules/htmlrapier.widgets/src/CrudService","node_modules/htmlrapier.widgets/src/MainLoadErrorLifecycle","hr.error"],function(n,t,i,r,u,f,e){"use strict";function l(n){n.tryAddSharedInstance(s,new s);n.tryAddSharedInstance(h,new h);n.tryAddShared(c,function(n){return new c(n.getRequiredService(i.BindingCollection),n.getRequiredService(h),n.getRequiredService(u.ICrudService),n.getRequiredService(s))});n.tryAddSharedId(o.Add,h,function(n){return n.getRequiredService(h)});n.tryAddSharedId(o.Add,s,function(n){return n.getRequiredService(s)});n.tryAddSharedId(o.Add,c,function(n){var r=n.getRequiredServiceId(o.Add,s),t=Object.create(r);return t.type=o.Add,new c(n.getRequiredService(i.BindingCollection),n.getRequiredServiceId(o.Add,h),n.getRequiredService(u.ICrudService),t)});n.tryAddSharedId(o.Update,h,function(n){return n.getRequiredService(h)});n.tryAddSharedId(o.Update,s,function(n){return n.getRequiredService(s)});n.tryAddSharedId(o.Update,c,function(n){var r=n.getRequiredServiceId(o.Update,s),t=Object.create(r);return t.type=o.Update,new c(n.getRequiredService(i.BindingCollection),n.getRequiredServiceId(o.Update,h),n.getRequiredService(u.ICrudService),t)})}var o,s,h,c;Object.defineProperty(t,"__esModule",{value:!0}),function(n){n[n.Add=1]="Add";n[n.Update=2]="Update"}(o=t.CrudItemEditorType||(t.CrudItemEditorType={}));s=function(){function n(){this.formName="input";this.dialogName="dialog";this.mainErrorToggleName="mainError";this.mainErrorViewName="mainError";this.mainToggleName="main";this.loadToggleName="load";this.errorToggleName="error";this.activateLoadingOnStart=!0;this.type=o.Add|o.Update;this.viewOnlyToggleName="viewOnly"}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[]},enumerable:!0,configurable:!0}),n}();t.CrudItemEditorControllerOptions=s;h=function(){function n(){}return n.prototype.constructed=function(){},n.prototype.setup=function(){return Promise.resolve(undefined)},n}();t.CrudItemEditorControllerExtensions=h;c=function(){function n(n,t,i,u){var e=this;this.extensions=t;this._autoClose=!0;u===undefined&&(u=new s);this._form=new r.NeedsSchemaForm(n.getForm(u.formName));this._dialog=n.getToggle(u.dialogName);this._dialog.offEvent.add(function(){return!e.closed||e.closed()});this.mainErrorToggle=n.getToggle(u.mainErrorToggleName);this.mainErrorView=n.getView(u.mainErrorViewName);this.lifecycle=new f.MainLoadErrorLifecycle(n.getToggle(u.mainToggleName),n.getToggle(u.loadToggleName),n.getToggle(u.errorToggleName),u.activateLoadingOnStart);this.viewOnlyToggle=n.getToggle(u.viewOnlyToggleName);(u.type&o.Add)===o.Add&&i.showAddItemEvent.add(function(n){e.showItemEditorHandler(n)});(u.type&o.Update)===o.Update&&i.showItemEditorEvent.add(function(n){e.showItemEditorHandler(n)});i.closeItemEditorEvent.add(function(){e._dialog.off()});this.extensions.constructed(this,n);this.setup(i,u)}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[i.BindingCollection,h,u.ICrudService,]},enumerable:!0,configurable:!0}),n.prototype.submit=function(n){return __awaiter(this,void 0,void 0,function(){var i,t;return __generator(this,function(r){switch(r.label){case 0:if(n.preventDefault(),this.updated===null)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),this.mainErrorToggle.off(),this.lifecycle.showLoad(),i=this._form.getData()||{},[4,this.updated(i)];case 2:return r.sent(),this.lifecycle.showMain(),this._autoClose&&this._dialog.off(),[3,4];case 3:return t=r.sent(),e.isFormErrors(t)?(this._form.setError(t),this.lifecycle.showMain(),this.mainErrorView.setData(t),this.mainErrorToggle.on()):this.lifecycle.showError(t),[3,4];case 4:return[2]}})})},Object.defineProperty(n.prototype,"autoClose",{get:function(){return this._autoClose},set:function(n){this._autoClose=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dialog",{get:function(){return this._dialog},enumerable:!0,configurable:!0}),n.prototype.showItemEditorHandler=function(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:this.mainErrorToggle.off();r.label=1;case 1:return r.trys.push([1,3,,4]),this._dialog.on(),this.lifecycle.showLoad(),[4,n.dataPromise];case 2:return t=r.sent(),this.updated=n.update,this.viewOnlyToggle.mode=this.updated===null,this.closed=n.closed,this._form.setData(t),this.lifecycle.showMain(),[3,4];case 3:return i=r.sent(),this.lifecycle.showError(i),[3,4];case 4:return[2]}})})},n.prototype.setup=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r;return __generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,this.extensions.setup(this)];case 1:return(u.sent(),!((t.type&o.Update)===o.Update))?[3,3]:[4,n.getItemSchema()];case 2:return i=u.sent(),[3,5];case 3:return((t.type&o.Add)===o.Add)?[4,n.getAddItemSchema()]:[3,5];case 4:i=u.sent();u.label=5;case 5:return i&&this._form.setSchema(i),[3,7];case 6:return r=u.sent(),console.log("An error occured loading the schema for the CrudItemEditor. Message: "+r.message),[3,7];case 7:return[2]}})})},n}();t.CrudItemEditorController=c;t.addServices=l});define("node_modules/htmlrapier.widgets/src/CrudPageNumbers",["require","exports","node_modules/htmlrapier.widgets/src/CrudQuery","hr.controller","node_modules/htmlrapier.widgets/src/CrudService","node_modules/htmlrapier.widgets/src/PageNumberWidget"],function(n,t,i,r,u,f){"use strict";function o(n){n.tryAddTransient(e,e)}Object.defineProperty(t,"__esModule",{value:!0});var e=function(n){function t(t,i,r){var u=n.call(this)||this;return u.currentPage=0,u.crudService=i,u.crudService.dataLoadingEvent.add(function(n){return u.handlePageLoad(n.data)}),u.queryManager=r,u.queryManager.addComponent(u),u.pageNumbers=new f.PageNumberWidget(t,new f.PageNumberWidgetOptions(u)),u.pageNumbers.loadPageEvent.add(function(n){return u.loadPage(n.page)}),u.pageNumbers.loadFirstEvent.add(function(){return u.crudService.firstPage()}),u.pageNumbers.loadPreviousEvent.add(function(){return u.crudService.previousPage()}),u.pageNumbers.loadNextEvent.add(function(){return u.crudService.nextPage()}),u.pageNumbers.loadLastEvent.add(function(){return u.crudService.lastPage()}),u.itemCountsModel=t.getModel("totals"),u.totalPerPageModel=t.getModel("itemsPerPage"),u.totalPerPageModel.setData({itemsPerPage:10}),u}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[r.BindingCollection,u.ICrudService,i.CrudQueryManager]},enumerable:!0,configurable:!0}),t.prototype.loadPage=function(n){this.currentPage=n;this.crudService.getPage(this.queryManager.setupQuery())},t.prototype.setupQuery=function(n){n.offset=this.currentPage;var t=this.totalPerPageModel.getData();t.itemsPerPage===undefined&&(t.itemsPerPage=10);n.limit=t.itemsPerPage},t.prototype.itemsPerPageChanged=function(n){n.preventDefault();this.crudService.getPage(this.queryManager.setupQuery())},t.prototype.setData=function(n){var t=this.crudService.getPageNumberState(n);this.pageNumbers.setState(t);this.itemCountsModel.setData(t);this.totalPerPageModel.setData({itemsPerPage:t.limit});this.currentPage=t.offset},t.prototype.handlePageLoad=function(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this.setData,[4,n];case 1:return t.apply(this,[r.sent()]),[3,3];case 2:return i=r.sent(),console.log("Error loading crud table data for pages. Message: "+i.message),[3,3];case 3:return[2]}})})},t}(i.ICrudQueryComponent);t.CrudPageNumbers=e;t.addServices=o});define("node_modules/htmlrapier.widgets/src/CrudTableController",["require","exports","node_modules/htmlrapier.widgets/src/ListingDisplayController","hr.controller","node_modules/htmlrapier.widgets/src/CrudService","node_modules/htmlrapier.widgets/src/CrudQuery","node_modules/htmlrapier.widgets/src/CrudTableRow","hr.view"],function(n,t,i,r,u,f,e,o){"use strict";function c(n){n.tryAddTransient(s,function(){return new s});n.tryAddTransient(h,h);n.tryAddSharedInstance(i.ListingDisplayOptions,new i.ListingDisplayOptions)}var s,h;Object.defineProperty(t,"__esModule",{value:!0});s=function(){function n(){}return n.prototype.getVariant=function(){return null},n.prototype.getDisplayObject=function(n){return n},n}();t.CrudTableControllerExtensions=s;h=function(n){function t(t,i,r,u,f,e){var o=n.call(this,t,i)||this;return o.builder=f,o.extensions=e,o.lookupDisplaySchema=!0,o.queryManager=u,o.crudService=r,o.crudService.dataLoadingEvent.add(function(n){return o.handlePageLoad(n.data)}),o.addToggle=t.getToggle("add"),i.setLoadingOnStart&&o.crudService.getPage(u.setupQuery()),o}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[r.BindingCollection,i.ListingDisplayOptions,u.ICrudService,f.CrudQueryManager,r.InjectedControllerBuilder,s]},enumerable:!0,configurable:!0}),t.prototype.add=function(n){n.preventDefault();this.crudService.add()},t.prototype.setData=function(n){var o=this,r=this.crudService.getItems(n),u,i,t,f;for(this.clearData(),u=this.builder.createOnCallback(e.CrudTableRowController),i=0;i<r.length;++i)t=r[i],f=this.extensions.getDisplayObject(this.crudService.getListingDisplayObject(t),t),this.appendData(f,function(n){u(n,t)},function(){return o.extensions.getVariant(t)});this.showMain()},t.prototype.handlePageLoad=function(n){return __awaiter(this,void 0,void 0,function(){var u,i,t,r;return __generator(this,function(f){switch(f.label){case 0:this.showLoad();f.label=1;case 1:return f.trys.push([1,7,,8]),[4,n];case 2:return(u=f.sent(),!this.lookupDisplaySchema)?[3,4]:(this.lookupDisplaySchema=!1,[4,this.crudService.getListingSchema()]);case 3:i=f.sent();i&&this.setFormatter(new o.SchemaViewDataFormatter(i));f.label=4;case 4:return(this.setData(u),t=this.addToggle,!t)?[3,6]:[4,this.crudService.canAdd()];case 5:t=!f.sent();f.label=6;case 6:return t&&this.addToggle.off(),this.addToggle=undefined,[3,8];case 7:return r=f.sent(),console.log("Error loading crud table data. Message: "+r.message),this.showError(r),[3,8];case 8:return[2]}})})},t}(i.ListingDisplayController);t.CrudTableController=h;t.addServices=c});define("node_modules/htmlrapier.widgets/src/CrudPage",["require","exports","node_modules/htmlrapier.widgets/src/ListingDisplayController","node_modules/htmlrapier.widgets/src/CrudService","node_modules/htmlrapier.widgets/src/CrudTableRow","node_modules/htmlrapier.widgets/src/CrudTableRow","node_modules/htmlrapier.widgets/src/CrudQuery","node_modules/htmlrapier.widgets/src/CrudQuery","node_modules/htmlrapier.widgets/src/CrudSearch","node_modules/htmlrapier.widgets/src/CrudSearch","node_modules/htmlrapier.widgets/src/CrudItemEditor","node_modules/htmlrapier.widgets/src/CrudItemEditor","node_modules/htmlrapier.widgets/src/CrudPageNumbers","node_modules/htmlrapier.widgets/src/CrudPageNumbers","node_modules/htmlrapier.widgets/src/CrudTableController","node_modules/htmlrapier.widgets/src/CrudTableController"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){"use strict";function w(n){y.addServices(n);u.addServices(n);c.addServices(n);a.addServices(n);s.addServices(n);e.addServices(n)}Object.defineProperty(t,"__esModule",{value:!0});t.ListingDisplayOptions=i.ListingDisplayOptions;t.DataLoadingEventArgs=r.DataLoadingEventArgs;t.ICrudService=r.ICrudService;t.ShowItemEditorEventArgs=r.ShowItemEditorEventArgs;t.CrudDataModifiedEventArgs=r.CrudDataModifiedEventArgs;t.CrudTableRowController=f.CrudTableRowController;t.CrudTableRowControllerExtensions=f.CrudTableRowControllerExtensions;t.CrudQueryManager=o.CrudQueryManager;t.ICrudQueryComponent=o.ICrudQueryComponent;t.QueryEventArgs=o.QueryEventArgs;t.CrudSearch=h.CrudSearch;t.CrudItemEditorController=l.CrudItemEditorController;t.CrudItemEditorControllerExtensions=l.CrudItemEditorControllerExtensions;t.CrudItemEditorControllerOptions=l.CrudItemEditorControllerOptions;t.CrudItemEditorType=l.CrudItemEditorType;t.CrudPageNumbers=v.CrudPageNumbers;t.CrudTableController=p.CrudTableController;t.CrudTableControllerExtensions=p.CrudTableControllerExtensions;t.addServices=w});define("hr.externalpromise",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(){var n=this;this._promise=new Promise(function(t,i){n.resolveCb=t;n.rejectCb=i})}return n.prototype.resolve=function(n){this.resolveCb(n)},n.prototype.reject=function(n){this.rejectCb(n)},Object.defineProperty(n.prototype,"Promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),n}();t.ExternalPromise=i});define("hr.deeplink",["require","exports","hr.uri"],function(n,t,i){"use strict";function s(n,t){n.tryAddShared(r,function(){return new r(t)})}function h(n){n.tryAddShared(f,function(n){var t=n.getRequiredService(r);return new e(t.baseUrl)})}var u,f,e,o,r;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(n,t){this._uri=n;this.basePath=t}return Object.defineProperty(n.prototype,"query",{get:function(){return this._uri.getQueryObject()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inPagePath",{get:function(){return this._uri.path.substring(this.basePath.length)},enumerable:!0,configurable:!0}),n}();t.DeepLinkArgs=u;f=function(){function n(){}return n}();t.IDeepLinkManager=f;e=function(){function n(n){var t=this;this.handlers={};this.pageBaseUrl=this.normalizePath(n);window.addEventListener("popstate",function(n){return t.handlePopState(n)})}return n.prototype.handlePopState=function(n){var t,r;if(n.preventDefault(),n.stopPropagation(),t=n.state,t&&(r=this.handlers[t.handler],r!==undefined))r.onPopState(new u(new i.Uri,this.pageBaseUrl))},n.prototype.registerHandler=function(n,t){if(this.handlers[n]!==undefined)throw new Error("Attempted to register an IHistoryHandler named '"+n+"' multiple times, only one is allowed.");this.handlers[n]=t},n.prototype.pushState=function(n,t,r,u){var f=new i.Uri,e=this.createState(n,t,r,f);u===undefined&&(u=document.title);history.pushState(e,u,f.build())},n.prototype.replaceState=function(n,t,r,u){var f=new i.Uri,e=this.createState(n,t,r,f);u===undefined&&(u=document.title);history.replaceState(e,u,f.build())},n.prototype.getCurrentState=function(){return new u(new i.Uri,this.pageBaseUrl)},n.prototype.createState=function(n,t,i,r){return r.directory=this.pageBaseUrl,t&&(r.directory+=this.normalizePath(t)),r.setQueryFromObject(i),{handler:n}},n.prototype.normalizePath=function(n){return n&&(n=n.replace("\\","/"),n[0]!=="/"&&(n="/"+n),n[n.length-1]==="/"&&(n=n.substring(0,n.length-1))),n},n}();t.DeepLinkManager=e;o=function(){function n(){}return n.prototype.registerHandler=function(){},n.prototype.pushState=function(){},n.prototype.replaceState=function(){},n.prototype.getCurrentState=function(){return null},n}();t.NullDeepLinkManager=o;r=function(){function n(n){this.pageBaseUrl=n}return Object.defineProperty(n.prototype,"baseUrl",{get:function(){return this.pageBaseUrl},enumerable:!0,configurable:!0}),n}();t.DeepLinkBaseUrlProvider=r;t.setPageUrl=s;t.addServices=h});define("node_modules/htmlrapier.widgets/src/HypermediaCrudService",["require","exports","node_modules/htmlrapier.widgets/src/CrudPage","node_modules/htmlrapier.widgets/src/PageNumberWidget","node_modules/htmlrapier.widgets/src/CrudPage","hr.externalpromise","hr.deeplink"],function(n,t,i,r,u,f,e){"use strict";function p(n){return n.refresh!==undefined&&n.canRefresh!==undefined}function s(n){return n.update!==undefined&&n.canUpdate!==undefined}function l(n){return n.delete!==undefined&&n.canDelete!==undefined}function h(n){return n.hasAddDocs!==undefined&&n.getAddDocs!==undefined&&n.add!==undefined&&n.canAdd!==undefined}function w(n){return n.hasUpdateDocs!==undefined&&n.getUpdateDocs!==undefined}function b(n){return n.hasGetDocs!==undefined&&n.getGetDocs!==undefined}function k(n){return n.hasListDocs!==undefined&&n.getListDocs!==undefined}function d(n){return n.getGetDocs!==undefined&&n.hasGetDocs!==undefined}function g(n){n.tryAddShared(i.ICrudService,function(n){return new a(n.getRequiredService(o),n.getService(e.IDeepLinkManager))});i.addServices(n)}var o,c,v,y,a;Object.defineProperty(t,"__esModule",{value:!0});t.CrudSearch=u.CrudSearch;t.CrudPageNumbers=u.CrudPageNumbers;t.CrudTableController=u.CrudTableController;t.CrudItemEditorController=u.CrudItemEditorController;t.CrudItemEditorType=u.CrudItemEditorType;o=function(){function n(t){this._usePageQueryForFirstLoad=!0;t===undefined&&(t={});t.usePageQueryForFirstLoad!==undefined&&(this._usePageQueryForFirstLoad=t.usePageQueryForFirstLoad);this._uniqueName=t.uniqueName;this.uniqueName===undefined&&(this._uniqueName="hr.autonamed_hypermedia_injector_"+n.nameindex++)}return n.prototype.getItemId=function(){return null},n.prototype.createIdQuery=function(){return null},n.prototype.getById=function(n){return __awaiter(this,void 0,void 0,function(){var t,i,r;return __generator(this,function(u){switch(u.label){case 0:return(t=this.createIdQuery(n),i=null,!(t!==null))?[3,2]:[4,this.list(t)];case 1:r=u.sent();r.data.total>0&&(i=r.items[0]);u.label=2;case 2:return[2,i]}})})},Object.defineProperty(n.prototype,"usePageQueryForFirstLoad",{get:function(){return this._usePageQueryForFirstLoad},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uniqueName",{get:function(){return this._uniqueName},enumerable:!0,configurable:!0}),n}();o.nameindex=0;t.HypermediaPageInjector=o;c=function(n){function t(t){var i=this;return t=t===undefined?{}:Object.create(t),t.usePageQueryForFirstLoad=!1,n.call(this,t)||this}return __extends(t,n),Object.defineProperty(t.prototype,"parent",{get:function(){return this.parentResult},set:function(n){this.parentResult=n},enumerable:!0,configurable:!0}),t}(o);t.HypermediaChildPageInjector=c;v=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getDeletePrompt=function(){return"Are you sure you want to delete this item?"},t}(o);t.AbstractHypermediaPageInjector=v;y=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.getDeletePrompt=function(){return"Are you sure you want to delete this item?"},t}(c);t.AbstractHypermediaChildPageInjector=y;t.IsHypermediaRefreshableResult=p;t.IsHypermediaUpdatableResult=s;t.IsHypermediaDeleteableResult=l;t.IsAddableCrudCollection=h;t.IsUpdateDocs=w;t.IsGetDocs=b;t.IsSearchableCrudCollection=k;t.IsListingSchemaCrudCollection=d;a=function(n){function t(t,i){var r=n.call(this)||this;return r.pageInjector=t,r.linkManager=i,r.initialLoad=!0,r.initialPageLoadPromise=new f.ExternalPromise,r.currentPage=null,r.allowCloseHistory=!0,r.linkManager||(r.linkManager=new e.NullDeepLinkManager),r.linkManager.registerHandler(r.pageInjector.uniqueName,r),r}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[o,e.IDeepLinkManager]},enumerable:!0,configurable:!0}),t.prototype.getItemSchema=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(i){switch(i.label){case 0:return[4,this.initialPageLoadPromise.Promise];case 1:return(i.sent(),!w(this.currentPage))?[3,3]:this.currentPage.hasUpdateDocs()?[4,this.currentPage.getUpdateDocs()]:[3,3];case 2:return n=i.sent(),[2,n.requestSchema];case 3:return[4,this.getAddItemSchema()];case 4:return(t=i.sent(),t!==undefined)?[2,t]:b(this.currentPage)?this.currentPage.hasGetDocs()?[4,this.currentPage.getGetDocs()]:[3,6]:[3,6];case 5:return n=i.sent(),[2,n.responseSchema];case 6:return[2]}})})},t.prototype.getAddItemSchema=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.initialPageLoadPromise.Promise];case 1:return(t.sent(),!h(this.currentPage))?[3,3]:this.currentPage.hasAddDocs()?[4,this.currentPage.getAddDocs()]:[3,3];case 2:return n=t.sent(),[2,n.requestSchema];case 3:return[2]}})})},t.prototype.getListingSchema=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.initialPageLoadPromise.Promise];case 1:return(t.sent(),!d(this.currentPage))?[3,3]:this.currentPage.hasGetDocs()?[4,this.currentPage.getGetDocs()]:[3,3];case 2:return n=t.sent(),[2,n.responseSchema];case 3:return[2]}})})},t.prototype.getSearchSchema=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.initialPageLoadPromise.Promise];case 1:return(t.sent(),!(k(this.currentPage)&&this.currentPage.hasListDocs()))?[3,3]:[4,this.currentPage.getListDocs()];case 2:return n=t.sent(),[2,n.querySchema];case 3:return[2]}})})},t.prototype.add=function(n){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(){return n===undefined&&(n={}),this.fireAddItemEvent(new i.ShowItemEditorEventArgs(n,function(n){return t.finishAdd(n)},this.currentPage)),[2]})})},t.prototype.finishAdd=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return h(this.currentPage)?[4,this.currentPage.add(n)]:[3,2];case 1:t.sent();this.fireCrudDataModifiedEvent(new i.CrudDataModifiedEventArgs);this.refreshPage();t.label=2;case 2:return[2]}})})},t.prototype.itemEditorClosed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this.currentPage&&this.allowCloseHistory&&this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2]})})},t.prototype.canAdd=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,h(this.currentPage)&&this.currentPage.canAdd()]})})},t.prototype.edit=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.beginEdit(n,!0)];case 1:return t.sent(),[2]}})})},t.prototype.beginEdit=function(n,t){return __awaiter(this,void 0,void 0,function(){var f=this,r,e,u;return __generator(this,function(o){switch(o.label){case 0:return(t&&(r=this.pageInjector.getItemId(n),r!==null&&this.linkManager.pushState(this.pageInjector.uniqueName,"Edit/"+r,null)),!(p(n)&&n.canRefresh()))?[3,2]:[4,n.refresh()];case 1:n=o.sent();o.label=2;case 2:return e=this.getEditObject(n),u=null,s(n)&&n.canUpdate()&&(u=function(t){return f.finishEdit(t,n)}),this.fireShowItemEditorEvent(new i.ShowItemEditorEventArgs(e,u,n,function(){return f.itemEditorClosed()})),[2]}})})},t.prototype.canEdit=function(n){return s(n)&&n.canUpdate()},t.prototype.getEditObject=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,n.data]})})},t.prototype.finishEdit=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return s(t)?[4,t.update(n)]:[3,2];case 1:r.sent();this.fireCrudDataModifiedEvent(new i.CrudDataModifiedEventArgs);this.refreshPage();r.label=2;case 2:return[2]}})})},t.prototype.del=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return l(n)?[4,n.delete()]:[3,2];case 1:t.sent();this.fireCrudDataModifiedEvent(new i.CrudDataModifiedEventArgs);this.refreshPage();t.label=2;case 2:return[2]}})})},t.prototype.canDel=function(n){return l(n)&&n.canDelete()},t.prototype.getDeletePrompt=function(n){return this.pageInjector.getDeletePrompt(n)},t.prototype.getSearchObject=function(n){return n.data},t.prototype.getPage=function(n){var t=this,e=!0,u,f,o,r;return this.pageInjector.usePageQueryForFirstLoad&&this.initialLoad&&(u=this.linkManager.getCurrentState(),u&&(n=u.query,f=this.getEditIdFromPath(u.inPagePath),f!==null&&(e=!1,o=this.pageInjector.getById(f).then(function(n){n!==null&&(t.linkManager.replaceState(t.pageInjector.uniqueName,"Edit/"+f,null),t.beginEdit(n,!1))})))),r=this.getPageAsync(n,!this.initialLoad),this.initialLoad&&(this.initialLoad=!1,r=r.then(function(n){return e&&t.linkManager.replaceState(t.pageInjector.uniqueName,null,t.currentPage.data),t.initialPageLoadPromise.resolve(n),n})),this.fireDataLoadingEvent(new i.DataLoadingEventArgs(r)),r},t.prototype.getPageAsync=function(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(r){switch(r.label){case 0:return[4,this.pageInjector.canList()];case 1:return r.sent()?(i=this,[4,this.pageInjector.list(n)]):[3,3];case 2:return i.currentPage=r.sent(),t&&this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2,this.currentPage];case 3:throw new Error("No permissions to list, cannot get page.");}})})},t.prototype.firstPage=function(){this.fireDataLoadingEvent(new i.DataLoadingEventArgs(this.firstPageAsync()))},t.prototype.firstPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canFirst()?(n=this,[4,this.currentPage.first()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2,this.currentPage];case 2:throw new Error("Cannot visit the first page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the first page until a page has been loaded.");case 5:return[2]}})})},t.prototype.lastPage=function(){this.fireDataLoadingEvent(new i.DataLoadingEventArgs(this.lastPageAsync()))},t.prototype.lastPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canLast()?(n=this,[4,this.currentPage.last()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2,this.currentPage];case 2:throw new Error("Cannot visit the last page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the last page until a page has been loaded.");case 5:return[2]}})})},t.prototype.nextPage=function(){this.fireDataLoadingEvent(new i.DataLoadingEventArgs(this.nextPageAsync()))},t.prototype.nextPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canNext()?(n=this,[4,this.currentPage.next()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2,this.currentPage];case 2:throw new Error("Cannot visit the next page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the next page until a page has been loaded.");case 5:return[2]}})})},t.prototype.previousPage=function(){this.fireDataLoadingEvent(new i.DataLoadingEventArgs(this.previousPageAsync()))},t.prototype.previousPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canPrevious()?(n=this,[4,this.currentPage.previous()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2,this.currentPage];case 2:throw new Error("Cannot visit the previous page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the previous page until a page has been loaded.");case 5:return[2]}})})},t.prototype.refreshPage=function(){this.fireDataLoadingEvent(new i.DataLoadingEventArgs(this.refreshPageAsync()))},t.prototype.refreshPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canRefresh()?(n=this,[4,this.currentPage.refresh()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),this.linkManager.pushState(this.pageInjector.uniqueName,null,this.currentPage.data),[2,this.currentPage];case 2:throw new Error("Cannot refresh the page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot refresh the page until a page has been loaded.");case 5:return[2]}})})},t.prototype.getItems=function(n){return n.items},t.prototype.getListingDisplayObject=function(n){return n.data},t.prototype.getPageNumberState=function(n){return new r.HypermediaPageState(n)},t.prototype.onPopState=function(n){return __awaiter(this,void 0,void 0,function(){var t,r,u;return __generator(this,function(f){switch(f.label){case 0:return(t=this.getEditIdFromPath(n.inPagePath),!(t!==null))?[3,2]:[4,this.pageInjector.getById(t)];case 1:return r=f.sent(),r!==null&&this.beginEdit(r,!1),[3,3];case 2:u=this.getPageAsync(n.query,!1);this.fireDataLoadingEvent(new i.DataLoadingEventArgs(u));this.allowCloseHistory=!1;this.fireCloseItemEditorEvent();this.allowCloseHistory=!0;f.label=3;case 3:return[2]}})})},t.prototype.getEditIdFromPath=function(n){if(n){var t=n.split("/");if(t.length>=3&&t[1].toLowerCase()==="edit")return t[2]}return null},t}(i.ICrudService);t.HypermediaCrudService=a;t.addServices=g});define("Client/Libs/ServiceClientInjectors",["require","exports","Client/Libs/IdServerClient","node_modules/htmlrapier.widgets/src/HypermediaCrudService"],function(n,t,i,r){"use strict";var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(n){function t(t){var i=n.call(this)||this;return i.injector=t,i}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[i.EntryPointsInjector]},enumerable:!0,configurable:!0}),t.prototype.list=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.injector.load()];case 1:return t=i.sent(),[2,t.listApiResource(n)]}})})},t.prototype.canList=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.injector.load()];case 1:return n=t.sent(),[2,n.canListApiResource()]}})})},t.prototype.getDeletePrompt=function(n){return"Are you sure you want to delete the resource "+n.data.displayName+"?"},t}(r.AbstractHypermediaPageInjector);t.ApiResourceInjector=u;f=function(n){function t(t){var i=n.call(this)||this;return i.injector=t,i}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[i.EntryPointsInjector]},enumerable:!0,configurable:!0}),t.prototype.list=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.injector.load()];case 1:return t=i.sent(),[2,t.listClients(n)]}})})},t.prototype.canList=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.injector.load()];case 1:return n=t.sent(),[2,n.canListClients()]}})})},t.prototype.getDeletePrompt=function(n){return"Are you sure you want to delete the client "+n.data.name+"?"},t}(r.AbstractHypermediaPageInjector);t.ClientResourceInjector=f});define("hr.windowfetch",["require","exports","hr.fetcher"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.fetch=function(n,t){return i.fetch(n,t)},t}(i.Fetcher);t.WindowFetch=r});define("hr.http",["require","exports","hr.windowfetch"],function(n,t,i){"use strict";function f(n,t){return t===undefined&&(t=r),t.fetch(n,{method:"GET",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},credentials:"include"}).then(function(n){return u(n)})}function e(n,t,i){i===undefined&&(i=r);var f=undefined;return t!==undefined&&(f=JSON.stringify(t)),i.fetch(n,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},body:f,credentials:"include"}).then(function(n){return u(n)})}function u(n){return n.text().then(function(t){var i=t===""?null:JSON.parse(t);if(n.status>199&&n.status<300)return i;throw i;})}Object.defineProperty(t,"__esModule",{value:!0});var r=new i.WindowFetch;t.get=f;t.post=e});define("node_modules/htmlrapier/src/whitelist",["require","exports","hr.uri"],function(n,t,i){"use strict";function r(n){return n.url!==undefined}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n){if(this.whitelist=[],n)for(var t=0;t<n.length;++t)this.add(n[t])}return n.prototype.add=function(n){this.whitelist.push(new i.Uri(this.transformInput(n)))},n.prototype.isWhitelisted=function(n){for(var t,f=r(n)?new i.Uri(this.transformInput(n.url)):new i.Uri(this.transformInput(n)),u=0;u<this.whitelist.length;++u)if(t=this.whitelist[u],(t.protocol==="HTTPS"||t.protocol==="")&&t.authority==f.authority&&f.path.startsWith(t.path))return!0;return!1},n.prototype.transformInput=function(n){return n.toLocaleUpperCase()},n}();t.Whitelist=u});define("hr.accesstokens",["require","exports","hr.http","hr.fetcher","hr.eventdispatcher","hr.externalpromise"],function(n,t,i,r,u,f){"use strict";function e(n){return decodeURIComponent(atob(n).replace(/(.)/g,function(n,t){var i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function o(n){var t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!";}try{return e(t)}catch(i){return atob(t)}}function s(n,t){if(typeof n!="string")throw new Error("Invalid token specified");t=t||{};var i=t.header===!0?0:1;return JSON.parse(o(n.split(".")[i]))}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function n(n,t){this.tokenPath=n;this.fetcher=t;this.needLoginEvent=new u.PromiseEventDispatcher;this.queuePromise=null}return n.prototype.getToken=function(){return this.queuePromise!==null?this.queuePromise.Promise:this.startTime===undefined||Date.now()/1e3-this.startTime>this.expirationTick?(this.queuePromise=new f.ExternalPromise,this.doRefreshToken(),this.queuePromise.Promise):Promise.resolve(this.currentToken)},n.prototype.doRefreshToken=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,8]),[4,this.readServerToken()];case 1:return t.sent(),this.resolveQueue(),[3,8];case 2:return(n=t.sent(),!(this.currentToken===undefined))?[3,3]:(this.resolveQueue(),[3,7]);case 3:return[4,this.fireNeedLogin()];case 4:return t.sent()?[4,this.readServerToken()]:[3,6];case 5:return t.sent(),this.resolveQueue(),[3,7];case 6:this.startTime=undefined;this.rejectQueue("Could not refresh access token or log back in.");t.label=7;case 7:return[3,8];case 8:return[2]}})})},n.prototype.readServerToken=function(){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(r){switch(r.label){case 0:return[4,i.post(this.tokenPath,undefined,this.fetcher)];case 1:if(t=r.sent(),this.currentToken=t.accessToken,this._headerName=t.headerName,n=s(this.currentToken),this.currentSub!==undefined){if(this.currentSub!==n.sub){this.clearToken();throw new Error("Sub did not match on new token, likely a different user. Aborting refresh.");}}else this.currentSub=n.sub;return this.startTime=n.nbf,this.expirationTick=(n.exp-this.startTime)/2,[2]}})})},n.prototype.clearToken=function(){this.currentToken=undefined;this.startTime=undefined;this.currentSub=undefined},Object.defineProperty(n.prototype,"onNeedLogin",{get:function(){return this.needLoginEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"headerName",{get:function(){return this._headerName},enumerable:!0,configurable:!0}),n.prototype.fireNeedLogin=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.needLoginEvent.fire(this)];case 1:if(n=i.sent(),n)for(t=0;t<n.length;++t)if(n[t])return[2,n[t]];return[2,!1]}})})},n.prototype.resolveQueue=function(){var n=this.queuePromise;this.queuePromise=null;n.resolve(this.currentToken)},n.prototype.rejectQueue=function(){var n=this.queuePromise;this.queuePromise=null;n.reject(this.currentToken)},n}(),c=function(n){function t(t,i,r){var f=n.call(this)||this;return f.needLoginEvent=new u.PromiseEventDispatcher,f._alwaysRefreshToken=!1,f.tokenManager=new h(t,r),f.tokenManager.onNeedLogin.add(function(){return f.fireNeedLogin()}),f.next=r,f.accessWhitelist=i,f}return __extends(t,n),t.isInstance=function(n){return n.onNeedLogin!==undefined&&n.fetch!==undefined},t.prototype.fetch=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r,u;return __generator(this,function(f){switch(f.label){case 0:return(i=this.accessWhitelist.isWhitelisted(n),!(i||this._alwaysRefreshToken))?[3,2]:[4,this.tokenManager.getToken()];case 1:r=f.sent();u=this.tokenManager.headerName;i&&u&&r&&(t.headers[u]=r);f.label=2;case 2:return[2,this.next.fetch(n,t)]}})})},Object.defineProperty(t.prototype,"onNeedLogin",{get:function(){return this.needLoginEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysRefreshToken",{get:function(){return this._alwaysRefreshToken},set:function(n){this._alwaysRefreshToken=n},enumerable:!0,configurable:!0}),t.prototype.fireNeedLogin=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.needLoginEvent.fire(this)];case 1:if(n=i.sent(),n)for(t=0;t<n.length;++t)if(n[t])return[2,n[t]];return[2,!1]}})})},t}(r.Fetcher);t.AccessTokenFetcher=c});define("node_modules/htmlrapier.bootstrap/src/modal",["require","exports","hr.toggles"],function(n,t,i){"use strict";function u(){i.addTogglePlugin(function(n,t,i){return n.classList.contains("modal")&&(i=new r(n,i)),i})}Object.defineProperty(t,"__esModule",{value:!0});$(document).on("hidden.bs.modal",".modal",function(){$(".modal:visible").length&&$(document.body).addClass("modal-open")});var r=function(n){function t(t,i){var r=n.call(this,i)||this,u,f;r.modal=$(t);u=r.modal.modal({show:!1});f=r;r.modal.on("show.bs.modal",function(){r.fireStateChange("on")});r.modal.on("hide.bs.modal",function(){r.fireStateChange("off")});return r.addState("on","on"),r.addState("off","off"),r}return __extends(t,n),t.prototype.activateState=function(n){switch(n){case"on":this.modal.modal("show");break;case"off":this.modal.modal("hide")}return!1},t}(i.ToggleStates);t.activate=u});define("node_modules/htmlrapier.bootstrap/src/dropdown",["require","exports","hr.toggles"],function(n,t,i){"use strict";function u(){i.addTogglePlugin(function(n,t,i){return n.classList.contains("dropdown-toggle")&&(i=new r(n,i)),i})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t,i){var r=n.call(this,i)||this;return r.drop=$(t).dropdown(),r}return __extends(t,n),t.prototype.activateState=function(){return!1},t}(i.ToggleStates);t.activate=u});define("node_modules/htmlrapier.bootstrap/src/tab",["require","exports","hr.toggles"],function(n,t,i){"use strict";function u(){i.addTogglePlugin(function(n,t,i){return n.getAttribute("data-toggle")==="tab"&&(i=new r(n,i)),i})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(n){function t(t,i){var r=n.call(this,i)||this;r.tab=$(t);r.tab.on("shown.bs.tab",function(){r.fireStateChange("on")});r.tab.on("hide.bs.tab",function(){r.fireStateChange("off")});return r.addState("on","on"),r.addState("off","off"),r}return __extends(t,n),t.prototype.activateState=function(n){switch(n){case"on":this.tab.tab("show")}return!1},t}(i.ToggleStates);t.activate=u});define("node_modules/htmlrapier.bootstrap/src/all",["require","exports","node_modules/htmlrapier.bootstrap/src/modal","node_modules/htmlrapier.bootstrap/src/dropdown","node_modules/htmlrapier.bootstrap/src/tab"],function(n,t,i,r,u){"use strict";function e(){f&&(f=!1,i.activate(),r.activate(),u.activate())}Object.defineProperty(t,"__esModule",{value:!0});var f=!0;t.activate=e});define("node_modules/htmlrapier.roleclient/src/RoleClient",["require","exports"],function(n,t){"use strict";function i(n){var t="";if(n.refresh===undefined&&(t+="refresh(): Promise<RoleAssignmentsResult>.\n"),n.canRefresh===undefined&&(t+="canRefresh(): boolean.\n"),n.setUser===undefined&&(t+="setUser(data: RoleAssignments): Promise<RoleAssignmentsResult>.\n"),n.canSetUser===undefined&&(t+="canSetUser(): boolean.\n"),n.getSetUserDocs===undefined&&(t+="getSetUserDocs(): Promise<hal.HalEndpointDoc>.\n"),n.hasSetUserDocs===undefined&&(t+="hasSetUserDocs(): boolean.\n"),n.deleteUser===undefined&&(t+="deleteUser().\n"),n.canDeleteUser===undefined&&(t+="canDeleteUser(): boolean.\n"),t!==""){t="Cannot accept RoleAssignmentResult. The following functions are missing:\n"+t;throw new Error(t);}return!0}function u(n){var t="";if(n.getUser===undefined&&(t+="getUser(query: RolesQuery): Promise<RoleAssignmentsResult>.\n"),n.canGetUser===undefined&&(t+="canGetUser(): boolean.\n"),n.listUsers===undefined&&(t+="listUsers(query: PagedCollectionQuery): Promise<UserCollectionResult>\n"),n.canListUsers===undefined&&(t+="canListUsers(): boolean;"),n.setUser===undefined&&(t+="setUser(data: RoleAssignments): Promise<RoleAssignmentsResult>\n"),n.canSetUser===undefined&&(t+="canSetUser(): boolean\n"),n.getSetUserDocs===undefined&&(t+="getSetUserDocs(): Promise<hal.HalEndpointDoc>\n"),n.hasSetUserDocs===undefined&&(t+="hasSetUserDocs(): boolean\n"),t!==""){t="Cannot accept RoleAssignmentResult. The following functions are missing:\n"+t;throw new Error(t);}return!0}Object.defineProperty(t,"__esModule",{value:!0});t.IsRoleAssignmentsResult=i;var r=function(){function n(){}return n}();t.IRoleEntryInjector=r;t.IsEntryPointResult=u});define("node_modules/htmlrapier.roleclient/src/UserDirectoryClient",["require","exports","node_modules/htmlrapier.halcyon/src/EndpointClient"],function(n,t,i){"use strict";var e,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});e=function(){function n(n,t){this.url=n;this.fetcher=t}return n.prototype.load=function(){return this.instance||(this.instance=r.Load(this.url,this.fetcher)),this.instance},n}();t.EntryPointInjector=e;r=function(){function n(n){this.client=n}return n.Load=function(t,r){return i.HalEndpointClient.Load({href:t,method:"GET"},r).then(function(t){return new n(t)})},Object.defineProperty(n.prototype,"data",{get:function(){return this.client.GetData()},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n.prototype.searchUsers=function(n){return this.client.LoadLinkWithQuery("SearchUsers",n).then(function(n){return new f(n)})},n.prototype.canSearchUsers=function(){return this.client.HasLink("SearchUsers")},n.prototype.getSearchUsersDocs=function(){return this.client.LoadLinkDoc("SearchUsers").then(function(n){return n.GetData()})},n.prototype.hasSearchUsersDocs=function(){return this.client.HasLinkDoc("SearchUsers")},n}();t.EntryPointResult=r;u=function(){function n(n){this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.client.GetData()},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n}();t.PersonResult=u;f=function(){function n(n){this.client=n}return Object.defineProperty(n.prototype,"data",{get:function(){return this.client.GetData()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"items",{get:function(){for(var r=this.client.GetEmbed("values"),t=r.GetAllClients(),i=[],n=0;n<t.length;++n)i.push(new u(t[n]));return i},enumerable:!0,configurable:!0}),n.prototype.refresh=function(){return this.client.LoadLink("self").then(function(t){return new n(t)})},n.prototype.canRefresh=function(){return this.client.HasLink("self")},n.prototype.getRefreshDocs=function(){return this.client.LoadLinkDoc("self").then(function(n){return n.GetData()})},n.prototype.hasRefreshDocs=function(){return this.client.HasLinkDoc("self")},n}();t.PersonCollectionResult=f});define("node_modules/htmlrapier.relogin/src/LoginPopup",["require","exports","hr.controller","hr.fetcher","hr.externalpromise","hr.accesstokens"],function(n,t,i,r,u,f){"use strict";function s(n){n.tryAddShared(e,function(){return new e("/Account/Relogin")});n.tryAddShared(o,o)}var e,o;Object.defineProperty(t,"__esModule",{value:!0});e=function(){function n(n){this._relogPage=n}return Object.defineProperty(n.prototype,"relogPage",{get:function(){return this._relogPage},enumerable:!0,configurable:!0}),n}();t.LoginPopupOptions=e;o=function(){function n(n,t,i){var r=this;this.options=t;this.dialog=n.getToggle("dialog");this.dialog.offEvent.add(function(){r.closed()});this.loginFrame=n.getHandle("loginFrame");f.AccessTokenFetcher.isInstance(i)&&(i.onNeedLogin.add(function(n){return r.open(n)}),window.addEventListener("message",function(n){r.handleMessage(n)}));this.resizeEvent=function(){r.setIframeHeight()}}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[i.BindingCollection,e,r.Fetcher]},enumerable:!0,configurable:!0}),n.prototype.open=function(){return this.dialog.on(),this.currentPromise=new u.ExternalPromise,this.setIframeHeight(),this.loginFrame.src=this.options.relogPage,window.addEventListener("resize",this.resizeEvent),this.currentPromise.Promise},n.prototype.handleMessage=function(n){var i=JSON.parse(n.data);i.type===t.MessageType&&i.success&&this.dialog.off()},n.prototype.setIframeHeight=function(){this.loginFrame.style.height=window.innerHeight-240+"px"},n.prototype.closed=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(){return this.currentPromise&&(n=this.currentPromise,this.currentPromise=null,this.loginFrame.contentWindow.document.open(),this.loginFrame.contentWindow.document.close(),window.removeEventListener("resize",this.resizeEvent),n.resolve(!0)),[2]})})},n}();t.LoginPopup=o;t.MessageType="LoginPageMessage";t.addServices=s});define("hr.storage",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(n,t,i){this.name=n;this.path="/";this.days=undefined;t!==undefined&&t!==null&&(this.days=t);i!==undefined&&(this.path=i)}return n.prototype.getValue=function(){return n.readRaw(this.name)},n.prototype.setValue=function(t){n.createRaw(this.name,t,this.path,this.days)},n.createRaw=function(n,t,i,r){var u,f;r?(u=new Date,u.setTime(u.getTime()+r*864e5),f="; expires="+u.toUTCString()):f="";document.cookie=n+"="+t+f+"; path="+i},n.readRaw=function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null},n.prototype.erase=function(){n.createRaw(this.name,"",this.path,-1)},n}();t.CookieStorageDriver=i;r=function(){function n(n){this.name=n}return n.prototype.getValue=function(){return sessionStorage.getItem(this.name)},n.prototype.setValue=function(n){sessionStorage.setItem(this.name,n)},n.prototype.erase=function(){this.setValue(null)},n}();t.SessionStorageDriver=r;u=function(){function n(n){this.storageDriver=n}return n.prototype.setSerializerOptions=function(n,t){this.replacer=n;this.space=t},n.prototype.getValue=function(n){var t=this.storageDriver.getValue();return t!==null?JSON.parse(t):n},n.prototype.setValue=function(n){this.storageDriver.setValue(JSON.stringify(n,this.replacer,this.space))},n.prototype.erase=function(){this.storageDriver.erase()},n}();t.JsonStorage=u;f=function(){function n(n){this.storageDriver=n}return n.prototype.getValue=function(){return this.storageDriver.getValue()},n.prototype.setValue=function(n){this.storageDriver.setValue(n)},n.prototype.erase=function(){this.storageDriver.erase()},n}();t.StringStorage=f});define("hr.xsrftoken",["require","exports","hr.fetcher","hr.storage"],function(n,t,i,r){"use strict";var u,f;Object.defineProperty(t,"__esModule",{value:!0});u=function(){function n(n){this.cookieName=n;this.cookieName===undefined&&(this.cookieName="XSRF-TOKEN")}return Object.defineProperty(n.prototype,"token",{get:function(){return r.CookieStorageDriver.readRaw(this.cookieName)},enumerable:!0,configurable:!0}),n}();t.CookieTokenAccessor=u;f=function(n){function t(t,i,r,u){var f=n.call(this)||this;return f.tokenAccessor=t,f.accessWhitelist=i,f.next=r,f.options=u,f.options===undefined&&(f.options={headerName:"RequestVerificationToken"}),f}return __extends(t,n),t.prototype.fetch=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this.accessWhitelist.isWhitelisted(n)&&(t.headers[this.options.headerName]=this.tokenAccessor.token),[2,this.next.fetch(n,t)]})})},t}(i.Fetcher);t.XsrfTokenFetcher=f});define("hr.pageconfig",["require","exports"],function(n,t){"use strict";function i(n){return n===undefined&&(n={}),window.hr_config?window.hr_config(n):n}Object.defineProperty(t,"__esModule",{value:!0});t.read=i});define("Client/Libs/startup",["require","exports","hr.controller","hr.windowfetch","hr.accesstokens","node_modules/htmlrapier/src/whitelist","hr.fetcher","node_modules/htmlrapier.bootstrap/src/all","Client/Libs/IdServerClient","node_modules/htmlrapier.roleclient/src/RoleClient","node_modules/htmlrapier.roleclient/src/UserDirectoryClient","node_modules/htmlrapier.relogin/src/LoginPopup","hr.deeplink","hr.xsrftoken","hr.pageconfig"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){"use strict";function w(){if(p===null){p=new i.InjectedControllerBuilder;o.activate();var n=y.read();p.Services.tryAddShared(e.Fetcher,function(){return b(n)});p.Services.tryAddShared(s.EntryPointsInjector,function(t){return new s.EntryPointsInjector(n.client.IdentityServerHost+"/EntryPoint",t.getRequiredService(e.Fetcher))});p.Services.addShared(h.IRoleEntryInjector,function(n){return n.getRequiredService(s.EntryPointsInjector)});p.Services.addShared(c.EntryPointInjector,function(t){return new c.EntryPointInjector(n.client.UserDirectoryHost,t.getRequiredService(e.Fetcher))});a.setPageUrl(p.Services,n.client.PageBasePath);l.addServices(p.Services);p.create("hr-relogin",l.LoginPopup)}return p}function b(n){var t=new r.WindowFetch;return n.tokens!==undefined&&(t=new v.XsrfTokenFetcher(new v.CookieTokenAccessor(n.tokens.XsrfCookie),new f.Whitelist(n.tokens.XsrfPaths),t)),n.tokens.AccessTokenPath!==undefined&&(t=new u.AccessTokenFetcher(n.tokens.AccessTokenPath,new f.Whitelist([n.client.IdentityServerHost,n.client.UserDirectoryHost]),t)),t}Object.defineProperty(t,"__esModule",{value:!0});var p=null;t.createBuilder=w});define("node_modules/htmlrapier.widgets/src/StandardCrudPage",["require","exports","node_modules/htmlrapier.widgets/src/HypermediaCrudService"],function(n,t,i){"use strict";function u(n,t){i.addServices(n.Services);n.Services.tryAddShared(i.HypermediaPageInjector,t)}function f(n,t){if(n.create(t.searchName,i.CrudSearch),n.create(t.pageNumbersName,i.CrudPageNumbers),n.create(t.mainTableName,i.CrudTableController),t.addItemEditorName===null)n.create(t.entryEditorName,i.CrudItemEditorController);else{var r=n.createId(i.CrudItemEditorType.Add,t.addItemEditorName,i.CrudItemEditorController);r.length===0?n.create(t.entryEditorName,i.CrudItemEditorController):n.createId(i.CrudItemEditorType.Update,t.entryEditorName,i.CrudItemEditorController)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(){this.searchName="search";this.pageNumbersName="pageNumbers";this.mainTableName="mainTable";this.entryEditorName="entryEditor";this.addItemEditorName="addEntryEditor"}return n}();t.Settings=r;t.addServices=u;t.createControllers=f});define("node_modules/htmlrapier.widgets/src/prompt",["require","exports"],function(n,t){"use strict";var r,i,u;Object.defineProperty(t,"__esModule",{value:!0});r=function(){function n(){}return n}();t.IPrompt=r;i=function(){function n(n,t){this.accepted=n;this.data=t}return n.prototype.isAccepted=function(){return this.accepted},n.prototype.getData=function(){return this.data},n}();t.PromptResult=i;u=function(){function n(){}return n.prototype.prompt=function(n,t){return new Promise(function(r){var u=window.prompt(n,t),f=new i(u!==null,u);r(f)})},n}();t.BrowserPrompt=u});define("Views/Home/ApiResources",["require","exports","Client/Libs/ServiceClientInjectors","node_modules/htmlrapier.widgets/src/StandardCrudPage","Client/Libs/IdServerClient","node_modules/htmlrapier.widgets/src/CrudPage","hr.controller","node_modules/htmlrapier.widgets/src/prompt","Client/Libs/startup"],function(n,t,i,r,u,f,e,o,s){"use strict";var c,l,h;Object.defineProperty(t,"__esModule",{value:!0});c=function(){function n(n,t,i,r){this.crudService=t;this.prompt=i;this.entryPointInjector=r}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[e.BindingCollection,f.ICrudService,o.IPrompt,u.EntryPointsInjector]},enumerable:!0,configurable:!0}),n.prototype.addFromMetadata=function(n){return __awaiter(this,void 0,void 0,function(){var t,i,r,u;return __generator(this,function(f){switch(f.label){case 0:n.preventDefault();f.label=1;case 1:return f.trys.push([1,6,,7]),[4,this.prompt.prompt("Enter the target resource's base url.","")];case 2:return(t=f.sent(),!t.isAccepted())?[3,5]:[4,this.entryPointInjector.load()];case 3:return i=f.sent(),[4,i.loadApiResourceFromMetadata({targetUrl:t.getData()})];case 4:r=f.sent();this.crudService.add(r.data);f.label=5;case 5:return[3,7];case 6:return u=f.sent(),alert("Error loading metadata"),[3,7];case 7:return[2]}})})},n}();t.AddFromMetadataController=c;l=i.ApiResourceInjector;h=s.createBuilder();r.addServices(h,l);h.Services.tryAddTransient(c,c);h.Services.tryAddShared(o.IPrompt,function(){return new o.BrowserPrompt});r.createControllers(h,new r.Settings);h.create("addFromMetadata",c)});define("Views/Home/Clients",["require","exports","Client/Libs/ServiceClientInjectors","node_modules/htmlrapier.widgets/src/StandardCrudPage","Client/Libs/IdServerClient","node_modules/htmlrapier.widgets/src/CrudPage","hr.controller","node_modules/htmlrapier.widgets/src/prompt","node_modules/htmlrapier.widgets/src/confirm","Client/Libs/SecretDisplayController","Client/Libs/startup"],function(n,t,i,r,u,f,e,o,s,h,c){"use strict";var v,a,y,l;Object.defineProperty(t,"__esModule",{value:!0});v=function(n){function t(t,i){var r=n.call(this)||this;return r.secretDisplay=t,r.confirm=i,r}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[h.SecretDisplayController,s.IConfirm]},enumerable:!0,configurable:!0}),t.prototype.rowConstructed=function(n,t,i){this.data=i;t.setListener(this)},t.prototype.createSecret=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return n.preventDefault(),[4,this.confirm.confirm("Continuing will override the secret already in the database, you will need to update any connected apps. Do you want to continue?")];case 1:return i.sent()?(this.secretDisplay.showLoading(),[4,this.data.addClientSecret()]):[3,3];case 2:t=i.sent();this.secretDisplay.showSecret(this.data.data.name,t.data.secret);i.label=3;case 3:return[2]}})})},t}(f.CrudTableRowControllerExtensions);a=function(){function n(n,t,i,r){this.crudService=t;this.prompt=i;this.entryPointInjector=r}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[e.BindingCollection,f.ICrudService,o.IPrompt,u.EntryPointsInjector]},enumerable:!0,configurable:!0}),n.prototype.addFromMetadata=function(n){return __awaiter(this,void 0,void 0,function(){var t,i,r,u;return __generator(this,function(f){switch(f.label){case 0:n.preventDefault();f.label=1;case 1:return f.trys.push([1,6,,7]),[4,this.prompt.prompt("Enter the target client's base url.","")];case 2:return(t=f.sent(),!t.isAccepted())?[3,5]:[4,this.entryPointInjector.load()];case 3:return i=f.sent(),[4,i.loadClientFromMetadata({targetUrl:t.getData()})];case 4:r=f.sent();this.crudService.add(r.data);f.label=5;case 5:return[3,7];case 6:return u=f.sent(),alert("Error loading metadata"),[3,7];case 7:return[2]}})})},n}();t.AddFromMetadataController=a;y=i.ClientResourceInjector;l=c.createBuilder();r.addServices(l,y);h.addServices(l.Services);l.Services.addTransient(f.CrudTableRowControllerExtensions,v);l.Services.tryAddTransient(a,a);l.Services.tryAddShared(o.IPrompt,function(){return new o.BrowserPrompt});r.createControllers(l,new r.Settings);l.create("secretDisplay",h.SecretDisplayController);l.create("addFromMetadata",a)});define("node_modules/htmlrapier.roleclient/src/UserSearchController",["require","exports","node_modules/htmlrapier.roleclient/src/UserDirectoryClient","hr.controller","node_modules/htmlrapier.widgets/src/MainLoadErrorLifecycle","hr.eventdispatcher"],function(n,t,i,r,u,f){"use strict";function c(n){n.tryAddTransient(e,function(){return new e});n.tryAddTransient(o,o);n.tryAddTransient(s,h)}var e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});e=function(){function n(){this.mainToggleName="main";this.errorToggleName="error";this.loadToggleName="load";this.dialogToggleName="dialog";this.guidFormName="fromGuidForm";this.setLoadingOnStart=!0}return n}();t.UserSearchControllerOptions=e;o=function(){function n(n,t,i,r){this.builder=i;this.entryPointInjector=r;this.addManuallyEvent=new f.ActionEventDispatcher;this.options=t;this.guidForm=n.getForm(t.guidFormName);this.searchModel=n.getModel("search");this.searchResultsModel=n.getModel("searchResults");this.noResultsModel=n.getModel("noResults");this.noResultsToggle=n.getToggle("noResults");this.noResultsToggle.off();this.dialogToggle=n.getToggle(t.dialogToggleName);this.lifecycle=new u.MainLoadErrorLifecycle(n.getToggle(t.mainToggleName),n.getToggle(t.loadToggleName),n.getToggle(t.errorToggleName),t.setLoadingOnStart);this.lifecycle.showLoad();this.setup()}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[r.BindingCollection,e,r.InjectedControllerBuilder,i.EntryPointInjector]},enumerable:!0,configurable:!0}),n.prototype.show=function(){this.dialogToggle.on()},n.prototype.hide=function(){this.dialogToggle.off()},Object.defineProperty(n.prototype,"onAddManually",{get:function(){return this.addManuallyEvent.modifier},enumerable:!0,configurable:!0}),n.prototype.setup=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n=this,[4,this.entryPointInjector.load()];case 1:return n.entryPoint=i.sent(),this.entryPoint.canSearchUsers()?this.lifecycle.showMain():this.lifecycle.showError({name:"List User Error",message:"Cannot list users."}),[3,3];case 2:return t=i.sent(),this.lifecycle.showError(t),[3,3];case 3:return[2]}})})},n.prototype.runSearch=function(n){return __awaiter(this,void 0,void 0,function(){var r,u,f,i,t,e,o;return __generator(this,function(h){switch(h.label){case 0:n.preventDefault();this.lifecycle.showLoad();r=this.searchModel.getData();h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.entryPoint.searchUsers(r)];case 2:for(u=h.sent(),f=this.builder.createOnCallback(s),i=u.items,this.searchResultsModel.clear(),t=0;t<i.length;++t)e=i[t].data,this.searchResultsModel.appendData(e,function(n){f(n,i[t])});return this.lifecycle.showMain(),[3,4];case 3:return o=h.sent(),this.lifecycle.showError(o),[3,4];case 4:return[2]}})})},n.prototype.addFromGuid=function(n){n.preventDefault();this.addManuallyEvent.fire(this.guidForm.getData())},n}();t.UserSearchController=o;s=function(){function n(){}return n}();t.IUserResultController=s;h=function(){function n(){}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[r.BindingCollection,r.InjectControllerData]},enumerable:!0,configurable:!0}),n}();t.UserResultController=h;t.AddServices=c});define("node_modules/htmlrapier.roleclient/src/UserHypermediaCrudShim",["require","exports","node_modules/htmlrapier.widgets/src/PageNumberWidget","node_modules/htmlrapier.widgets/src/CrudPage"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(n){function t(t){var i=n.call(this)||this;return i.entry=t,i}return __extends(t,n),t.prototype.getItemSchema=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.entry.load()];case 1:return n=i.sent(),[4,this.getActualSchema(n)];case 2:return t=i.sent(),[2,t.requestSchema]}})})},t.prototype.getListingSchema=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,undefined]})})},t.prototype.getSearchSchema=function(){return __awaiter(this,void 0,void 0,function(){var n,t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.entry.load()];case 1:return n=i.sent(),[4,this.getActualSearchSchema(n)];case 2:return t=i.sent(),[2,t.requestSchema]}})})},t.prototype.add=function(n){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(){return n===undefined&&(n={}),this.fireShowItemEditorEvent(new r.ShowItemEditorEventArgs(n,function(n){return t.finishAdd(n)})),[2]})})},t.prototype.finishAdd=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.entry.load()];case 1:return t=i.sent(),[4,this.commitAdd(t,n)];case 2:return i.sent(),this.refreshPage(),[2]}})})},t.prototype.canAdd=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return[4,this.entry.load()];case 1:return n=t.sent(),[2,this.canAddItem(n)]}})})},t.prototype.edit=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(){return t=this.getEditObject(n),this.editData(n,t),[2]})})},t.prototype.editData=function(n,t){var i=this;this.fireShowItemEditorEvent(new r.ShowItemEditorEventArgs(t,function(t){return i.finishEdit(t,n)}))},t.prototype.getEditObject=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,n.data]})})},t.prototype.finishEdit=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,this.commitEdit(n,t)];case 1:return i.sent(),this.refreshPage(),[2]}})})},t.prototype.del=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.commitDelete(n)];case 1:return t.sent(),this.refreshPage(),[2]}})})},t.prototype.getPage=function(n){var t=this.getPageAsync(n);return this.fireDataLoadingEvent(new r.DataLoadingEventArgs(t)),t},t.prototype.getPageAsync=function(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:return[4,this.entry.load()];case 1:return(t=r.sent(),!this.canList(t))?[3,3]:(i=this,[4,this.list(t,n)]);case 2:return i.currentPage=r.sent(),[2,this.currentPage];case 3:throw new Error("No permissions to list people, cannot get page.");}})})},t.prototype.firstPage=function(){this.fireDataLoadingEvent(new r.DataLoadingEventArgs(this.firstPageAsync()))},t.prototype.firstPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canFirst()?(n=this,[4,this.currentPage.first()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),[2,this.currentPage];case 2:throw new Error("Cannot visit the first page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the first page until a page has been loaded.");case 5:return[2]}})})},t.prototype.lastPage=function(){this.fireDataLoadingEvent(new r.DataLoadingEventArgs(this.lastPageAsync()))},t.prototype.lastPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canLast()?(n=this,[4,this.currentPage.last()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),[2,this.currentPage];case 2:throw new Error("Cannot visit the last page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the last page until a page has been loaded.");case 5:return[2]}})})},t.prototype.nextPage=function(){this.fireDataLoadingEvent(new r.DataLoadingEventArgs(this.nextPageAsync()))},t.prototype.nextPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canNext()?(n=this,[4,this.currentPage.next()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),[2,this.currentPage];case 2:throw new Error("Cannot visit the next page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the next page until a page has been loaded.");case 5:return[2]}})})},t.prototype.previousPage=function(){this.fireDataLoadingEvent(new r.DataLoadingEventArgs(this.previousPageAsync()))},t.prototype.previousPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canPrevious()?(n=this,[4,this.currentPage.previous()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),[2,this.currentPage];case 2:throw new Error("Cannot visit the previous page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot visit the previous page until a page has been loaded.");case 5:return[2]}})})},t.prototype.refreshPage=function(){this.fireDataLoadingEvent(new r.DataLoadingEventArgs(this.refreshPageAsync()))},t.prototype.refreshPageAsync=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return this.currentPage?this.currentPage.canRefresh()?(n=this,[4,this.currentPage.refresh()]):[3,2]:[3,4];case 1:return n.currentPage=t.sent(),[2,this.currentPage];case 2:throw new Error("Cannot refresh the page, no link found.");case 3:return[3,5];case 4:throw new Error("Cannot refresh the page until a page has been loaded.");case 5:return[2]}})})},t.prototype.getItems=function(n){return n.items},t.prototype.getListingDisplayObject=function(n){return n.data},t.prototype.getPageNumberState=function(n){return new i.HypermediaPageState(n)},t}(r.ICrudService);t.HypermediaCrudService=u});define("node_modules/htmlrapier.roleclient/src/UserCrudService",["require","exports","node_modules/htmlrapier.roleclient/src/RoleClient","node_modules/htmlrapier.widgets/src/CrudPage","hr.controller","node_modules/htmlrapier.roleclient/src/UserSearchController","node_modules/htmlrapier.roleclient/src/UserHypermediaCrudShim"],function(n,t,i,r,u,f,e){"use strict";function h(n){return n.editUserRoles!==undefined}function c(n){n.tryAddShared(f.UserSearchController,f.UserSearchController);n.tryAddTransient(f.IUserResultController,s);n.tryAddShared(r.ICrudService,o)}var o,s;Object.defineProperty(t,"__esModule",{value:!0});t.HasCrudServiceExtensions=h;o=function(n){function t(t,i){var r=n.call(this,t)||this;return r.userSearchController=i,r.entryInjector=t,r.userSearchController.onAddManually.add(function(n){r.editUserRoles(n.id,n.name)}),r}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[i.IRoleEntryInjector,f.UserSearchController]},enumerable:!0,configurable:!0}),t.prototype.getActualSchema=function(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return i.IsEntryPointResult(n)?[2,n.getSetUserDocs()]:[2]})})},t.prototype.getActualSearchSchema=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){throw new Error("getActualSearchSchema Not supported");})})},t.prototype.canAddItem=function(n){if(i.IsEntryPointResult(n))return n.canSetUser()},t.prototype.add=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this.userSearchController.show(),[2]})})},t.prototype.commitAdd=function(n,t){if(i.IsEntryPointResult(n))return n.setUser(t)},t.prototype.getEditObject=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return n.canRefresh()?[4,n.refresh()]:[3,2];case 1:return t=i.sent(),[2,t.data];case 2:return[2,n.data]}})})},t.prototype.commitEdit=function(n,t){if(i.IsRoleAssignmentsResult(t))return t.setUser(n)},t.prototype.getDeletePrompt=function(n){return"Are you sure you want to delete "+n.data.name+"?"},t.prototype.commitDelete=function(n){if(i.IsRoleAssignmentsResult(n))return n.deleteUser()},t.prototype.canList=function(n){if(i.IsEntryPointResult(n))return n.canListUsers()},t.prototype.list=function(n,t){if(i.IsEntryPointResult(n))return n.listUsers(t)},t.prototype.canEdit=function(n){if(i.IsRoleAssignmentsResult(n))return n.canSetUser()},t.prototype.canDel=function(n){if(i.IsRoleAssignmentsResult(n))return n.canDeleteUser()},t.prototype.editUserRoles=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r;return __generator(this,function(u){switch(u.label){case 0:return[4,this.entryInjector.load()];case 1:if(i=u.sent(),!i.canSetUser())throw new Error("No permission to set roles.");return[4,i.listUsers({userId:[n],name:t}).then(function(n){return n.items[0]})];case 2:return r=u.sent(),this.editData(r,Promise.resolve(r.data)),[2]}})})},t}(e.HypermediaCrudService);t.CrudService=o;s=function(){function n(n,t,i){this.data=t;this.crudService=i;this.editRolesToggle=n.getToggle("editRoles");this.setup()}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[u.BindingCollection,u.InjectControllerData,r.ICrudService]},enumerable:!0,configurable:!0}),n.prototype.setup=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return n=this.editRolesToggle,[4,this.crudService.canAdd()];case 1:return n.mode=t.sent(),[2]}})})},n.prototype.editRoles=function(n){n.preventDefault();h(this.crudService)&&this.crudService.editUserRoles(this.data.data.userId,this.data.data.firstName+" "+this.data.data.lastName)},n}();t.UserResultController=s;t.addServices=c});define("Views/Home/UserRoles",["require","exports","Client/Libs/startup","node_modules/htmlrapier.widgets/src/CrudPage","node_modules/htmlrapier.roleclient/src/UserCrudService","node_modules/htmlrapier.roleclient/src/UserSearchController"],function(n,t,i,r,u,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=i.createBuilder();r.addServices(e.Services);u.addServices(e.Services);f.AddServices(e.Services);e.create("userSearch",f.UserSearchController);e.create("search",r.CrudSearch);e.create("pageNumbers",r.CrudPageNumbers);e.create("mainTable",r.CrudTableController);e.create("entryEditor",r.CrudItemEditorController)});define("Views/Home/Users",["require","exports","Client/Libs/startup","node_modules/htmlrapier.roleclient/src/UserSearchController"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=i.createBuilder();r.AddServices(u.Services);u.create("search",r.UserSearchController)});define("hr.bootstrap.activate",["require","exports","node_modules/htmlrapier.bootstrap/src/all"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i.activate()});jsns.run("hr.bootstrap.activate");define("node_modules/htmlrapier.halcyon/src/ResultModel",["require","exports","hr.iterable","hr.typeidentifiers"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n){this.model=n}return n.prototype.setData=function(n,t,u){var e=this,f;this.model.clear();n!==undefined&&n!==null&&(Array.isArray(n)?f=new i.Iterable(n):r.isForEachable(n)?f=n:this.appendData(n,t,u),f&&f.forEach(function(n){e.appendData(n,t,u)}))},n.prototype.appendData=function(n,t,i){var u=undefined,r;t!==undefined&&(u=function(i){t(i,n)});r=undefined;i!==undefined&&(r=function(){return i(n)});this.model.appendData(n.data,u,r)},n.prototype.clear=function(){this.model.clear()},n.prototype.getData=function(){return this.model.getData()},n.prototype.getSrc=function(){return this.model.getSrc()},n.prototype.setPrototype=function(n){this.model.setPrototype(n)},n}();t.ResultModel=u});define("hr.relogin.logged-in-page",["require","exports","node_modules/htmlrapier.relogin/src/LoginPopup"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={type:i.MessageType,success:!0};parent.postMessage(JSON.stringify(r),"*")});define("node_modules/htmlrapier.widgets/src/ChildCrudTable",["require","exports","node_modules/htmlrapier.widgets/src/CrudPage","node_modules/htmlrapier.widgets/src/HypermediaCrudService"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(n,t,i){var r=this;this.crudService=n;this.injector=t;this.queryManager=i;this.resultHandlers=[];this.crudService.crudDataModifiedEvent.add(function(n){return r.crudServiceLoading(n)})}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[i.ICrudService,r.HypermediaPageInjector,i.CrudQueryManager]},enumerable:!0,configurable:!0}),n.prototype.setCurrent=function(n){this.injector.parent=n;this.crudService.getPage(this.queryManager.setupQuery());for(var t=0;t<this.resultHandlers.length;++t)this.resultHandlers[t].setCurrent(n)},n.prototype.addResultHandler=function(n){this.resultHandlers.push(n)},n.prototype.crudServiceLoading=function(n){return __awaiter(this,void 0,void 0,function(){var i,t;return __generator(this,function(r){switch(r.label){case 0:return[4,n.data];case 1:for(i=r.sent(),t=0;t<this.resultHandlers.length;++t)this.resultHandlers[t].refresh();return[2]}})})},n}();t.ChildCrudTable=u});define("node_modules/htmlrapier.widgets/src/GetSetPage",["require","exports","hr.controller","node_modules/htmlrapier.widgets/src/MainLoadErrorLifecycle","hr.form","hr.error"],function(n,t,i,r,u,f){"use strict";function a(n){n.tryAddTransient(o,o);n.tryAddTransient(s,s);n.tryAddTransient(e,l)}var h,e,o,s,c,l;Object.defineProperty(t,"__esModule",{value:!0});h=function(){function n(){this.mainErrorToggleName="mainError";this.mainErrorViewName="mainError";this.mainToggleName="main";this.loadToggleName="load";this.errorToggleName="error";this.formName="input";this.completeToggleName="complete"}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[]},enumerable:!0,configurable:!0}),n}();t.GetSetControllerOptions=h;e=function(){function n(){}return n}();t.IGetSetService=e;o=function(){function n(){}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[]},enumerable:!0,configurable:!0}),n.prototype.inputCompleted=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2]})})},n}();t.GetSetControllerExtensions=o;s=function(){function n(n,t,i,f){this.inputService=t;this.extensions=i;f===undefined&&(f=new h);var e=n.getConfig();this.keepMainFormVisible=e.keepform!=="false";this.completeToggle=n.getToggle(f.completeToggleName);this.completeToggle.off();this.form=new u.NeedsSchemaForm(n.getForm(f.formName));this.mainErrorToggle=n.getToggle(f.mainErrorToggleName);this.mainErrorView=n.getView(f.mainErrorViewName);this.lifecycle=new r.MainLoadErrorLifecycle(n.getToggle(f.mainToggleName),n.getToggle(f.loadToggleName),n.getToggle(f.errorToggleName),!0);n.setListener(this.extensions);this.setup()}return Object.defineProperty(n,"InjectorArgs",{get:function(){return[i.BindingCollection,e,o]},enumerable:!0,configurable:!0}),n.prototype.setup=function(){return __awaiter(this,void 0,void 0,function(){var n,t,i;return __generator(this,function(r){switch(r.label){case 0:this.lifecycle.showLoad();r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this.inputService.getData()];case 2:return n=r.sent(),[4,this.inputService.getSchema()];case 3:return t=r.sent(),this.form.setSchema(t),this.form.setData(n),this.lifecycle.showMain(),[3,5];case 4:return i=r.sent(),this.lifecycle.showError(i),[3,5];case 5:return[2]}})})},n.prototype.submit=function(n){return __awaiter(this,void 0,void 0,function(){var t,i;return __generator(this,function(r){switch(r.label){case 0:n.preventDefault();this.lifecycle.showLoad();this.mainErrorToggle.off();this.completeToggle.off();r.label=1;case 1:return r.trys.push([1,7,,8]),t=this.form.getData()||{},[4,this.inputService.setData(t)];case 2:return r.sent(),[4,this.extensions.inputCompleted(t,this)];case 3:return(r.sent(),!this.keepMainFormVisible)?[3,5]:[4,this.inputService.getData()];case 4:return t=r.sent(),this.form.setData(t),this.lifecycle.showMain(),this.completeToggle.on(),[3,6];case 5:this.lifecycle.showOther(this.completeToggle);r.label=6;case 6:return[3,8];case 7:return i=r.sent(),f.isFormErrors(i)?(this.form.setError(i),this.lifecycle.showMain(),this.mainErrorView.setData(i),this.mainErrorToggle.on()):this.lifecycle.showError(i),[3,8];case 8:return[2]}})})},n}();t.GetSetController=s;c=function(){function n(){}return n}();t.HypermediaGetSetInjector=c;l=function(n){function t(t){var i=n.call(this)||this;return i.injector=t,i.current=null,i}return __extends(t,n),Object.defineProperty(t,"InjectorArgs",{get:function(){return[c]},enumerable:!0,configurable:!0}),t.prototype.getSchema=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return(this.current!==null)?[4,this.current.getSetDocs()]:[3,2];case 1:return[2,n.sent().requestSchema];case 2:return[2,null]}})})},t.prototype.getData=function(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return(this.current===null)?(n=this,[4,this.injector.getStart()]):[3,2];case 1:n.current=t.sent();t.label=2;case 2:return[2,this.current.data]}})})},t.prototype.setData=function(n){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(i){switch(i.label){case 0:return t=this,[4,this.current.set(n)];case 1:return t.current=i.sent(),[2]}})})},t}(e);t.HypermediaGetSetService=l;t.AddServices=a});define("hr.cachebuster",["require","exports","hr.fetcher"],function(n,t,i){"use strict";function u(n){return n!==undefined&&n!==null&&n.url!==undefined}function r(n){var t=/([?&]noCache=)\d*/g;return t.test(n)?n=n.replace(t,"$1"+(new Date).getTime()):(n+=n.indexOf("?")>-1?"&":"?",n+="noCache="+(new Date).getTime()),n}Object.defineProperty(t,"__esModule",{value:!0});var f=function(n){function t(t){var i=n.call(this)||this;return i.next=t,i}return __extends(t,n),t.prototype.fetch=function(n,t){return t!==undefined&&t.method=="GET"&&(u(n)?n.url=r(n.url):n=r(n),t.cache="no-cache"),this.next.fetch(n,t)},t}(i.Fetcher);t.CacheBuster=f});define("hr.componentgatherer",["require","exports","hr.components","hr.ignored","hr.iterable","hr.componentbuilder"],function(n,t,i,r,u,f){"use strict";function l(n){var i,r,t,f;if(n.length>0)return i=n[n.length-1].next(),i.done?(n.pop(),l(n)):(r=i.value,t=document.createElement("div"),t.appendChild(document.importNode(r.content,!0)),f=t.getElementsByTagName("TEMPLATE"),f.length>0&&n.push(new u.Iterable(Array.prototype.slice.call(f)).iterator()),{element:r,templateElement:t})}function v(n,t){var s=n.element,h,t,l,a,b,y,u,w;if(e=o.next(),r.isIgnored(s))return t;for(h=n.templateElement;!e.done&&h.contains(e.value.element);)t=v(e.value,t);return l=h.innerHTML.trim(),h.childElementCount!==1||h.firstElementChild.tagName!=="TABLE"||s.hasAttribute("data-hr-keep-table")||(a=h.firstElementChild,l=a.childElementCount>0&&a.firstElementChild.tagName==="TBODY"?a.firstElementChild.innerHTML.trim():a.innerHTML.trim()),b=s.parentElement,b.removeChild(s),y=s.getAttribute("data-hr-variant"),u=s.getAttribute("data-hr-component"),y===null?(u===null&&(u="AnonTemplate_"+p++,b.setAttribute("data-hr-view-component",u)),w=new f.ComponentBuilder(l),c[u]=w,i.register(u,w),w):(u===null?t!==undefined?t.addVariant(y,new f.VariantBuilder(l)):console.log('Attempted to create a variant named "'+y+'" with no default component in the chain. Please start your template element chain with a data-hr-component or a anonymous template. This template has been ignored.'):c[u].addVariant(y,new f.VariantBuilder(l)),t)}var s,o,h,e,a;Object.defineProperty(t,"__esModule",{value:!0});var y="content"in document.createElement("template"),p=0,c={};for(s=new u.Iterable(Array.prototype.slice.call(document.getElementsByTagName("TEMPLATE"))),y?(h=[],h.push(s.iterator()),o=new u.Iterable(function(){return l(h)}).iterator()):o=s.select(function(n){return{element:n,templateElement:n}}).iterator(),e=o.next();!e.done;)a=v(e.value,a)});define("hr.credentialsfetcher",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n,t){this.next=t;this.accessWhitelist=n}return n.prototype.fetch=function(n,t){return this.accessWhitelist.isWhitelisted(n)&&(t===undefined&&(t={}),t.credentials="include"),this.next.fetch(n,t)},n}();t.WithCredentialsFetcher=i});define("hr.defaultform",["require","exports","hr.components","hr.componentbuilder"],function(n,t,i,r){"use strict";var u,f;Object.defineProperty(t,"__esModule",{value:!0});i.isDefined("hr.forms.default")||(u=new r.ComponentBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><input class="form-control" name="{{buildName}}" type="{{buildType}}" /><\/div><\/div>'),u.addVariant("date-time",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><input class="form-control" name="{{buildName}}" type="text" /><\/div><\/div>')),u.addVariant("date",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><input class="form-control" name="{{buildName}}" type="text" /><\/div><\/div>')),u.addVariant("textarea",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><textarea class="form-control" name="{{buildName}}" rows="{{size}}"><\/textarea><\/div><\/div>')),u.addVariant("checkbox",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="checkbox"><label><input type="checkbox" name="{{buildName}}" value="{{buildValue}}" />&nbsp;{{title}}<\/label><\/div><\/div>')),u.addVariant("hidden",new r.VariantBuilder('<input type="hidden" name="{{buildName}}" />')),u.addVariant("select",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><select class="form-control" name="{{buildName}}"/><\/div><\/div>')),u.addVariant("multiselect",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><select class="form-control" name="{{buildName}}" multiple size="{{size}}"/><\/div><\/div>')),u.addVariant("arrayEditor",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div data-hr-view="items" data-hr-view-component="hr.forms.default-arrayEditorItem"><\/div><button class="btn btn-default" data-hr-on-click="add">Add<\/button><\/div><\/div>')),i.register("hr.forms.default",u),f=new r.ComponentBuilder('<div><button data-hr-on-click="remove" class="btn btn-default" data-hr-form-end>Remove<\/button><\/div>'),i.register("hr.forms.default-arrayEditorItem",f));i.isDefined("hr.forms.horizontal")||(u=new r.ComponentBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="col-sm-2 control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div class="col-sm-10"><input class="form-control" name="{{buildName}}" type="{{buildType}}" /><\/div><\/div><\/div>'),u.addVariant("date-time",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="col-sm-2 control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div class="col-sm-10"><input class="form-control" name="{{buildName}}" type="text" /><\/div><\/div><\/div>')),u.addVariant("date",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="col-sm-2 control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div class="col-sm-10"><input class="form-control" name="{{buildName}}" type="text" /><\/div><\/div><\/div>')),u.addVariant("textarea",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="col-sm-2 control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div class="col-sm-10"><textarea class="form-control" name="{{buildName}}" rows="{{size}}"><\/textarea><\/div><\/div><\/div>')),u.addVariant("checkbox",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><div class="checkbox"><label><input type="checkbox" name="{{buildName}}" value="{{buildValue}}" />&nbsp;{{title}}<\/label><\/div><\/div><\/div><\/div>')),u.addVariant("hidden",new r.VariantBuilder('<input type="hidden" name="{{buildName}}" />')),u.addVariant("select",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="col-sm-2 control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div class="col-sm-10"><select class="form-control" name="{{buildName}}"/><\/div><\/div><\/div>')),u.addVariant("multiselect",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div class="form-group" data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="col-sm-2 control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div class="col-sm-10"><select class="form-control" name="{{buildName}}" multiple size="{{size}}"/><\/div><\/div><\/div>')),u.addVariant("arrayEditor",new r.VariantBuilder('<div data-hr-toggle="{{buildName}}Hide" data-hr-style-on="display:none;"><div data-hr-toggle="{{buildName}}Error" data-hr-class-on="has-error"><label class="control-label">{{title}}<span data-hr-view="{{buildName}}ErrorMessage" data-hr-toggle="{{buildName}}Error" data-hr-style-on="display:inline" style="display:none"> - {{{this}}}<\/span><\/label><div data-hr-view="items" data-hr-view-component="hr.forms.horizontal-arrayEditorItem"><\/div><button class="btn btn-default" data-hr-on-click="add">Add<\/button><\/div><\/div>')),i.register("hr.forms.horizontal",u),f=new r.ComponentBuilder('<div><button data-hr-on-click="remove" class="btn btn-default" data-hr-form-end>Remove<\/button><\/div>'),i.register("hr.forms.horizontal-arrayEditorItem",f))});define("hr.formbuilder",["require","exports","hr.components","hr.domquery","hr.bindingcollection","hr.eventdispatcher","hr.formhelper","hr.schema","hr.typeidentifiers","hr.expressiontree"],function(n,t,i,r,u,f,e,o,s,h){"use strict";function d(){return""}function l(n,t,f,e,o,s){var ot,k,v,d,p,g,nt,ut,a,ft,b,et;if(o===undefined&&(o=!1),e===undefined&&(e=""),s===undefined&&(s=new w),ot=f,k=r.first("[data-hr-form-end]",f),k!==null&&(ot=k.parentElement),v=[],d=t.properties,d===undefined)v.push(y(t,e,e)),s.setComplex(!1);else{s.setComplex(!0);p=e;p!==""&&(p=p+"-");for(g in d)v.push(y(d[g],g,p+g));v.sort(function(n,t){return n.buildOrder-t.buildOrder})}for(nt=0;nt<v.length;++nt){var c=v[nt],h=r.first("[name="+c.buildName+"]",f),l=null,st=!1;if(o||h===null)l=i.one(n,c,ot,k,undefined,function(n){return n.buildType}),ut=r.all("[name="+c.buildName+"]",f),h=ut.length>0?ut[ut.length-1]:null,st=!0;else if(!s.hasFormValue(c.buildName)){for(a=h;l===null&&a!==null&&a!==f;)a.hasAttribute("data-hr-input-start")?l=new u.BindingCollection(a):a=a.parentElement;l===null&&(l=new u.BindingCollection(h));st=!1}if(l!==null&&s.add(tt({bindings:l,generated:st,item:c,schema:t,inputElement:h})),it(h)&&h.setAttribute("data-hr-form-level",e),c.buildValues!==undefined&&rt(h))for(ft=0;ft<c.buildValues.length;++ft)b=c.buildValues[ft],et=document.createElement("option"),et.text=b.label,et.value=b.value!==null&&b.value!==undefined?b.value:"",h.options.add(et)}return s}function tt(n){for(var i,r,t=0;t<c.length;++t)if(i=c[t].create(n),i!==null)return i;return n.item.buildType==="arrayEditor"?(r=o.resolveRef(n.item.items,n.schema),new nt(n.item.name,n.item.buildName,n.item.title,n.bindings,r,n.generated)):new a(n)}function it(n){return n&&n.nodeName!==undefined}function rt(n){return n&&n.nodeName==="SELECT"}function ut(n){var r=[],i=n.enum,u=i,t;for(n["x-enumNames"]!==undefined&&(u=n["x-enumNames"]),t=0;t<i.length;++t)r.push({label:u[t],value:i[t]});return r}function y(n,t,i){var r=Object.create(n);if(r.buildName=i,r.name=t,r.title===undefined&&(r.title=t),r.buildOrder=n["x-ui-order"]!==undefined?n["x-ui-order"]:Number.MAX_VALUE,n["x-display-if"]!==undefined&&(r.displayExpression=new h.ExpressionTree(n["x-display-if"])),r.buildType=ft(n).toLowerCase(),n["x-values"]!==undefined?r.buildValues=n["x-values"]:n.enum!==undefined&&(r.buildValues=ut(n)),r.buildType==="array")r.buildValues!==undefined?n["x-ui-type"]==="checkbox"?r.buildType="multiselect":(r.buildType="multiselect",r.size=r.buildValues.length,r.size>15&&(r.size=15)):r.buildType="arrayEditor";else{if(n["x-ui-type"]!==undefined)r.buildType=n["x-ui-type"];else if(r.buildValues!==undefined)r.buildType="select";else switch(r.buildType){case"integer":r.buildType="number";break;case"boolean":r.buildType="checkbox";break;case"string":switch(r.format){case"date-time":r.buildType="date-time";break;default:r.buildType="text"}}switch(r.buildType){case"checkbox":r.buildValue="true";n["x-value"]!==undefined&&(r.buildValue=n["x-value"]);break;case"textarea":r.size===undefined&&(r.size=5)}}return r}function ft(n){if(Array.isArray(n.type)){for(var t=0;t<n.type.length;++t)if(n.type[t]!=="null")return n.type[t]}else if(n.type)return n.type;return"string"}function et(n){c.push(n)}var v,c;Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function n(n){this.formValues=n}return n.prototype.getValue=function(n){var t=this.formValues.getFormValue(n);return t!==undefined?t.getData():undefined},n}(),w=function(){function n(){this.values=[];this.fireChangesToValues=!1;this.changedEventHandler=new f.ActionEventDispatcher;this.complexValues=!0;this.valueSource=new p(this)}return n.prototype.add=function(n){var t=this;this.values.push(n);n.isChangeTrigger&&n.onChanged.add(function(){return t.fireDataChanged()});n.respondsToChanges&&(this.fireChangesToValues=!0)},n.prototype.setError=function(n,t){t===undefined&&(t="");for(var i=0;i<this.values.length;++i)this.values[i].setError(n,t)},n.prototype.setData=function(n){for(var i,t,u=e.getDataType(n),r=0;r<this.values.length;++r){if(i=this.values[r],t=undefined,this.complexValues&&n!==null)switch(u){case e.DataType.Object:t=n[i.getDataName()];break;case e.DataType.Function:t=n(i.getDataName())}else u!==e.DataType.Function&&(t=n);i.setData(t)}},n.prototype.recoverData=function(n){var i,t,r,u;if(this.complexValues){for(i=Object.create(n||null),t=0;t<this.values.length;++t)r=this.values[t],u=r.getData(),e.shouldAddValue(u)&&(i[r.getDataName()]=u);return i}return this.values.length>0?this.values[0].getData():undefined},n.prototype.changeSchema=function(n,t,i){for(var u=[],r=0;r<this.values.length;++r)this.values[r].delete()||u.push(this.values[r]);this.values=u;l(n,t,i,undefined,undefined,this)},n.prototype.hasFormValue=function(n){for(var t=0;t<this.values.length;++t)if(this.values[t].getBuildName()===n)return!0;return!1},n.prototype.getFormValue=function(n){for(var t=0;t<this.values.length;++t)if(this.values[t].getBuildName()===n)return this.values[t];return undefined},Object.defineProperty(n.prototype,"onChanged",{get:function(){return this.changedEventHandler.modifier},enumerable:!0,configurable:!0}),n.prototype.fireDataChanged=function(){if(this.fireChangesToValues)for(var n=0;n<this.values.length;++n)this.values[n].handleChange(this.valueSource);this.changedEventHandler.fire(this)},n.prototype.setComplex=function(n){this.complexValues=n},n}(),b=2147483647,k=function(){function n(){this.num=0;this.base=""}return n.prototype.getNext=function(){return++this.num,this.num===b&&(this.base+="b",this.num=0),this.base+this.num},n}();var g=function(){function n(n,t,i){this.bindings=n;this.name=i;this.removed=new f.ActionEventDispatcher;this.root=this.bindings.rootElement;var r=this.bindings.getHandle("item");r!==null&&(this.root=r);this.formValues=l("hr.forms.default",t,this.root,this.name,!0);n.setListener(this)}return Object.defineProperty(n.prototype,"onRemoved",{get:function(){return this.removed.modifier},enumerable:!0,configurable:!0}),n.prototype.remove=function(n){n&&n.preventDefault();this.setError(e.getSharedClearingValidator(),"");this.pooled=this.bindings.pool();this.setData(d);this.removed.fire(this)},n.prototype.restore=function(){this.pooled&&this.pooled.restore(null)},n.prototype.setError=function(n,t){this.formValues.setError(n,t)},n.prototype.getData=function(){var n=this.formValues.recoverData(null),t;if(s.isObject(n)){for(t in n)return n;return null}return n},n.prototype.setData=function(n){this.formValues.setData(n);this.setError(e.getSharedClearingValidator(),"")},n}(),nt=function(){function n(n,t,i,r,u,f){this.name=n;this.buildName=t;this.bindings=r;this.schema=u;this.generated=f;this.pooledRows=[];this.rows=[];this.indexGen=new k;this.itemsView=r.getView("items");r.setListener(this);this.schema.title===undefined&&(this.schema=Object.create(this.schema),this.schema.title=i!==undefined?i+" Item":"Item");this.errorToggle=this.bindings.getToggle(this.buildName+"Error");this.errorMessage=this.bindings.getView(this.buildName+"ErrorMessage")}return n.prototype.setError=function(n,t){for(var u,r,i=0;i<this.rows.length;++i)u=n.addIndex(t,this.name,i),this.rows[i].setError(n,u);r=n.addKey(t,this.name);n.hasValidationError(r)?(this.errorToggle.on(),this.errorMessage.setData(n.getValidationError(r))):(this.errorToggle.off(),this.errorMessage.setData(""))},n.prototype.add=function(n){n.preventDefault();this.addRow()},n.prototype.addRow=function(){var n=this,t;this.pooledRows.length==0?this.itemsView.appendData(this.schema,function(t,i){var r=new g(t,i,n.buildName+"-"+n.indexGen.getNext());r.onRemoved.add(function(t){n.rows.splice(n.rows.indexOf(t),1);n.pooledRows.push(t)});n.rows.push(r)}):(t=this.pooledRows.pop(),t.restore(),this.rows.push(t))},n.prototype.getData=function(){for(var n=[],t=0;t<this.rows.length;++t)n.push(this.rows[t].getData());return n.length>0?n:undefined},n.prototype.setData=function(n){var t=0;if(n)for(s.isArray(n)||(n=[n]);t<n.length;++t)t>=this.rows.length&&this.addRow(),this.rows[t].setData(n[t]);for(;t<this.rows.length;)this.rows[t].remove()},n.prototype.getBuildName=function(){return this.buildName},n.prototype.getDataName=function(){return this.name},n.prototype.delete=function(){return this.generated&&this.bindings.remove(),this.generated},Object.defineProperty(n.prototype,"isChangeTrigger",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onChanged",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"respondsToChanges",{get:function(){return!1},enumerable:!0,configurable:!0}),n.prototype.handleChange=function(){},n}(),a=function(){function n(n){this.changedEventHandler=null;this.name=n.item.name;this.buildName=n.item.buildName;this.bindings=n.bindings;this.generated=n.generated;this.element=n.inputElement;this.displayExpression=n.item.displayExpression;(n.item["x-ui-disabled"]===!0||n.item.readOnly===!0)&&this.element.setAttribute("disabled","");var t=this;this.changedEventHandler=new f.ActionEventDispatcher;this.element.addEventListener("change",function(){t.changedEventHandler.fire(t)});this.errorToggle=this.bindings.getToggle(this.buildName+"Error");this.errorMessage=this.bindings.getView(this.buildName+"ErrorMessage");this.hideToggle=this.bindings.getToggle(this.buildName+"Hide")}return n.prototype.setError=function(n,t){var i=n.addKey(t,this.name);n.hasValidationError(i)?(this.errorToggle.on(),this.errorMessage.setData(n.getValidationError(i))):(this.errorToggle.off(),this.errorMessage.setData(""))},n.prototype.getData=function(){return e.readValue(this.element)},n.prototype.setData=function(n){this.doSetValue(n);this.setError(e.getSharedClearingValidator(),"")},n.prototype.doSetValue=function(n){e.setValue(this.element,n)},n.prototype.getBuildName=function(){return this.buildName},n.prototype.getDataName=function(){return this.name},n.prototype.delete=function(){return this.generated&&this.bindings.remove(),this.generated},Object.defineProperty(n.prototype,"isChangeTrigger",{get:function(){return this.changedEventHandler!==null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onChanged",{get:function(){return this.changedEventHandler!==null?this.changedEventHandler.modifier:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"respondsToChanges",{get:function(){return this.displayExpression!==undefined},enumerable:!0,configurable:!0}),n.prototype.handleChange=function(n){this.displayExpression&&(this.displayExpression.isTrue(n)?this.hideToggle.off():this.hideToggle.on())},n}();t.BasicItemEditor=a;v=function(){function n(){}return n}();t.IFormValueBuilderArgs=v;c=[];t.registerFormValueBuilder=et;e.setBuildFormFunc(l)});define("hr.observablelist",["require","exports","hr.eventdispatcher","hr.iterable"],function(n,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function n(){this.items=[];this.itemAddedEvent=new i.ActionEventDispatcher;this.itemRemovedEvent=new i.ActionEventDispatcher}return n.prototype.add=function(n){this.items.push(n);this.itemAddedEvent.fire(n)},n.prototype.remove=function(n){var t=this.items.indexOf(n),i;t!==-1&&(i=this.items.splice(t,1),this.itemRemovedEvent.fire(i[0]))},n.prototype.clear=function(n){if(n===void 0&&(n=!0),n)for(var t=0;t<this.items.length;++t)this.itemRemovedEvent.fire(this.items[t]);this.items=[]},Object.defineProperty(n.prototype,"itemAdded",{get:function(){return this.itemAddedEvent.modifier},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemRemoved",{get:function(){return this.itemRemovedEvent.modifier},enumerable:!0,configurable:!0}),n.prototype.getItem=function(n){return this.items[n]},Object.defineProperty(n.prototype,"count",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"iter",{get:function(){return new r.Iterable(this.items)},enumerable:!0,configurable:!0}),n}();t.ObservableList=u});define("hr.runattributes",["require","exports"],function(n,t){"use strict";var r,i,f,u;for(Object.defineProperty(t,"__esModule",{value:!0}),r=document.querySelectorAll("[data-hr-run]"),i=0;i<r.length;++i)f=r[i],u=f.getAttribute("data-hr-run"),u&&jsns.run(u);t.ran=!0});jsns.run("hr.formbuilder");jsns.run("hr.componentgatherer");jsns.run("hr.defaultform");define("hr.timedtrigger",["require","exports","hr.eventdispatcher"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n){this.handler=new i.ActionEventDispatcher;n===undefined&&(n=400);this.delay=n}return n.prototype.setDelay=function(n){this.delay=n},n.prototype.cancel=function(){clearTimeout(this.holder);this.args=undefined},n.prototype.fire=function(n){var t=this;this.cancel();this.holder=window.setTimeout(function(){return t.fireHandler()},this.delay);this.args=n},n.prototype.addListener=function(n){this.handler.add(n)},n.prototype.removeListener=function(n){this.handler.remove(n)},n.prototype.fireHandler=function(){this.handler.fire(this.args)},n}();t.TimedTrigger=r});